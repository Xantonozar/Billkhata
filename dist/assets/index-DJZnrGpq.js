(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))d(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&d(h)}).observe(document,{childList:!0,subtree:!0});function c(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function d(u){if(u.ep)return;u.ep=!0;const f=c(u);fetch(u.href,f)}})();function wf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bc={exports:{}},Ps={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm;function Rg(){if(Xm)return Ps;Xm=1;var n=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function c(d,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var p in u)p!=="key"&&(f[p]=u[p])}else f=u;return u=f.ref,{$$typeof:n,type:d,key:h,ref:u!==void 0?u:null,props:f}}return Ps.Fragment=o,Ps.jsx=c,Ps.jsxs=c,Ps}var Qm;function Bg(){return Qm||(Qm=1,bc.exports=Rg()),bc.exports}var l=Bg(),yc={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function zg(){if(Fm)return ge;Fm=1;var n=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),N=Symbol.iterator;function A(C){return C===null||typeof C!="object"?null:(C=N&&C[N]||C["@@iterator"],typeof C=="function"?C:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function T(C,q,_){this.props=C,this.context=q,this.refs=w,this.updater=_||v}T.prototype.isReactComponent={},T.prototype.setState=function(C,q){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,q,"setState")},T.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function U(){}U.prototype=T.prototype;function G(C,q,_){this.props=C,this.context=q,this.refs=w,this.updater=_||v}var ae=G.prototype=new U;ae.constructor=G,S(ae,T.prototype),ae.isPureReactComponent=!0;var J=Array.isArray;function P(){}var ee={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function X(C,q,_){var K=_.ref;return{$$typeof:n,type:C,key:q,ref:K!==void 0?K:null,props:_}}function se(C,q){return X(C.type,q,C.props)}function H(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function re(C){var q={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(_){return q[_]})}var oe=/\/+/g;function W(C,q){return typeof C=="object"&&C!==null&&C.key!=null?re(""+C.key):q.toString(36)}function ie(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(P,P):(C.status="pending",C.then(function(q){C.status==="pending"&&(C.status="fulfilled",C.value=q)},function(q){C.status==="pending"&&(C.status="rejected",C.reason=q)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function E(C,q,_,K,z){var le=typeof C;(le==="undefined"||le==="boolean")&&(C=null);var je=!1;if(C===null)je=!0;else switch(le){case"bigint":case"string":case"number":je=!0;break;case"object":switch(C.$$typeof){case n:case o:je=!0;break;case y:return je=C._init,E(je(C._payload),q,_,K,z)}}if(je)return z=z(C),je=K===""?"."+W(C,0):K,J(z)?(_="",je!=null&&(_=je.replace(oe,"$&/")+"/"),E(z,q,_,"",function(Za){return Za})):z!=null&&(H(z)&&(z=se(z,_+(z.key==null||C&&C.key===z.key?"":(""+z.key).replace(oe,"$&/")+"/")+je)),q.push(z)),1;je=0;var Ge=K===""?".":K+":";if(J(C))for(var Re=0;Re<C.length;Re++)K=C[Re],le=Ge+W(K,Re),je+=E(K,q,_,le,z);else if(Re=A(C),typeof Re=="function")for(C=Re.call(C),Re=0;!(K=C.next()).done;)K=K.value,le=Ge+W(K,Re++),je+=E(K,q,_,le,z);else if(le==="object"){if(typeof C.then=="function")return E(ie(C),q,_,K,z);throw q=String(C),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return je}function Y(C,q,_){if(C==null)return C;var K=[],z=0;return E(C,K,"","",function(le){return q.call(_,le,z++)}),K}function I(C){if(C._status===-1){var q=C._result;q=q(),q.then(function(_){(C._status===0||C._status===-1)&&(C._status=1,C._result=_)},function(_){(C._status===0||C._status===-1)&&(C._status=2,C._result=_)}),C._status===-1&&(C._status=0,C._result=q)}if(C._status===1)return C._result.default;throw C._result}var de=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},xe={map:Y,forEach:function(C,q,_){Y(C,function(){q.apply(this,arguments)},_)},count:function(C){var q=0;return Y(C,function(){q++}),q},toArray:function(C){return Y(C,function(q){return q})||[]},only:function(C){if(!H(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return ge.Activity=j,ge.Children=xe,ge.Component=T,ge.Fragment=c,ge.Profiler=u,ge.PureComponent=G,ge.StrictMode=d,ge.Suspense=b,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,ge.__COMPILER_RUNTIME={__proto__:null,c:function(C){return ee.H.useMemoCache(C)}},ge.cache=function(C){return function(){return C.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(C,q,_){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var K=S({},C.props),z=C.key;if(q!=null)for(le in q.key!==void 0&&(z=""+q.key),q)!ne.call(q,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&q.ref===void 0||(K[le]=q[le]);var le=arguments.length-2;if(le===1)K.children=_;else if(1<le){for(var je=Array(le),Ge=0;Ge<le;Ge++)je[Ge]=arguments[Ge+2];K.children=je}return X(C.type,z,K)},ge.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},ge.createElement=function(C,q,_){var K,z={},le=null;if(q!=null)for(K in q.key!==void 0&&(le=""+q.key),q)ne.call(q,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(z[K]=q[K]);var je=arguments.length-2;if(je===1)z.children=_;else if(1<je){for(var Ge=Array(je),Re=0;Re<je;Re++)Ge[Re]=arguments[Re+2];z.children=Ge}if(C&&C.defaultProps)for(K in je=C.defaultProps,je)z[K]===void 0&&(z[K]=je[K]);return X(C,le,z)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(C){return{$$typeof:p,render:C}},ge.isValidElement=H,ge.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:I}},ge.memo=function(C,q){return{$$typeof:g,type:C,compare:q===void 0?null:q}},ge.startTransition=function(C){var q=ee.T,_={};ee.T=_;try{var K=C(),z=ee.S;z!==null&&z(_,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(P,de)}catch(le){de(le)}finally{q!==null&&_.types!==null&&(q.types=_.types),ee.T=q}},ge.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},ge.use=function(C){return ee.H.use(C)},ge.useActionState=function(C,q,_){return ee.H.useActionState(C,q,_)},ge.useCallback=function(C,q){return ee.H.useCallback(C,q)},ge.useContext=function(C){return ee.H.useContext(C)},ge.useDebugValue=function(){},ge.useDeferredValue=function(C,q){return ee.H.useDeferredValue(C,q)},ge.useEffect=function(C,q){return ee.H.useEffect(C,q)},ge.useEffectEvent=function(C){return ee.H.useEffectEvent(C)},ge.useId=function(){return ee.H.useId()},ge.useImperativeHandle=function(C,q,_){return ee.H.useImperativeHandle(C,q,_)},ge.useInsertionEffect=function(C,q){return ee.H.useInsertionEffect(C,q)},ge.useLayoutEffect=function(C,q){return ee.H.useLayoutEffect(C,q)},ge.useMemo=function(C,q){return ee.H.useMemo(C,q)},ge.useOptimistic=function(C,q){return ee.H.useOptimistic(C,q)},ge.useReducer=function(C,q,_){return ee.H.useReducer(C,q,_)},ge.useRef=function(C){return ee.H.useRef(C)},ge.useState=function(C){return ee.H.useState(C)},ge.useSyncExternalStore=function(C,q,_){return ee.H.useSyncExternalStore(C,q,_)},ge.useTransition=function(){return ee.H.useTransition()},ge.version="19.2.0",ge}var Km;function Uc(){return Km||(Km=1,yc.exports=zg()),yc.exports}var k=Uc();const kf=wf(k);var vc={exports:{}},en={},jc={exports:{}},Nc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm;function Ug(){return Jm||(Jm=1,(function(n){function o(E,Y){var I=E.length;E.push(Y);e:for(;0<I;){var de=I-1>>>1,xe=E[de];if(0<u(xe,Y))E[de]=Y,E[I]=xe,I=de;else break e}}function c(E){return E.length===0?null:E[0]}function d(E){if(E.length===0)return null;var Y=E[0],I=E.pop();if(I!==Y){E[0]=I;e:for(var de=0,xe=E.length,C=xe>>>1;de<C;){var q=2*(de+1)-1,_=E[q],K=q+1,z=E[K];if(0>u(_,I))K<xe&&0>u(z,_)?(E[de]=z,E[K]=I,de=K):(E[de]=_,E[q]=I,de=q);else if(K<xe&&0>u(z,I))E[de]=z,E[K]=I,de=K;else break e}}return Y}function u(E,Y){var I=E.sortIndex-Y.sortIndex;return I!==0?I:E.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();n.unstable_now=function(){return h.now()-p}}var b=[],g=[],y=1,j=null,N=3,A=!1,v=!1,S=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function ae(E){for(var Y=c(g);Y!==null;){if(Y.callback===null)d(g);else if(Y.startTime<=E)d(g),Y.sortIndex=Y.expirationTime,o(b,Y);else break;Y=c(g)}}function J(E){if(S=!1,ae(E),!v)if(c(b)!==null)v=!0,P||(P=!0,re());else{var Y=c(g);Y!==null&&ie(J,Y.startTime-E)}}var P=!1,ee=-1,ne=5,X=-1;function se(){return w?!0:!(n.unstable_now()-X<ne)}function H(){if(w=!1,P){var E=n.unstable_now();X=E;var Y=!0;try{e:{v=!1,S&&(S=!1,U(ee),ee=-1),A=!0;var I=N;try{t:{for(ae(E),j=c(b);j!==null&&!(j.expirationTime>E&&se());){var de=j.callback;if(typeof de=="function"){j.callback=null,N=j.priorityLevel;var xe=de(j.expirationTime<=E);if(E=n.unstable_now(),typeof xe=="function"){j.callback=xe,ae(E),Y=!0;break t}j===c(b)&&d(b),ae(E)}else d(b);j=c(b)}if(j!==null)Y=!0;else{var C=c(g);C!==null&&ie(J,C.startTime-E),Y=!1}}break e}finally{j=null,N=I,A=!1}Y=void 0}}finally{Y?re():P=!1}}}var re;if(typeof G=="function")re=function(){G(H)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,W=oe.port2;oe.port1.onmessage=H,re=function(){W.postMessage(null)}}else re=function(){T(H,0)};function ie(E,Y){ee=T(function(){E(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(E){E.callback=null},n.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<E?Math.floor(1e3/E):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(E){switch(N){case 1:case 2:case 3:var Y=3;break;default:Y=N}var I=N;N=Y;try{return E()}finally{N=I}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(E,Y){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var I=N;N=E;try{return Y()}finally{N=I}},n.unstable_scheduleCallback=function(E,Y,I){var de=n.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?de+I:de):I=de,E){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=I+xe,E={id:y++,callback:Y,priorityLevel:E,startTime:I,expirationTime:xe,sortIndex:-1},I>de?(E.sortIndex=I,o(g,E),c(b)===null&&E===c(g)&&(S?(U(ee),ee=-1):S=!0,ie(J,I-de))):(E.sortIndex=xe,o(b,E),v||A||(v=!0,P||(P=!0,re()))),E},n.unstable_shouldYield=se,n.unstable_wrapCallback=function(E){var Y=N;return function(){var I=N;N=Y;try{return E.apply(this,arguments)}finally{N=I}}}})(Nc)),Nc}var $m;function _g(){return $m||($m=1,jc.exports=Ug()),jc.exports}var wc={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function Lg(){if(Im)return ot;Im=1;var n=Uc();function o(b){var g="https://react.dev/errors/"+b;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+b+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(){}var d={d:{f:c,r:function(){throw Error(o(522))},D:c,C:c,L:c,m:c,X:c,S:c,M:c},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(b,g,y){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:j==null?null:""+j,children:b,containerInfo:g,implementation:y}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(b,g){if(b==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,ot.createPortal=function(b,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(o(299));return f(b,g,null,y)},ot.flushSync=function(b){var g=h.T,y=d.p;try{if(h.T=null,d.p=2,b)return b()}finally{h.T=g,d.p=y,d.d.f()}},ot.preconnect=function(b,g){typeof b=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,d.d.C(b,g))},ot.prefetchDNS=function(b){typeof b=="string"&&d.d.D(b)},ot.preinit=function(b,g){if(typeof b=="string"&&g&&typeof g.as=="string"){var y=g.as,j=p(y,g.crossOrigin),N=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?d.d.S(b,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:j,integrity:N,fetchPriority:A}):y==="script"&&d.d.X(b,{crossOrigin:j,integrity:N,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ot.preinitModule=function(b,g){if(typeof b=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=p(g.as,g.crossOrigin);d.d.M(b,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&d.d.M(b)},ot.preload=function(b,g){if(typeof b=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,j=p(y,g.crossOrigin);d.d.L(b,y,{crossOrigin:j,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ot.preloadModule=function(b,g){if(typeof b=="string")if(g){var y=p(g.as,g.crossOrigin);d.d.m(b,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else d.d.m(b)},ot.requestFormReset=function(b){d.d.r(b)},ot.unstable_batchedUpdates=function(b,g){return b(g)},ot.useFormState=function(b,g,y){return h.H.useFormState(b,g,y)},ot.useFormStatus=function(){return h.H.useHostTransitionStatus()},ot.version="19.2.0",ot}var Wm;function Hg(){if(Wm)return wc.exports;Wm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(o){console.error(o)}}return n(),wc.exports=Lg(),wc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm;function qg(){if(Pm)return en;Pm=1;var n=_g(),o=Uc(),c=Hg();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(f(e)!==e)throw Error(d(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(d(188));return t!==e?null:e}for(var a=e,s=t;;){var r=a.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){a=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===a)return b(r),e;if(i===s)return b(r),t;i=i.sibling}throw Error(d(188))}if(a.return!==s.return)a=r,s=i;else{for(var m=!1,x=r.child;x;){if(x===a){m=!0,a=r,s=i;break}if(x===s){m=!0,s=r,a=i;break}x=x.sibling}if(!m){for(x=i.child;x;){if(x===a){m=!0,a=i,s=r;break}if(x===s){m=!0,s=i,a=r;break}x=x.sibling}if(!m)throw Error(d(189))}}if(a.alternate!==s)throw Error(d(190))}if(a.tag!==3)throw Error(d(188));return a.stateNode.current===a?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var j=Object.assign,N=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),G=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function re(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Symbol.for("react.client.reference");function W(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===oe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case J:return"Suspense";case P:return"SuspenseList";case X:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case v:return"Portal";case G:return e.displayName||"Context";case U:return(e._context.displayName||"Context")+".Consumer";case ae:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return t=e.displayName||null,t!==null?t:W(e.type)||"Memo";case ne:t=e._payload,e=e._init;try{return W(e(t))}catch{}}return null}var ie=Array.isArray,E=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},de=[],xe=-1;function C(e){return{current:e}}function q(e){0>xe||(e.current=de[xe],de[xe]=null,xe--)}function _(e,t){xe++,de[xe]=e.current,e.current=t}var K=C(null),z=C(null),le=C(null),je=C(null);function Ge(e,t){switch(_(le,t),_(z,e),_(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?hm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=hm(t),e=xm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(K),_(K,e)}function Re(){q(K),q(z),q(le)}function Za(e){e.memoizedState!==null&&_(je,e);var t=K.current,a=xm(t,e.type);t!==a&&(_(z,e),_(K,a))}function gn(e){z.current===e&&(q(K),q(z)),je.current===e&&(q(je),Js._currentValue=I)}var Pr,Zc;function Xa(e){if(Pr===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Pr=t&&t[1]||"",Zc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pr+e+Zc}var ei=!1;function ti(e,t){if(!e||ei)return"";ei=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(Z){var L=Z}Reflect.construct(e,[],$)}else{try{$.call()}catch(Z){L=Z}e.call($.prototype)}}else{try{throw Error()}catch(Z){L=Z}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(Z){if(Z&&L&&typeof Z.stack=="string")return[Z.stack,L.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),m=i[0],x=i[1];if(m&&x){var M=m.split(`
`),B=x.split(`
`);for(r=s=0;s<M.length&&!M[s].includes("DetermineComponentFrameRoot");)s++;for(;r<B.length&&!B[r].includes("DetermineComponentFrameRoot");)r++;if(s===M.length||r===B.length)for(s=M.length-1,r=B.length-1;1<=s&&0<=r&&M[s]!==B[r];)r--;for(;1<=s&&0<=r;s--,r--)if(M[s]!==B[r]){if(s!==1||r!==1)do if(s--,r--,0>r||M[s]!==B[r]){var Q=`
`+M[s].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=s&&0<=r);break}}}finally{ei=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Xa(a):""}function dh(e,t){switch(e.tag){case 26:case 27:case 5:return Xa(e.type);case 16:return Xa("Lazy");case 13:return e.child!==t&&t!==null?Xa("Suspense Fallback"):Xa("Suspense");case 19:return Xa("SuspenseList");case 0:case 15:return ti(e.type,!1);case 11:return ti(e.type.render,!1);case 1:return ti(e.type,!0);case 31:return Xa("Activity");default:return""}}function Xc(e){try{var t="",a=null;do t+=dh(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var ai=Object.prototype.hasOwnProperty,li=n.unstable_scheduleCallback,si=n.unstable_cancelCallback,uh=n.unstable_shouldYield,mh=n.unstable_requestPaint,jt=n.unstable_now,fh=n.unstable_getCurrentPriorityLevel,Qc=n.unstable_ImmediatePriority,Fc=n.unstable_UserBlockingPriority,pn=n.unstable_NormalPriority,hh=n.unstable_LowPriority,Kc=n.unstable_IdlePriority,xh=n.log,gh=n.unstable_setDisableYieldValue,is=null,Nt=null;function pa(e){if(typeof xh=="function"&&gh(e),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(is,e)}catch{}}var wt=Math.clz32?Math.clz32:yh,ph=Math.log,bh=Math.LN2;function yh(e){return e>>>=0,e===0?32:31-(ph(e)/bh|0)|0}var bn=256,yn=262144,vn=4194304;function Qa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function jn(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var r=0,i=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var x=s&134217727;return x!==0?(s=x&~i,s!==0?r=Qa(s):(m&=x,m!==0?r=Qa(m):a||(a=x&~e,a!==0&&(r=Qa(a))))):(x=s&~i,x!==0?r=Qa(x):m!==0?r=Qa(m):a||(a=s&~e,a!==0&&(r=Qa(a)))),r===0?0:t!==0&&t!==r&&(t&i)===0&&(i=r&-r,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:r}function os(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function vh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jc(){var e=vn;return vn<<=1,(vn&62914560)===0&&(vn=4194304),e}function ni(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function cs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jh(e,t,a,s,r,i){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var x=e.entanglements,M=e.expirationTimes,B=e.hiddenUpdates;for(a=m&~a;0<a;){var Q=31-wt(a),$=1<<Q;x[Q]=0,M[Q]=-1;var L=B[Q];if(L!==null)for(B[Q]=null,Q=0;Q<L.length;Q++){var Z=L[Q];Z!==null&&(Z.lane&=-536870913)}a&=~$}s!==0&&$c(e,s,0),i!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=i&~(m&~t))}function $c(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-wt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function Ic(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-wt(a),r=1<<s;r&t|e[s]&t&&(e[s]|=t),a&=~r}}function Wc(e,t){var a=t&-t;return a=(a&42)!==0?1:ri(a),(a&(e.suspendedLanes|t))!==0?0:a}function ri(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ii(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Pc(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Lm(e.type))}function ed(e,t){var a=Y.p;try{return Y.p=e,t()}finally{Y.p=a}}var ba=Math.random().toString(36).slice(2),at="__reactFiber$"+ba,mt="__reactProps$"+ba,hl="__reactContainer$"+ba,oi="__reactEvents$"+ba,Nh="__reactListeners$"+ba,wh="__reactHandles$"+ba,td="__reactResources$"+ba,ds="__reactMarker$"+ba;function ci(e){delete e[at],delete e[mt],delete e[oi],delete e[Nh],delete e[wh]}function xl(e){var t=e[at];if(t)return t;for(var a=e.parentNode;a;){if(t=a[hl]||a[at]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Nm(e);e!==null;){if(a=e[at])return a;e=Nm(e)}return t}e=a,a=e.parentNode}return null}function gl(e){if(e=e[at]||e[hl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function us(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function pl(e){var t=e[td];return t||(t=e[td]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[ds]=!0}var ad=new Set,ld={};function Fa(e,t){bl(e,t),bl(e+"Capture",t)}function bl(e,t){for(ld[e]=t,e=0;e<t.length;e++)ad.add(t[e])}var kh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sd={},nd={};function Sh(e){return ai.call(nd,e)?!0:ai.call(sd,e)?!1:kh.test(e)?nd[e]=!0:(sd[e]=!0,!1)}function Nn(e,t,a){if(Sh(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function wn(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Pt(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function Tt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mh(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(m){a=""+m,i.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function di(e){if(!e._valueTracker){var t=rd(e)?"checked":"value";e._valueTracker=Mh(e,t,""+e[t])}}function id(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=rd(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function kn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ah=/[\n"\\]/g;function Ot(e){return e.replace(Ah,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ui(e,t,a,s,r,i,m,x){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Tt(t)):e.value!==""+Tt(t)&&(e.value=""+Tt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?mi(e,m,Tt(t)):a!=null?mi(e,m,Tt(a)):s!=null&&e.removeAttribute("value"),r==null&&i!=null&&(e.defaultChecked=!!i),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Tt(x):e.removeAttribute("name")}function od(e,t,a,s,r,i,m,x){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){di(e);return}a=a!=null?""+Tt(a):"",t=t!=null?""+Tt(t):a,x||t===e.value||(e.value=t),e.defaultValue=t}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=x?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),di(e)}function mi(e,t,a){t==="number"&&kn(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function yl(e,t,a,s){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Tt(a),t=null,r=0;r<e.length;r++){if(e[r].value===a){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function cd(e,t,a){if(t!=null&&(t=""+Tt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Tt(a):""}function dd(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(d(92));if(ie(s)){if(1<s.length)throw Error(d(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Tt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),di(e)}function vl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Ch=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ud(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||Ch.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function md(e,t,a){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&a[r]!==s&&ud(e,r,s)}else for(var i in t)t.hasOwnProperty(i)&&ud(e,i,t[i])}function fi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Eh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sn(e){return Eh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ea(){}var hi=null;function xi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jl=null,Nl=null;function fd(e){var t=gl(e);if(t&&(e=t.stateNode)){var a=e[mt]||null;e:switch(e=t.stateNode,t.type){case"input":if(ui(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ot(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var r=s[mt]||null;if(!r)throw Error(d(90));ui(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&id(s)}break e;case"textarea":cd(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&yl(e,!!a.multiple,t,!1)}}}var gi=!1;function hd(e,t,a){if(gi)return e(t,a);gi=!0;try{var s=e(t);return s}finally{if(gi=!1,(jl!==null||Nl!==null)&&(mr(),jl&&(t=jl,e=Nl,Nl=jl=null,fd(t),e)))for(t=0;t<e.length;t++)fd(e[t])}}function ms(e,t){var a=e.stateNode;if(a===null)return null;var s=a[mt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(d(231,t,typeof a));return a}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pi=!1;if(ta)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){pi=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{pi=!1}var ya=null,bi=null,Mn=null;function xd(){if(Mn)return Mn;var e,t=bi,a=t.length,s,r="value"in ya?ya.value:ya.textContent,i=r.length;for(e=0;e<a&&t[e]===r[e];e++);var m=a-e;for(s=1;s<=m&&t[a-s]===r[i-s];s++);return Mn=r.slice(e,1<s?1-s:void 0)}function An(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cn(){return!0}function gd(){return!1}function ft(e){function t(a,s,r,i,m){this._reactName=a,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=m,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(a=e[x],this[x]=a?a(i):i[x]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cn:gd,this.isPropagationStopped=gd,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Cn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Cn)},persist:function(){},isPersistent:Cn}),t}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dn=ft(Ka),hs=j({},Ka,{view:0,detail:0}),Th=ft(hs),yi,vi,xs,En=j({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ni,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xs&&(xs&&e.type==="mousemove"?(yi=e.screenX-xs.screenX,vi=e.screenY-xs.screenY):vi=yi=0,xs=e),yi)},movementY:function(e){return"movementY"in e?e.movementY:vi}}),pd=ft(En),Oh=j({},En,{dataTransfer:0}),Rh=ft(Oh),Bh=j({},hs,{relatedTarget:0}),ji=ft(Bh),zh=j({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),Uh=ft(zh),_h=j({},Ka,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lh=ft(_h),Hh=j({},Ka,{data:0}),bd=ft(Hh),qh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gh[e])?!!t[e]:!1}function Ni(){return Vh}var Zh=j({},hs,{key:function(e){if(e.key){var t=qh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=An(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ni,charCode:function(e){return e.type==="keypress"?An(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?An(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xh=ft(Zh),Qh=j({},En,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yd=ft(Qh),Fh=j({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ni}),Kh=ft(Fh),Jh=j({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),$h=ft(Jh),Ih=j({},En,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wh=ft(Ih),Ph=j({},Ka,{newState:0,oldState:0}),ex=ft(Ph),tx=[9,13,27,32],wi=ta&&"CompositionEvent"in window,gs=null;ta&&"documentMode"in document&&(gs=document.documentMode);var ax=ta&&"TextEvent"in window&&!gs,vd=ta&&(!wi||gs&&8<gs&&11>=gs),jd=" ",Nd=!1;function wd(e,t){switch(e){case"keyup":return tx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wl=!1;function lx(e,t){switch(e){case"compositionend":return kd(t);case"keypress":return t.which!==32?null:(Nd=!0,jd);case"textInput":return e=t.data,e===jd&&Nd?null:e;default:return null}}function sx(e,t){if(wl)return e==="compositionend"||!wi&&wd(e,t)?(e=xd(),Mn=bi=ya=null,wl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vd&&t.locale!=="ko"?null:t.data;default:return null}}var nx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nx[e.type]:t==="textarea"}function Md(e,t,a,s){jl?Nl?Nl.push(s):Nl=[s]:jl=s,t=yr(t,"onChange"),0<t.length&&(a=new Dn("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var ps=null,bs=null;function rx(e){om(e,0)}function Tn(e){var t=us(e);if(id(t))return e}function Ad(e,t){if(e==="change")return t}var Cd=!1;if(ta){var ki;if(ta){var Si="oninput"in document;if(!Si){var Dd=document.createElement("div");Dd.setAttribute("oninput","return;"),Si=typeof Dd.oninput=="function"}ki=Si}else ki=!1;Cd=ki&&(!document.documentMode||9<document.documentMode)}function Ed(){ps&&(ps.detachEvent("onpropertychange",Td),bs=ps=null)}function Td(e){if(e.propertyName==="value"&&Tn(bs)){var t=[];Md(t,bs,e,xi(e)),hd(rx,t)}}function ix(e,t,a){e==="focusin"?(Ed(),ps=t,bs=a,ps.attachEvent("onpropertychange",Td)):e==="focusout"&&Ed()}function ox(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tn(bs)}function cx(e,t){if(e==="click")return Tn(t)}function dx(e,t){if(e==="input"||e==="change")return Tn(t)}function ux(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:ux;function ys(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var r=a[s];if(!ai.call(t,r)||!kt(e[r],t[r]))return!1}return!0}function Od(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rd(e,t){var a=Od(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Od(a)}}function Bd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=kn(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=kn(e.document)}return t}function Mi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var mx=ta&&"documentMode"in document&&11>=document.documentMode,kl=null,Ai=null,vs=null,Ci=!1;function Ud(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ci||kl==null||kl!==kn(s)||(s=kl,"selectionStart"in s&&Mi(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),vs&&ys(vs,s)||(vs=s,s=yr(Ai,"onSelect"),0<s.length&&(t=new Dn("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=kl)))}function Ja(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Sl={animationend:Ja("Animation","AnimationEnd"),animationiteration:Ja("Animation","AnimationIteration"),animationstart:Ja("Animation","AnimationStart"),transitionrun:Ja("Transition","TransitionRun"),transitionstart:Ja("Transition","TransitionStart"),transitioncancel:Ja("Transition","TransitionCancel"),transitionend:Ja("Transition","TransitionEnd")},Di={},_d={};ta&&(_d=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function $a(e){if(Di[e])return Di[e];if(!Sl[e])return e;var t=Sl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in _d)return Di[e]=t[a];return e}var Ld=$a("animationend"),Hd=$a("animationiteration"),qd=$a("animationstart"),fx=$a("transitionrun"),hx=$a("transitionstart"),xx=$a("transitioncancel"),Yd=$a("transitionend"),Gd=new Map,Ei="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ei.push("scrollEnd");function Gt(e,t){Gd.set(e,t),Fa(t,[e])}var On=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rt=[],Ml=0,Ti=0;function Rn(){for(var e=Ml,t=Ti=Ml=0;t<e;){var a=Rt[t];Rt[t++]=null;var s=Rt[t];Rt[t++]=null;var r=Rt[t];Rt[t++]=null;var i=Rt[t];if(Rt[t++]=null,s!==null&&r!==null){var m=s.pending;m===null?r.next=r:(r.next=m.next,m.next=r),s.pending=r}i!==0&&Vd(a,r,i)}}function Bn(e,t,a,s){Rt[Ml++]=e,Rt[Ml++]=t,Rt[Ml++]=a,Rt[Ml++]=s,Ti|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Oi(e,t,a,s){return Bn(e,t,a,s),zn(e)}function Ia(e,t){return Bn(e,null,null,t),zn(e)}function Vd(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var r=!1,i=e.return;i!==null;)i.childLanes|=a,s=i.alternate,s!==null&&(s.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(r=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,r&&t!==null&&(r=31-wt(a),e=i.hiddenUpdates,s=e[r],s===null?e[r]=[t]:s.push(t),t.lane=a|536870912),i):null}function zn(e){if(50<Gs)throw Gs=0,Go=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Al={};function gx(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,a,s){return new gx(e,t,a,s)}function Ri(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aa(e,t){var a=e.alternate;return a===null?(a=St(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Zd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Un(e,t,a,s,r,i){var m=0;if(s=e,typeof e=="function")Ri(e)&&(m=1);else if(typeof e=="string")m=jg(e,a,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case X:return e=St(31,a,t,r),e.elementType=X,e.lanes=i,e;case S:return Wa(a.children,r,i,t);case w:m=8,r|=24;break;case T:return e=St(12,a,t,r|2),e.elementType=T,e.lanes=i,e;case J:return e=St(13,a,t,r),e.elementType=J,e.lanes=i,e;case P:return e=St(19,a,t,r),e.elementType=P,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:m=10;break e;case U:m=9;break e;case ae:m=11;break e;case ee:m=14;break e;case ne:m=16,s=null;break e}m=29,a=Error(d(130,e===null?"null":typeof e,"")),s=null}return t=St(m,a,t,r),t.elementType=e,t.type=s,t.lanes=i,t}function Wa(e,t,a,s){return e=St(7,e,s,t),e.lanes=a,e}function Bi(e,t,a){return e=St(6,e,null,t),e.lanes=a,e}function Xd(e){var t=St(18,null,null,0);return t.stateNode=e,t}function zi(e,t,a){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qd=new WeakMap;function Bt(e,t){if(typeof e=="object"&&e!==null){var a=Qd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Xc(t)},Qd.set(e,t),t)}return{value:e,source:t,stack:Xc(t)}}var Cl=[],Dl=0,_n=null,js=0,zt=[],Ut=0,va=null,Ft=1,Kt="";function la(e,t){Cl[Dl++]=js,Cl[Dl++]=_n,_n=e,js=t}function Fd(e,t,a){zt[Ut++]=Ft,zt[Ut++]=Kt,zt[Ut++]=va,va=e;var s=Ft;e=Kt;var r=32-wt(s)-1;s&=~(1<<r),a+=1;var i=32-wt(t)+r;if(30<i){var m=r-r%5;i=(s&(1<<m)-1).toString(32),s>>=m,r-=m,Ft=1<<32-wt(t)+r|a<<r|s,Kt=i+e}else Ft=1<<i|a<<r|s,Kt=e}function Ui(e){e.return!==null&&(la(e,1),Fd(e,1,0))}function _i(e){for(;e===_n;)_n=Cl[--Dl],Cl[Dl]=null,js=Cl[--Dl],Cl[Dl]=null;for(;e===va;)va=zt[--Ut],zt[Ut]=null,Kt=zt[--Ut],zt[Ut]=null,Ft=zt[--Ut],zt[Ut]=null}function Kd(e,t){zt[Ut++]=Ft,zt[Ut++]=Kt,zt[Ut++]=va,Ft=t.id,Kt=t.overflow,va=e}var lt=null,He=null,Ae=!1,ja=null,_t=!1,Li=Error(d(519));function Na(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ns(Bt(t,e)),Li}function Jd(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[at]=e,t[mt]=s,a){case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":case"embed":ke("load",t);break;case"video":case"audio":for(a=0;a<Zs.length;a++)ke(Zs[a],t);break;case"source":ke("error",t);break;case"img":case"image":case"link":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"input":ke("invalid",t),od(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ke("invalid",t);break;case"textarea":ke("invalid",t),dd(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||mm(t.textContent,a)?(s.popover!=null&&(ke("beforetoggle",t),ke("toggle",t)),s.onScroll!=null&&ke("scroll",t),s.onScrollEnd!=null&&ke("scrollend",t),s.onClick!=null&&(t.onclick=ea),t=!0):t=!1,t||Na(e,!0)}function $d(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 31:case 13:_t=!1;return;case 27:case 3:_t=!0;return;default:lt=lt.return}}function El(e){if(e!==lt)return!1;if(!Ae)return $d(e),Ae=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||lc(e.type,e.memoizedProps)),a=!a),a&&He&&Na(e),$d(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));He=jm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));He=jm(e)}else t===27?(t=He,Ua(e.type)?(e=oc,oc=null,He=e):He=t):He=lt?Ht(e.stateNode.nextSibling):null;return!0}function Pa(){He=lt=null,Ae=!1}function Hi(){var e=ja;return e!==null&&(pt===null?pt=e:pt.push.apply(pt,e),ja=null),e}function Ns(e){ja===null?ja=[e]:ja.push(e)}var qi=C(null),el=null,sa=null;function wa(e,t,a){_(qi,t._currentValue),t._currentValue=a}function na(e){e._currentValue=qi.current,q(qi)}function Yi(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Gi(e,t,a,s){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var i=r.dependencies;if(i!==null){var m=r.child;i=i.firstContext;e:for(;i!==null;){var x=i;i=r;for(var M=0;M<t.length;M++)if(x.context===t[M]){i.lanes|=a,x=i.alternate,x!==null&&(x.lanes|=a),Yi(i.return,a,e),s||(m=null);break e}i=x.next}}else if(r.tag===18){if(m=r.return,m===null)throw Error(d(341));m.lanes|=a,i=m.alternate,i!==null&&(i.lanes|=a),Yi(m,a,e),m=null}else m=r.child;if(m!==null)m.return=r;else for(m=r;m!==null;){if(m===e){m=null;break}if(r=m.sibling,r!==null){r.return=m.return,m=r;break}m=m.return}r=m}}function Tl(e,t,a,s){e=null;for(var r=t,i=!1;r!==null;){if(!i){if((r.flags&524288)!==0)i=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var m=r.alternate;if(m===null)throw Error(d(387));if(m=m.memoizedProps,m!==null){var x=r.type;kt(r.pendingProps.value,m.value)||(e!==null?e.push(x):e=[x])}}else if(r===je.current){if(m=r.alternate,m===null)throw Error(d(387));m.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Js):e=[Js])}r=r.return}e!==null&&Gi(t,e,a,s),t.flags|=262144}function Ln(e){for(e=e.firstContext;e!==null;){if(!kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function tl(e){el=e,sa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function st(e){return Id(el,e)}function Hn(e,t){return el===null&&tl(e),Id(e,t)}function Id(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},sa===null){if(e===null)throw Error(d(308));sa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else sa=sa.next=t;return a}var px=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},bx=n.unstable_scheduleCallback,yx=n.unstable_NormalPriority,Ke={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vi(){return{controller:new px,data:new Map,refCount:0}}function ws(e){e.refCount--,e.refCount===0&&bx(yx,function(){e.controller.abort()})}var ks=null,Zi=0,Ol=0,Rl=null;function vx(e,t){if(ks===null){var a=ks=[];Zi=0,Ol=Ko(),Rl={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Zi++,t.then(Wd,Wd),t}function Wd(){if(--Zi===0&&ks!==null){Rl!==null&&(Rl.status="fulfilled");var e=ks;ks=null,Ol=0,Rl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function jx(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(r){a.push(r)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var r=0;r<a.length;r++)(0,a[r])(t)},function(r){for(s.status="rejected",s.reason=r,r=0;r<a.length;r++)(0,a[r])(void 0)}),s}var Pd=E.S;E.S=function(e,t){U0=jt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&vx(e,t),Pd!==null&&Pd(e,t)};var al=C(null);function Xi(){var e=al.current;return e!==null?e:Le.pooledCache}function qn(e,t){t===null?_(al,al.current):_(al,t.pool)}function eu(){var e=Xi();return e===null?null:{parent:Ke._currentValue,pool:e}}var Bl=Error(d(460)),Qi=Error(d(474)),Yn=Error(d(542)),Gn={then:function(){}};function tu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function au(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ea,ea),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,su(e),e;default:if(typeof t.status=="string")t.then(ea,ea);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=s}},function(s){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,su(e),e}throw sl=t,Bl}}function ll(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(sl=a,Bl):a}}var sl=null;function lu(){if(sl===null)throw Error(d(459));var e=sl;return sl=null,e}function su(e){if(e===Bl||e===Yn)throw Error(d(483))}var zl=null,Ss=0;function Vn(e){var t=Ss;return Ss+=1,zl===null&&(zl=[]),au(zl,e,t)}function Ms(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Zn(e,t){throw t.$$typeof===N?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function nu(e){function t(O,D){if(e){var R=O.deletions;R===null?(O.deletions=[D],O.flags|=16):R.push(D)}}function a(O,D){if(!e)return null;for(;D!==null;)t(O,D),D=D.sibling;return null}function s(O){for(var D=new Map;O!==null;)O.key!==null?D.set(O.key,O):D.set(O.index,O),O=O.sibling;return D}function r(O,D){return O=aa(O,D),O.index=0,O.sibling=null,O}function i(O,D,R){return O.index=R,e?(R=O.alternate,R!==null?(R=R.index,R<D?(O.flags|=67108866,D):R):(O.flags|=67108866,D)):(O.flags|=1048576,D)}function m(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function x(O,D,R,F){return D===null||D.tag!==6?(D=Bi(R,O.mode,F),D.return=O,D):(D=r(D,R),D.return=O,D)}function M(O,D,R,F){var me=R.type;return me===S?Q(O,D,R.props.children,F,R.key):D!==null&&(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ne&&ll(me)===D.type)?(D=r(D,R.props),Ms(D,R),D.return=O,D):(D=Un(R.type,R.key,R.props,null,O.mode,F),Ms(D,R),D.return=O,D)}function B(O,D,R,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==R.containerInfo||D.stateNode.implementation!==R.implementation?(D=zi(R,O.mode,F),D.return=O,D):(D=r(D,R.children||[]),D.return=O,D)}function Q(O,D,R,F,me){return D===null||D.tag!==7?(D=Wa(R,O.mode,F,me),D.return=O,D):(D=r(D,R),D.return=O,D)}function $(O,D,R){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Bi(""+D,O.mode,R),D.return=O,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case A:return R=Un(D.type,D.key,D.props,null,O.mode,R),Ms(R,D),R.return=O,R;case v:return D=zi(D,O.mode,R),D.return=O,D;case ne:return D=ll(D),$(O,D,R)}if(ie(D)||re(D))return D=Wa(D,O.mode,R,null),D.return=O,D;if(typeof D.then=="function")return $(O,Vn(D),R);if(D.$$typeof===G)return $(O,Hn(O,D),R);Zn(O,D)}return null}function L(O,D,R,F){var me=D!==null?D.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return me!==null?null:x(O,D,""+R,F);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case A:return R.key===me?M(O,D,R,F):null;case v:return R.key===me?B(O,D,R,F):null;case ne:return R=ll(R),L(O,D,R,F)}if(ie(R)||re(R))return me!==null?null:Q(O,D,R,F,null);if(typeof R.then=="function")return L(O,D,Vn(R),F);if(R.$$typeof===G)return L(O,D,Hn(O,R),F);Zn(O,R)}return null}function Z(O,D,R,F,me){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return O=O.get(R)||null,x(D,O,""+F,me);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case A:return O=O.get(F.key===null?R:F.key)||null,M(D,O,F,me);case v:return O=O.get(F.key===null?R:F.key)||null,B(D,O,F,me);case ne:return F=ll(F),Z(O,D,R,F,me)}if(ie(F)||re(F))return O=O.get(R)||null,Q(D,O,F,me,null);if(typeof F.then=="function")return Z(O,D,R,Vn(F),me);if(F.$$typeof===G)return Z(O,D,R,Hn(D,F),me);Zn(D,F)}return null}function ce(O,D,R,F){for(var me=null,Ce=null,ue=D,Ne=D=0,Me=null;ue!==null&&Ne<R.length;Ne++){ue.index>Ne?(Me=ue,ue=null):Me=ue.sibling;var De=L(O,ue,R[Ne],F);if(De===null){ue===null&&(ue=Me);break}e&&ue&&De.alternate===null&&t(O,ue),D=i(De,D,Ne),Ce===null?me=De:Ce.sibling=De,Ce=De,ue=Me}if(Ne===R.length)return a(O,ue),Ae&&la(O,Ne),me;if(ue===null){for(;Ne<R.length;Ne++)ue=$(O,R[Ne],F),ue!==null&&(D=i(ue,D,Ne),Ce===null?me=ue:Ce.sibling=ue,Ce=ue);return Ae&&la(O,Ne),me}for(ue=s(ue);Ne<R.length;Ne++)Me=Z(ue,O,Ne,R[Ne],F),Me!==null&&(e&&Me.alternate!==null&&ue.delete(Me.key===null?Ne:Me.key),D=i(Me,D,Ne),Ce===null?me=Me:Ce.sibling=Me,Ce=Me);return e&&ue.forEach(function(Ya){return t(O,Ya)}),Ae&&la(O,Ne),me}function fe(O,D,R,F){if(R==null)throw Error(d(151));for(var me=null,Ce=null,ue=D,Ne=D=0,Me=null,De=R.next();ue!==null&&!De.done;Ne++,De=R.next()){ue.index>Ne?(Me=ue,ue=null):Me=ue.sibling;var Ya=L(O,ue,De.value,F);if(Ya===null){ue===null&&(ue=Me);break}e&&ue&&Ya.alternate===null&&t(O,ue),D=i(Ya,D,Ne),Ce===null?me=Ya:Ce.sibling=Ya,Ce=Ya,ue=Me}if(De.done)return a(O,ue),Ae&&la(O,Ne),me;if(ue===null){for(;!De.done;Ne++,De=R.next())De=$(O,De.value,F),De!==null&&(D=i(De,D,Ne),Ce===null?me=De:Ce.sibling=De,Ce=De);return Ae&&la(O,Ne),me}for(ue=s(ue);!De.done;Ne++,De=R.next())De=Z(ue,O,Ne,De.value,F),De!==null&&(e&&De.alternate!==null&&ue.delete(De.key===null?Ne:De.key),D=i(De,D,Ne),Ce===null?me=De:Ce.sibling=De,Ce=De);return e&&ue.forEach(function(Og){return t(O,Og)}),Ae&&la(O,Ne),me}function Ue(O,D,R,F){if(typeof R=="object"&&R!==null&&R.type===S&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case A:e:{for(var me=R.key;D!==null;){if(D.key===me){if(me=R.type,me===S){if(D.tag===7){a(O,D.sibling),F=r(D,R.props.children),F.return=O,O=F;break e}}else if(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ne&&ll(me)===D.type){a(O,D.sibling),F=r(D,R.props),Ms(F,R),F.return=O,O=F;break e}a(O,D);break}else t(O,D);D=D.sibling}R.type===S?(F=Wa(R.props.children,O.mode,F,R.key),F.return=O,O=F):(F=Un(R.type,R.key,R.props,null,O.mode,F),Ms(F,R),F.return=O,O=F)}return m(O);case v:e:{for(me=R.key;D!==null;){if(D.key===me)if(D.tag===4&&D.stateNode.containerInfo===R.containerInfo&&D.stateNode.implementation===R.implementation){a(O,D.sibling),F=r(D,R.children||[]),F.return=O,O=F;break e}else{a(O,D);break}else t(O,D);D=D.sibling}F=zi(R,O.mode,F),F.return=O,O=F}return m(O);case ne:return R=ll(R),Ue(O,D,R,F)}if(ie(R))return ce(O,D,R,F);if(re(R)){if(me=re(R),typeof me!="function")throw Error(d(150));return R=me.call(R),fe(O,D,R,F)}if(typeof R.then=="function")return Ue(O,D,Vn(R),F);if(R.$$typeof===G)return Ue(O,D,Hn(O,R),F);Zn(O,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,D!==null&&D.tag===6?(a(O,D.sibling),F=r(D,R),F.return=O,O=F):(a(O,D),F=Bi(R,O.mode,F),F.return=O,O=F),m(O)):a(O,D)}return function(O,D,R,F){try{Ss=0;var me=Ue(O,D,R,F);return zl=null,me}catch(ue){if(ue===Bl||ue===Yn)throw ue;var Ce=St(29,ue,null,O.mode);return Ce.lanes=F,Ce.return=O,Ce}finally{}}}var nl=nu(!0),ru=nu(!1),ka=!1;function Fi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ki(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ma(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ee&2)!==0){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=zn(e),Vd(e,null,a),t}return Bn(e,s,t,a),zn(e)}function As(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Ic(e,a)}}function Ji(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var r=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?r=i=m:i=i.next=m,a=a.next}while(a!==null);i===null?r=i=t:i=i.next=t}else r=i=t;a={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var $i=!1;function Cs(){if($i){var e=Rl;if(e!==null)throw e}}function Ds(e,t,a,s){$i=!1;var r=e.updateQueue;ka=!1;var i=r.firstBaseUpdate,m=r.lastBaseUpdate,x=r.shared.pending;if(x!==null){r.shared.pending=null;var M=x,B=M.next;M.next=null,m===null?i=B:m.next=B,m=M;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,x=Q.lastBaseUpdate,x!==m&&(x===null?Q.firstBaseUpdate=B:x.next=B,Q.lastBaseUpdate=M))}if(i!==null){var $=r.baseState;m=0,Q=B=M=null,x=i;do{var L=x.lane&-536870913,Z=L!==x.lane;if(Z?(Se&L)===L:(s&L)===L){L!==0&&L===Ol&&($i=!0),Q!==null&&(Q=Q.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ce=e,fe=x;L=t;var Ue=a;switch(fe.tag){case 1:if(ce=fe.payload,typeof ce=="function"){$=ce.call(Ue,$,L);break e}$=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=fe.payload,L=typeof ce=="function"?ce.call(Ue,$,L):ce,L==null)break e;$=j({},$,L);break e;case 2:ka=!0}}L=x.callback,L!==null&&(e.flags|=64,Z&&(e.flags|=8192),Z=r.callbacks,Z===null?r.callbacks=[L]:Z.push(L))}else Z={lane:L,tag:x.tag,payload:x.payload,callback:x.callback,next:null},Q===null?(B=Q=Z,M=$):Q=Q.next=Z,m|=L;if(x=x.next,x===null){if(x=r.shared.pending,x===null)break;Z=x,x=Z.next,Z.next=null,r.lastBaseUpdate=Z,r.shared.pending=null}}while(!0);Q===null&&(M=$),r.baseState=M,r.firstBaseUpdate=B,r.lastBaseUpdate=Q,i===null&&(r.shared.lanes=0),Ta|=m,e.lanes=m,e.memoizedState=$}}function iu(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function ou(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)iu(a[e],t)}var Ul=C(null),Xn=C(0);function cu(e,t){e=ha,_(Xn,e),_(Ul,t),ha=e|t.baseLanes}function Ii(){_(Xn,ha),_(Ul,Ul.current)}function Wi(){ha=Xn.current,q(Ul),q(Xn)}var Mt=C(null),Lt=null;function Aa(e){var t=e.alternate;_(Xe,Xe.current&1),_(Mt,e),Lt===null&&(t===null||Ul.current!==null||t.memoizedState!==null)&&(Lt=e)}function Pi(e){_(Xe,Xe.current),_(Mt,e),Lt===null&&(Lt=e)}function du(e){e.tag===22?(_(Xe,Xe.current),_(Mt,e),Lt===null&&(Lt=e)):Ca()}function Ca(){_(Xe,Xe.current),_(Mt,Mt.current)}function At(e){q(Mt),Lt===e&&(Lt=null),q(Xe)}var Xe=C(0);function Qn(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||rc(a)||ic(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ra=0,be=null,Be=null,Je=null,Fn=!1,_l=!1,rl=!1,Kn=0,Es=0,Ll=null,Nx=0;function Ve(){throw Error(d(321))}function eo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!kt(e[a],t[a]))return!1;return!0}function to(e,t,a,s,r,i){return ra=i,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,E.H=e===null||e.memoizedState===null?Fu:po,rl=!1,i=a(s,r),rl=!1,_l&&(i=mu(t,a,s,r)),uu(e),i}function uu(e){E.H=Rs;var t=Be!==null&&Be.next!==null;if(ra=0,Je=Be=be=null,Fn=!1,Es=0,Ll=null,t)throw Error(d(300));e===null||$e||(e=e.dependencies,e!==null&&Ln(e)&&($e=!0))}function mu(e,t,a,s){be=e;var r=0;do{if(_l&&(Ll=null),Es=0,_l=!1,25<=r)throw Error(d(301));if(r+=1,Je=Be=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}E.H=Ku,i=t(a,s)}while(_l);return i}function wx(){var e=E.H,t=e.useState()[0];return t=typeof t.then=="function"?Ts(t):t,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(be.flags|=1024),t}function ao(){var e=Kn!==0;return Kn=0,e}function lo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function so(e){if(Fn){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Fn=!1}ra=0,Je=Be=be=null,_l=!1,Es=Kn=0,Ll=null}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?be.memoizedState=Je=e:Je=Je.next=e,Je}function Qe(){if(Be===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=Je===null?be.memoizedState:Je.next;if(t!==null)Je=t,Be=e;else{if(e===null)throw be.alternate===null?Error(d(467)):Error(d(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Je===null?be.memoizedState=Je=e:Je=Je.next=e}return Je}function Jn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ts(e){var t=Es;return Es+=1,Ll===null&&(Ll=[]),e=au(Ll,e,t),t=be,(Je===null?t.memoizedState:Je.next)===null&&(t=t.alternate,E.H=t===null||t.memoizedState===null?Fu:po),e}function $n(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ts(e);if(e.$$typeof===G)return st(e)}throw Error(d(438,String(e)))}function no(e){var t=null,a=be.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=be.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Jn(),be.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=se;return t.index++,a}function ia(e,t){return typeof t=="function"?t(e):t}function In(e){var t=Qe();return ro(t,Be,e)}function ro(e,t,a){var s=e.queue;if(s===null)throw Error(d(311));s.lastRenderedReducer=a;var r=e.baseQueue,i=s.pending;if(i!==null){if(r!==null){var m=r.next;r.next=i.next,i.next=m}t.baseQueue=r=i,s.pending=null}if(i=e.baseState,r===null)e.memoizedState=i;else{t=r.next;var x=m=null,M=null,B=t,Q=!1;do{var $=B.lane&-536870913;if($!==B.lane?(Se&$)===$:(ra&$)===$){var L=B.revertLane;if(L===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===Ol&&(Q=!0);else if((ra&L)===L){B=B.next,L===Ol&&(Q=!0);continue}else $={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(x=M=$,m=i):M=M.next=$,be.lanes|=L,Ta|=L;$=B.action,rl&&a(i,$),i=B.hasEagerState?B.eagerState:a(i,$)}else L={lane:$,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(x=M=L,m=i):M=M.next=L,be.lanes|=$,Ta|=$;B=B.next}while(B!==null&&B!==t);if(M===null?m=i:M.next=x,!kt(i,e.memoizedState)&&($e=!0,Q&&(a=Rl,a!==null)))throw a;e.memoizedState=i,e.baseState=m,e.baseQueue=M,s.lastRenderedState=i}return r===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function io(e){var t=Qe(),a=t.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=e;var s=a.dispatch,r=a.pending,i=t.memoizedState;if(r!==null){a.pending=null;var m=r=r.next;do i=e(i,m.action),m=m.next;while(m!==r);kt(i,t.memoizedState)||($e=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,s]}function fu(e,t,a){var s=be,r=Qe(),i=Ae;if(i){if(a===void 0)throw Error(d(407));a=a()}else a=t();var m=!kt((Be||r).memoizedState,a);if(m&&(r.memoizedState=a,$e=!0),r=r.queue,uo(gu.bind(null,s,r,e),[e]),r.getSnapshot!==t||m||Je!==null&&Je.memoizedState.tag&1){if(s.flags|=2048,Hl(9,{destroy:void 0},xu.bind(null,s,r,a,t),null),Le===null)throw Error(d(349));i||(ra&127)!==0||hu(s,t,a)}return a}function hu(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=be.updateQueue,t===null?(t=Jn(),be.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function xu(e,t,a,s){t.value=a,t.getSnapshot=s,pu(t)&&bu(e)}function gu(e,t,a){return a(function(){pu(t)&&bu(e)})}function pu(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!kt(e,a)}catch{return!0}}function bu(e){var t=Ia(e,2);t!==null&&bt(t,e,2)}function oo(e){var t=dt();if(typeof e=="function"){var a=e;if(e=a(),rl){pa(!0);try{a()}finally{pa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},t}function yu(e,t,a,s){return e.baseState=a,ro(e,Be,typeof s=="function"?s:ia)}function kx(e,t,a,s,r){if(er(e))throw Error(d(485));if(e=t.action,e!==null){var i={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){i.listeners.push(m)}};E.T!==null?a(!0):i.isTransition=!1,s(i),a=t.pending,a===null?(i.next=t.pending=i,vu(t,i)):(i.next=a.next,t.pending=a.next=i)}}function vu(e,t){var a=t.action,s=t.payload,r=e.state;if(t.isTransition){var i=E.T,m={};E.T=m;try{var x=a(r,s),M=E.S;M!==null&&M(m,x),ju(e,t,x)}catch(B){co(e,t,B)}finally{i!==null&&m.types!==null&&(i.types=m.types),E.T=i}}else try{i=a(r,s),ju(e,t,i)}catch(B){co(e,t,B)}}function ju(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Nu(e,t,s)},function(s){return co(e,t,s)}):Nu(e,t,a)}function Nu(e,t,a){t.status="fulfilled",t.value=a,wu(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,vu(e,a)))}function co(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,wu(t),t=t.next;while(t!==s)}e.action=null}function wu(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ku(e,t){return t}function Su(e,t){if(Ae){var a=Le.formState;if(a!==null){e:{var s=be;if(Ae){if(He){t:{for(var r=He,i=_t;r.nodeType!==8;){if(!i){r=null;break t}if(r=Ht(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){He=Ht(r.nextSibling),s=r.data==="F!";break e}}Na(s)}s=!1}s&&(t=a[0])}}return a=dt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ku,lastRenderedState:t},a.queue=s,a=Zu.bind(null,be,s),s.dispatch=a,s=oo(!1),i=go.bind(null,be,!1,s.queue),s=dt(),r={state:t,dispatch:null,action:e,pending:null},s.queue=r,a=kx.bind(null,be,r,i,a),r.dispatch=a,s.memoizedState=e,[t,a,!1]}function Mu(e){var t=Qe();return Au(t,Be,e)}function Au(e,t,a){if(t=ro(e,t,ku)[0],e=In(ia)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Ts(t)}catch(m){throw m===Bl?Yn:m}else s=t;t=Qe();var r=t.queue,i=r.dispatch;return a!==t.memoizedState&&(be.flags|=2048,Hl(9,{destroy:void 0},Sx.bind(null,r,a),null)),[s,i,e]}function Sx(e,t){e.action=t}function Cu(e){var t=Qe(),a=Be;if(a!==null)return Au(t,a,e);Qe(),t=t.memoizedState,a=Qe();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Hl(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=be.updateQueue,t===null&&(t=Jn(),be.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Du(){return Qe().memoizedState}function Wn(e,t,a,s){var r=dt();be.flags|=e,r.memoizedState=Hl(1|t,{destroy:void 0},a,s===void 0?null:s)}function Pn(e,t,a,s){var r=Qe();s=s===void 0?null:s;var i=r.memoizedState.inst;Be!==null&&s!==null&&eo(s,Be.memoizedState.deps)?r.memoizedState=Hl(t,i,a,s):(be.flags|=e,r.memoizedState=Hl(1|t,i,a,s))}function Eu(e,t){Wn(8390656,8,e,t)}function uo(e,t){Pn(2048,8,e,t)}function Mx(e){be.flags|=4;var t=be.updateQueue;if(t===null)t=Jn(),be.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Tu(e){var t=Qe().memoizedState;return Mx({ref:t,nextImpl:e}),function(){if((Ee&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function Ou(e,t){return Pn(4,2,e,t)}function Ru(e,t){return Pn(4,4,e,t)}function Bu(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zu(e,t,a){a=a!=null?a.concat([e]):null,Pn(4,4,Bu.bind(null,t,e),a)}function mo(){}function Uu(e,t){var a=Qe();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&eo(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function _u(e,t){var a=Qe();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&eo(t,s[1]))return s[0];if(s=e(),rl){pa(!0);try{e()}finally{pa(!1)}}return a.memoizedState=[s,t],s}function fo(e,t,a){return a===void 0||(ra&1073741824)!==0&&(Se&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=L0(),be.lanes|=e,Ta|=e,a)}function Lu(e,t,a,s){return kt(a,t)?a:Ul.current!==null?(e=fo(e,a,s),kt(e,t)||($e=!0),e):(ra&42)===0||(ra&1073741824)!==0&&(Se&261930)===0?($e=!0,e.memoizedState=a):(e=L0(),be.lanes|=e,Ta|=e,t)}function Hu(e,t,a,s,r){var i=Y.p;Y.p=i!==0&&8>i?i:8;var m=E.T,x={};E.T=x,go(e,!1,t,a);try{var M=r(),B=E.S;if(B!==null&&B(x,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Q=jx(M,s);Os(e,t,Q,Et(e))}else Os(e,t,s,Et(e))}catch($){Os(e,t,{then:function(){},status:"rejected",reason:$},Et())}finally{Y.p=i,m!==null&&x.types!==null&&(m.types=x.types),E.T=m}}function Ax(){}function ho(e,t,a,s){if(e.tag!==5)throw Error(d(476));var r=qu(e).queue;Hu(e,r,t,I,a===null?Ax:function(){return Yu(e),a(s)})}function qu(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:I},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Yu(e){var t=qu(e);t.next===null&&(t=e.alternate.memoizedState),Os(e,t.next.queue,{},Et())}function xo(){return st(Js)}function Gu(){return Qe().memoizedState}function Vu(){return Qe().memoizedState}function Cx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Et();e=Sa(a);var s=Ma(t,e,a);s!==null&&(bt(s,t,a),As(s,t,a)),t={cache:Vi()},e.payload=t;return}t=t.return}}function Dx(e,t,a){var s=Et();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},er(e)?Xu(t,a):(a=Oi(e,t,a,s),a!==null&&(bt(a,e,s),Qu(a,t,s)))}function Zu(e,t,a){var s=Et();Os(e,t,a,s)}function Os(e,t,a,s){var r={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(er(e))Xu(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var m=t.lastRenderedState,x=i(m,a);if(r.hasEagerState=!0,r.eagerState=x,kt(x,m))return Bn(e,t,r,0),Le===null&&Rn(),!1}catch{}finally{}if(a=Oi(e,t,r,s),a!==null)return bt(a,e,s),Qu(a,t,s),!0}return!1}function go(e,t,a,s){if(s={lane:2,revertLane:Ko(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},er(e)){if(t)throw Error(d(479))}else t=Oi(e,a,s,2),t!==null&&bt(t,e,2)}function er(e){var t=e.alternate;return e===be||t!==null&&t===be}function Xu(e,t){_l=Fn=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Qu(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Ic(e,a)}}var Rs={readContext:st,use:$n,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};Rs.useEffectEvent=Ve;var Fu={readContext:st,use:$n,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:Eu,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Wn(4194308,4,Bu.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Wn(4194308,4,e,t)},useInsertionEffect:function(e,t){Wn(4,2,e,t)},useMemo:function(e,t){var a=dt();t=t===void 0?null:t;var s=e();if(rl){pa(!0);try{e()}finally{pa(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=dt();if(a!==void 0){var r=a(t);if(rl){pa(!0);try{a(t)}finally{pa(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=Dx.bind(null,be,e),[s.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:function(e){e=oo(e);var t=e.queue,a=Zu.bind(null,be,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:mo,useDeferredValue:function(e,t){var a=dt();return fo(a,e,t)},useTransition:function(){var e=oo(!1);return e=Hu.bind(null,be,e.queue,!0,!1),dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=be,r=dt();if(Ae){if(a===void 0)throw Error(d(407));a=a()}else{if(a=t(),Le===null)throw Error(d(349));(Se&127)!==0||hu(s,t,a)}r.memoizedState=a;var i={value:a,getSnapshot:t};return r.queue=i,Eu(gu.bind(null,s,i,e),[e]),s.flags|=2048,Hl(9,{destroy:void 0},xu.bind(null,s,i,a,t),null),a},useId:function(){var e=dt(),t=Le.identifierPrefix;if(Ae){var a=Kt,s=Ft;a=(s&~(1<<32-wt(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Kn++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Nx++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:xo,useFormState:Su,useActionState:Su,useOptimistic:function(e){var t=dt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=go.bind(null,be,!0,a),a.dispatch=t,[e,t]},useMemoCache:no,useCacheRefresh:function(){return dt().memoizedState=Cx.bind(null,be)},useEffectEvent:function(e){var t=dt(),a={impl:e};return t.memoizedState=a,function(){if((Ee&2)!==0)throw Error(d(440));return a.impl.apply(void 0,arguments)}}},po={readContext:st,use:$n,useCallback:Uu,useContext:st,useEffect:uo,useImperativeHandle:zu,useInsertionEffect:Ou,useLayoutEffect:Ru,useMemo:_u,useReducer:In,useRef:Du,useState:function(){return In(ia)},useDebugValue:mo,useDeferredValue:function(e,t){var a=Qe();return Lu(a,Be.memoizedState,e,t)},useTransition:function(){var e=In(ia)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:Ts(e),t]},useSyncExternalStore:fu,useId:Gu,useHostTransitionStatus:xo,useFormState:Mu,useActionState:Mu,useOptimistic:function(e,t){var a=Qe();return yu(a,Be,e,t)},useMemoCache:no,useCacheRefresh:Vu};po.useEffectEvent=Tu;var Ku={readContext:st,use:$n,useCallback:Uu,useContext:st,useEffect:uo,useImperativeHandle:zu,useInsertionEffect:Ou,useLayoutEffect:Ru,useMemo:_u,useReducer:io,useRef:Du,useState:function(){return io(ia)},useDebugValue:mo,useDeferredValue:function(e,t){var a=Qe();return Be===null?fo(a,e,t):Lu(a,Be.memoizedState,e,t)},useTransition:function(){var e=io(ia)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:Ts(e),t]},useSyncExternalStore:fu,useId:Gu,useHostTransitionStatus:xo,useFormState:Cu,useActionState:Cu,useOptimistic:function(e,t){var a=Qe();return Be!==null?yu(a,Be,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:no,useCacheRefresh:Vu};Ku.useEffectEvent=Tu;function bo(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:j({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var yo={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Et(),r=Sa(s);r.payload=t,a!=null&&(r.callback=a),t=Ma(e,r,s),t!==null&&(bt(t,e,s),As(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Et(),r=Sa(s);r.tag=1,r.payload=t,a!=null&&(r.callback=a),t=Ma(e,r,s),t!==null&&(bt(t,e,s),As(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Et(),s=Sa(a);s.tag=2,t!=null&&(s.callback=t),t=Ma(e,s,a),t!==null&&(bt(t,e,a),As(t,e,a))}};function Ju(e,t,a,s,r,i,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,m):t.prototype&&t.prototype.isPureReactComponent?!ys(a,s)||!ys(r,i):!0}function $u(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function il(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=j({},a));for(var r in e)a[r]===void 0&&(a[r]=e[r])}return a}function Iu(e){On(e)}function Wu(e){console.error(e)}function Pu(e){On(e)}function tr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function e0(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function vo(e,t,a){return a=Sa(a),a.tag=3,a.payload={element:null},a.callback=function(){tr(e,t)},a}function t0(e){return e=Sa(e),e.tag=3,e}function a0(e,t,a,s){var r=a.type.getDerivedStateFromError;if(typeof r=="function"){var i=s.value;e.payload=function(){return r(i)},e.callback=function(){e0(t,a,s)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){e0(t,a,s),typeof r!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})})}function Ex(e,t,a,s,r){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Tl(t,a,r,!0),a=Mt.current,a!==null){switch(a.tag){case 31:case 13:return Lt===null?fr():a.alternate===null&&Ze===0&&(Ze=3),a.flags&=-257,a.flags|=65536,a.lanes=r,s===Gn?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Xo(e,s,r)),!1;case 22:return a.flags|=65536,s===Gn?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Xo(e,s,r)),!1}throw Error(d(435,a.tag))}return Xo(e,s,r),fr(),!1}if(Ae)return t=Mt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==Li&&(e=Error(d(422),{cause:s}),Ns(Bt(e,a)))):(s!==Li&&(t=Error(d(423),{cause:s}),Ns(Bt(t,a))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,s=Bt(s,a),r=vo(e.stateNode,s,r),Ji(e,r),Ze!==4&&(Ze=2)),!1;var i=Error(d(520),{cause:s});if(i=Bt(i,a),Ys===null?Ys=[i]:Ys.push(i),Ze!==4&&(Ze=2),t===null)return!0;s=Bt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,e=vo(a.stateNode,s,e),Ji(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Oa===null||!Oa.has(i))))return a.flags|=65536,r&=-r,a.lanes|=r,r=t0(r),a0(r,e,a,s),Ji(a,r),!1}a=a.return}while(a!==null);return!1}var jo=Error(d(461)),$e=!1;function nt(e,t,a,s){t.child=e===null?ru(t,null,a,s):nl(t,e.child,a,s)}function l0(e,t,a,s,r){a=a.render;var i=t.ref;if("ref"in s){var m={};for(var x in s)x!=="ref"&&(m[x]=s[x])}else m=s;return tl(t),s=to(e,t,a,m,i,r),x=ao(),e!==null&&!$e?(lo(e,t,r),oa(e,t,r)):(Ae&&x&&Ui(t),t.flags|=1,nt(e,t,s,r),t.child)}function s0(e,t,a,s,r){if(e===null){var i=a.type;return typeof i=="function"&&!Ri(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,n0(e,t,i,s,r)):(e=Un(a.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Do(e,r)){var m=i.memoizedProps;if(a=a.compare,a=a!==null?a:ys,a(m,s)&&e.ref===t.ref)return oa(e,t,r)}return t.flags|=1,e=aa(i,s),e.ref=t.ref,e.return=t,t.child=e}function n0(e,t,a,s,r){if(e!==null){var i=e.memoizedProps;if(ys(i,s)&&e.ref===t.ref)if($e=!1,t.pendingProps=s=i,Do(e,r))(e.flags&131072)!==0&&($e=!0);else return t.lanes=e.lanes,oa(e,t,r)}return No(e,t,a,s,r)}function r0(e,t,a,s){var r=s.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(s=t.child=e.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;s=r&~i}else s=0,t.child=null;return i0(e,t,i,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&qn(t,i!==null?i.cachePool:null),i!==null?cu(t,i):Ii(),du(t);else return s=t.lanes=536870912,i0(e,t,i!==null?i.baseLanes|a:a,a,s)}else i!==null?(qn(t,i.cachePool),cu(t,i),Ca(),t.memoizedState=null):(e!==null&&qn(t,null),Ii(),Ca());return nt(e,t,r,a),t.child}function Bs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function i0(e,t,a,s,r){var i=Xi();return i=i===null?null:{parent:Ke._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&qn(t,null),Ii(),du(t),e!==null&&Tl(e,t,s,!0),t.childLanes=r,null}function ar(e,t){return t=sr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function o0(e,t,a){return nl(t,e.child,null,a),e=ar(t,t.pendingProps),e.flags|=2,At(t),t.memoizedState=null,e}function Tx(e,t,a){var s=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ae){if(s.mode==="hidden")return e=ar(t,s),t.lanes=536870912,Bs(null,e);if(Pi(t),(e=He)?(e=vm(e,_t),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:va!==null?{id:Ft,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},a=Xd(e),a.return=t,t.child=a,lt=t,He=null)):e=null,e===null)throw Na(t);return t.lanes=536870912,null}return ar(t,s)}var i=e.memoizedState;if(i!==null){var m=i.dehydrated;if(Pi(t),r)if(t.flags&256)t.flags&=-257,t=o0(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if($e||Tl(e,t,a,!1),r=(a&e.childLanes)!==0,$e||r){if(s=Le,s!==null&&(m=Wc(s,a),m!==0&&m!==i.retryLane))throw i.retryLane=m,Ia(e,m),bt(s,e,m),jo;fr(),t=o0(e,t,a)}else e=i.treeContext,He=Ht(m.nextSibling),lt=t,Ae=!0,ja=null,_t=!1,e!==null&&Kd(t,e),t=ar(t,s),t.flags|=4096;return t}return e=aa(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function lr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(d(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function No(e,t,a,s,r){return tl(t),a=to(e,t,a,s,void 0,r),s=ao(),e!==null&&!$e?(lo(e,t,r),oa(e,t,r)):(Ae&&s&&Ui(t),t.flags|=1,nt(e,t,a,r),t.child)}function c0(e,t,a,s,r,i){return tl(t),t.updateQueue=null,a=mu(t,s,a,r),uu(e),s=ao(),e!==null&&!$e?(lo(e,t,i),oa(e,t,i)):(Ae&&s&&Ui(t),t.flags|=1,nt(e,t,a,i),t.child)}function d0(e,t,a,s,r){if(tl(t),t.stateNode===null){var i=Al,m=a.contextType;typeof m=="object"&&m!==null&&(i=st(m)),i=new a(s,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=yo,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=s,i.state=t.memoizedState,i.refs={},Fi(t),m=a.contextType,i.context=typeof m=="object"&&m!==null?st(m):Al,i.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(bo(t,a,m,s),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(m=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),m!==i.state&&yo.enqueueReplaceState(i,i.state,null),Ds(t,s,i,r),Cs(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){i=t.stateNode;var x=t.memoizedProps,M=il(a,x);i.props=M;var B=i.context,Q=a.contextType;m=Al,typeof Q=="object"&&Q!==null&&(m=st(Q));var $=a.getDerivedStateFromProps;Q=typeof $=="function"||typeof i.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,Q||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(x||B!==m)&&$u(t,i,s,m),ka=!1;var L=t.memoizedState;i.state=L,Ds(t,s,i,r),Cs(),B=t.memoizedState,x||L!==B||ka?(typeof $=="function"&&(bo(t,a,$,s),B=t.memoizedState),(M=ka||Ju(t,a,M,s,L,B,m))?(Q||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=B),i.props=s,i.state=B,i.context=m,s=M):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Ki(e,t),m=t.memoizedProps,Q=il(a,m),i.props=Q,$=t.pendingProps,L=i.context,B=a.contextType,M=Al,typeof B=="object"&&B!==null&&(M=st(B)),x=a.getDerivedStateFromProps,(B=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(m!==$||L!==M)&&$u(t,i,s,M),ka=!1,L=t.memoizedState,i.state=L,Ds(t,s,i,r),Cs();var Z=t.memoizedState;m!==$||L!==Z||ka||e!==null&&e.dependencies!==null&&Ln(e.dependencies)?(typeof x=="function"&&(bo(t,a,x,s),Z=t.memoizedState),(Q=ka||Ju(t,a,Q,s,L,Z,M)||e!==null&&e.dependencies!==null&&Ln(e.dependencies))?(B||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,Z,M),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,Z,M)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||m===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=Z),i.props=s,i.state=Z,i.context=M,s=Q):(typeof i.componentDidUpdate!="function"||m===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),s=!1)}return i=s,lr(e,t),s=(t.flags&128)!==0,i||s?(i=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&s?(t.child=nl(t,e.child,null,r),t.child=nl(t,null,a,r)):nt(e,t,a,r),t.memoizedState=i.state,e=t.child):e=oa(e,t,r),e}function u0(e,t,a,s){return Pa(),t.flags|=256,nt(e,t,a,s),t.child}var wo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ko(e){return{baseLanes:e,cachePool:eu()}}function So(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Dt),e}function m0(e,t,a){var s=t.pendingProps,r=!1,i=(t.flags&128)!==0,m;if((m=i)||(m=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),m&&(r=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ae){if(r?Aa(t):Ca(),(e=He)?(e=vm(e,_t),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:va!==null?{id:Ft,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},a=Xd(e),a.return=t,t.child=a,lt=t,He=null)):e=null,e===null)throw Na(t);return ic(e)?t.lanes=32:t.lanes=536870912,null}var x=s.children;return s=s.fallback,r?(Ca(),r=t.mode,x=sr({mode:"hidden",children:x},r),s=Wa(s,r,a,null),x.return=t,s.return=t,x.sibling=s,t.child=x,s=t.child,s.memoizedState=ko(a),s.childLanes=So(e,m,a),t.memoizedState=wo,Bs(null,s)):(Aa(t),Mo(t,x))}var M=e.memoizedState;if(M!==null&&(x=M.dehydrated,x!==null)){if(i)t.flags&256?(Aa(t),t.flags&=-257,t=Ao(e,t,a)):t.memoizedState!==null?(Ca(),t.child=e.child,t.flags|=128,t=null):(Ca(),x=s.fallback,r=t.mode,s=sr({mode:"visible",children:s.children},r),x=Wa(x,r,a,null),x.flags|=2,s.return=t,x.return=t,s.sibling=x,t.child=s,nl(t,e.child,null,a),s=t.child,s.memoizedState=ko(a),s.childLanes=So(e,m,a),t.memoizedState=wo,t=Bs(null,s));else if(Aa(t),ic(x)){if(m=x.nextSibling&&x.nextSibling.dataset,m)var B=m.dgst;m=B,s=Error(d(419)),s.stack="",s.digest=m,Ns({value:s,source:null,stack:null}),t=Ao(e,t,a)}else if($e||Tl(e,t,a,!1),m=(a&e.childLanes)!==0,$e||m){if(m=Le,m!==null&&(s=Wc(m,a),s!==0&&s!==M.retryLane))throw M.retryLane=s,Ia(e,s),bt(m,e,s),jo;rc(x)||fr(),t=Ao(e,t,a)}else rc(x)?(t.flags|=192,t.child=e.child,t=null):(e=M.treeContext,He=Ht(x.nextSibling),lt=t,Ae=!0,ja=null,_t=!1,e!==null&&Kd(t,e),t=Mo(t,s.children),t.flags|=4096);return t}return r?(Ca(),x=s.fallback,r=t.mode,M=e.child,B=M.sibling,s=aa(M,{mode:"hidden",children:s.children}),s.subtreeFlags=M.subtreeFlags&65011712,B!==null?x=aa(B,x):(x=Wa(x,r,a,null),x.flags|=2),x.return=t,s.return=t,s.sibling=x,t.child=s,Bs(null,s),s=t.child,x=e.child.memoizedState,x===null?x=ko(a):(r=x.cachePool,r!==null?(M=Ke._currentValue,r=r.parent!==M?{parent:M,pool:M}:r):r=eu(),x={baseLanes:x.baseLanes|a,cachePool:r}),s.memoizedState=x,s.childLanes=So(e,m,a),t.memoizedState=wo,Bs(e.child,s)):(Aa(t),a=e.child,e=a.sibling,a=aa(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function Mo(e,t){return t=sr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function sr(e,t){return e=St(22,e,null,t),e.lanes=0,e}function Ao(e,t,a){return nl(t,e.child,null,a),e=Mo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function f0(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Yi(e.return,t,a)}function Co(e,t,a,s,r,i){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:r,treeForkCount:i}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=a,m.tailMode=r,m.treeForkCount=i)}function h0(e,t,a){var s=t.pendingProps,r=s.revealOrder,i=s.tail;s=s.children;var m=Xe.current,x=(m&2)!==0;if(x?(m=m&1|2,t.flags|=128):m&=1,_(Xe,m),nt(e,t,s,a),s=Ae?js:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&f0(e,a,t);else if(e.tag===19)f0(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(a=t.child,r=null;a!==null;)e=a.alternate,e!==null&&Qn(e)===null&&(r=a),a=a.sibling;a=r,a===null?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),Co(t,!1,r,a,i,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Qn(e)===null){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}Co(t,!0,a,null,i,s);break;case"together":Co(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function oa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ta|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Tl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,a=aa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=aa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Do(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ln(e)))}function Ox(e,t,a){switch(t.tag){case 3:Ge(t,t.stateNode.containerInfo),wa(t,Ke,e.memoizedState.cache),Pa();break;case 27:case 5:Za(t);break;case 4:Ge(t,t.stateNode.containerInfo);break;case 10:wa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Pi(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Aa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?m0(e,t,a):(Aa(t),e=oa(e,t,a),e!==null?e.sibling:null);Aa(t);break;case 19:var r=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Tl(e,t,a,!1),s=(a&t.childLanes)!==0),r){if(s)return h0(e,t,a);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),_(Xe,Xe.current),s)break;return null;case 22:return t.lanes=0,r0(e,t,a,t.pendingProps);case 24:wa(t,Ke,e.memoizedState.cache)}return oa(e,t,a)}function x0(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)$e=!0;else{if(!Do(e,a)&&(t.flags&128)===0)return $e=!1,Ox(e,t,a);$e=(e.flags&131072)!==0}else $e=!1,Ae&&(t.flags&1048576)!==0&&Fd(t,js,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ll(t.elementType),t.type=e,typeof e=="function")Ri(e)?(s=il(e,s),t.tag=1,t=d0(null,t,e,s,a)):(t.tag=0,t=No(null,t,e,s,a));else{if(e!=null){var r=e.$$typeof;if(r===ae){t.tag=11,t=l0(null,t,e,s,a);break e}else if(r===ee){t.tag=14,t=s0(null,t,e,s,a);break e}}throw t=W(e)||e,Error(d(306,t,""))}}return t;case 0:return No(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,r=il(s,t.pendingProps),d0(e,t,s,r,a);case 3:e:{if(Ge(t,t.stateNode.containerInfo),e===null)throw Error(d(387));s=t.pendingProps;var i=t.memoizedState;r=i.element,Ki(e,t),Ds(t,s,null,a);var m=t.memoizedState;if(s=m.cache,wa(t,Ke,s),s!==i.cache&&Gi(t,[Ke],a,!0),Cs(),s=m.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=u0(e,t,s,a);break e}else if(s!==r){r=Bt(Error(d(424)),t),Ns(r),t=u0(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=Ht(e.firstChild),lt=t,Ae=!0,ja=null,_t=!0,a=ru(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Pa(),s===r){t=oa(e,t,a);break e}nt(e,t,s,a)}t=t.child}return t;case 26:return lr(e,t),e===null?(a=Mm(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ae||(a=t.type,e=t.pendingProps,s=vr(le.current).createElement(a),s[at]=t,s[mt]=e,rt(s,a,e),et(s),t.stateNode=s):t.memoizedState=Mm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Za(t),e===null&&Ae&&(s=t.stateNode=wm(t.type,t.pendingProps,le.current),lt=t,_t=!0,r=He,Ua(t.type)?(oc=r,He=Ht(s.firstChild)):He=r),nt(e,t,t.pendingProps.children,a),lr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ae&&((r=s=He)&&(s=og(s,t.type,t.pendingProps,_t),s!==null?(t.stateNode=s,lt=t,He=Ht(s.firstChild),_t=!1,r=!0):r=!1),r||Na(t)),Za(t),r=t.type,i=t.pendingProps,m=e!==null?e.memoizedProps:null,s=i.children,lc(r,i)?s=null:m!==null&&lc(r,m)&&(t.flags|=32),t.memoizedState!==null&&(r=to(e,t,wx,null,null,a),Js._currentValue=r),lr(e,t),nt(e,t,s,a),t.child;case 6:return e===null&&Ae&&((e=a=He)&&(a=cg(a,t.pendingProps,_t),a!==null?(t.stateNode=a,lt=t,He=null,e=!0):e=!1),e||Na(t)),null;case 13:return m0(e,t,a);case 4:return Ge(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=nl(t,null,s,a):nt(e,t,s,a),t.child;case 11:return l0(e,t,t.type,t.pendingProps,a);case 7:return nt(e,t,t.pendingProps,a),t.child;case 8:return nt(e,t,t.pendingProps.children,a),t.child;case 12:return nt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,wa(t,t.type,s.value),nt(e,t,s.children,a),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,tl(t),r=st(r),s=s(r),t.flags|=1,nt(e,t,s,a),t.child;case 14:return s0(e,t,t.type,t.pendingProps,a);case 15:return n0(e,t,t.type,t.pendingProps,a);case 19:return h0(e,t,a);case 31:return Tx(e,t,a);case 22:return r0(e,t,a,t.pendingProps);case 24:return tl(t),s=st(Ke),e===null?(r=Xi(),r===null&&(r=Le,i=Vi(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=a),r=i),t.memoizedState={parent:s,cache:r},Fi(t),wa(t,Ke,r)):((e.lanes&a)!==0&&(Ki(e,t),Ds(t,null,null,a),Cs()),r=e.memoizedState,i=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),wa(t,Ke,s)):(s=i.cache,wa(t,Ke,s),s!==r.cache&&Gi(t,[Ke],a,!0))),nt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function ca(e){e.flags|=4}function Eo(e,t,a,s,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(G0())e.flags|=8192;else throw sl=Gn,Qi}else e.flags&=-16777217}function g0(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Tm(t))if(G0())e.flags|=8192;else throw sl=Gn,Qi}function nr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Jc():536870912,e.lanes|=t,Vl|=t)}function zs(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var r=e.child;r!==null;)a|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)a|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Rx(e,t,a){var s=t.pendingProps;switch(_i(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return qe(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),na(Ke),Re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(El(t)?ca(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Hi())),qe(t),null;case 26:var r=t.type,i=t.memoizedState;return e===null?(ca(t),i!==null?(qe(t),g0(t,i)):(qe(t),Eo(t,r,null,s,a))):i?i!==e.memoizedState?(ca(t),qe(t),g0(t,i)):(qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&ca(t),qe(t),Eo(t,r,e,s,a)),null;case 27:if(gn(t),a=le.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ca(t);else{if(!s){if(t.stateNode===null)throw Error(d(166));return qe(t),null}e=K.current,El(t)?Jd(t):(e=wm(r,s,a),t.stateNode=e,ca(t))}return qe(t),null;case 5:if(gn(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ca(t);else{if(!s){if(t.stateNode===null)throw Error(d(166));return qe(t),null}if(i=K.current,El(t))Jd(t);else{var m=vr(le.current);switch(i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?i.multiple=!0:s.size&&(i.size=s.size);break;default:i=typeof s.is=="string"?m.createElement(r,{is:s.is}):m.createElement(r)}}i[at]=t,i[mt]=s;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=i;e:switch(rt(i,r,s),r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ca(t)}}return qe(t),Eo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&ca(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(d(166));if(e=le.current,El(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,r=lt,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}e[at]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||mm(e.nodeValue,a)),e||Na(t,!0)}else e=vr(e).createTextNode(s),e[at]=t,t.stateNode=e}return qe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=El(t),a!==null){if(e===null){if(!s)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[at]=t}else Pa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),e=!1}else a=Hi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(At(t),t):(At(t),null);if((t.flags&128)!==0)throw Error(d(558))}return qe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=El(t),s!==null&&s.dehydrated!==null){if(e===null){if(!r)throw Error(d(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(d(317));r[at]=t}else Pa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),r=!1}else r=Hi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(At(t),t):(At(t),null)}return At(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==r&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),nr(t,t.updateQueue),qe(t),null);case 4:return Re(),e===null&&Wo(t.stateNode.containerInfo),qe(t),null;case 10:return na(t.type),qe(t),null;case 19:if(q(Xe),s=t.memoizedState,s===null)return qe(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)zs(s,!1);else{if(Ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Qn(e),i!==null){for(t.flags|=128,zs(s,!1),e=i.updateQueue,t.updateQueue=e,nr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Zd(a,e),a=a.sibling;return _(Xe,Xe.current&1|2),Ae&&la(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&jt()>dr&&(t.flags|=128,r=!0,zs(s,!1),t.lanes=4194304)}else{if(!r)if(e=Qn(i),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,nr(t,e),zs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Ae)return qe(t),null}else 2*jt()-s.renderingStartTime>dr&&a!==536870912&&(t.flags|=128,r=!0,zs(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(e=s.last,e!==null?e.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=jt(),e.sibling=null,a=Xe.current,_(Xe,r?a&1|2:a&1),Ae&&la(t,s.treeForkCount),e):(qe(t),null);case 22:case 23:return At(t),Wi(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),a=t.updateQueue,a!==null&&nr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&q(al),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),na(Ke),qe(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function Bx(e,t){switch(_i(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return na(Ke),Re(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return gn(t),null;case 31:if(t.memoizedState!==null){if(At(t),t.alternate===null)throw Error(d(340));Pa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(At(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));Pa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(Xe),null;case 4:return Re(),null;case 10:return na(t.type),null;case 22:case 23:return At(t),Wi(),e!==null&&q(al),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return na(Ke),null;case 25:return null;default:return null}}function p0(e,t){switch(_i(t),t.tag){case 3:na(Ke),Re();break;case 26:case 27:case 5:gn(t);break;case 4:Re();break;case 31:t.memoizedState!==null&&At(t);break;case 13:At(t);break;case 19:q(Xe);break;case 10:na(t.type);break;case 22:case 23:At(t),Wi(),e!==null&&q(al);break;case 24:na(Ke)}}function Us(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var r=s.next;a=r;do{if((a.tag&e)===e){s=void 0;var i=a.create,m=a.inst;s=i(),m.destroy=s}a=a.next}while(a!==r)}}catch(x){Oe(t,t.return,x)}}function Da(e,t,a){try{var s=t.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var i=r.next;s=i;do{if((s.tag&e)===e){var m=s.inst,x=m.destroy;if(x!==void 0){m.destroy=void 0,r=t;var M=a,B=x;try{B()}catch(Q){Oe(r,M,Q)}}}s=s.next}while(s!==i)}}catch(Q){Oe(t,t.return,Q)}}function b0(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{ou(t,a)}catch(s){Oe(e,e.return,s)}}}function y0(e,t,a){a.props=il(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Oe(e,t,s)}}function _s(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(r){Oe(e,t,r)}}function Jt(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(r){Oe(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(r){Oe(e,t,r)}else a.current=null}function v0(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(r){Oe(e,e.return,r)}}function To(e,t,a){try{var s=e.stateNode;ag(s,e.type,a,t),s[mt]=t}catch(r){Oe(e,e.return,r)}}function j0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ua(e.type)||e.tag===4}function Oo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||j0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ua(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ro(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ea));else if(s!==4&&(s===27&&Ua(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Ro(e,t,a),e=e.sibling;e!==null;)Ro(e,t,a),e=e.sibling}function rr(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Ua(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(rr(e,t,a),e=e.sibling;e!==null;)rr(e,t,a),e=e.sibling}function N0(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);rt(t,s,a),t[at]=e,t[mt]=a}catch(i){Oe(e,e.return,i)}}var da=!1,Ie=!1,Bo=!1,w0=typeof WeakSet=="function"?WeakSet:Set,tt=null;function zx(e,t){if(e=e.containerInfo,tc=Ar,e=zd(e),Mi(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var m=0,x=-1,M=-1,B=0,Q=0,$=e,L=null;t:for(;;){for(var Z;$!==a||r!==0&&$.nodeType!==3||(x=m+r),$!==i||s!==0&&$.nodeType!==3||(M=m+s),$.nodeType===3&&(m+=$.nodeValue.length),(Z=$.firstChild)!==null;)L=$,$=Z;for(;;){if($===e)break t;if(L===a&&++B===r&&(x=m),L===i&&++Q===s&&(M=m),(Z=$.nextSibling)!==null)break;$=L,L=$.parentNode}$=Z}a=x===-1||M===-1?null:{start:x,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(ac={focusedElem:e,selectionRange:a},Ar=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){switch(t=tt,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)r=e[a],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,r=i.memoizedProps,i=i.memoizedState,s=a.stateNode;try{var ce=il(a.type,r);e=s.getSnapshotBeforeUpdate(ce,i),s.__reactInternalSnapshotBeforeUpdate=e}catch(fe){Oe(a,a.return,fe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)nc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}}function k0(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:ma(e,a),s&4&&Us(5,a);break;case 1:if(ma(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){Oe(a,a.return,m)}else{var r=il(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Oe(a,a.return,m)}}s&64&&b0(a),s&512&&_s(a,a.return);break;case 3:if(ma(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{ou(e,t)}catch(m){Oe(a,a.return,m)}}break;case 27:t===null&&s&4&&N0(a);case 26:case 5:ma(e,a),t===null&&s&4&&v0(a),s&512&&_s(a,a.return);break;case 12:ma(e,a);break;case 31:ma(e,a),s&4&&A0(e,a);break;case 13:ma(e,a),s&4&&C0(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Zx.bind(null,a),dg(e,a))));break;case 22:if(s=a.memoizedState!==null||da,!s){t=t!==null&&t.memoizedState!==null||Ie,r=da;var i=Ie;da=s,(Ie=t)&&!i?fa(e,a,(a.subtreeFlags&8772)!==0):ma(e,a),da=r,Ie=i}break;case 30:break;default:ma(e,a)}}function S0(e){var t=e.alternate;t!==null&&(e.alternate=null,S0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ci(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,ht=!1;function ua(e,t,a){for(a=a.child;a!==null;)M0(e,t,a),a=a.sibling}function M0(e,t,a){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(is,a)}catch{}switch(a.tag){case 26:Ie||Jt(a,t),ua(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||Jt(a,t);var s=Ye,r=ht;Ua(a.type)&&(Ye=a.stateNode,ht=!1),ua(e,t,a),Qs(a.stateNode),Ye=s,ht=r;break;case 5:Ie||Jt(a,t);case 6:if(s=Ye,r=ht,Ye=null,ua(e,t,a),Ye=s,ht=r,Ye!==null)if(ht)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(a.stateNode)}catch(i){Oe(a,t,i)}else try{Ye.removeChild(a.stateNode)}catch(i){Oe(a,t,i)}break;case 18:Ye!==null&&(ht?(e=Ye,bm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Il(e)):bm(Ye,a.stateNode));break;case 4:s=Ye,r=ht,Ye=a.stateNode.containerInfo,ht=!0,ua(e,t,a),Ye=s,ht=r;break;case 0:case 11:case 14:case 15:Da(2,a,t),Ie||Da(4,a,t),ua(e,t,a);break;case 1:Ie||(Jt(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&y0(a,t,s)),ua(e,t,a);break;case 21:ua(e,t,a);break;case 22:Ie=(s=Ie)||a.memoizedState!==null,ua(e,t,a),Ie=s;break;default:ua(e,t,a)}}function A0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Il(e)}catch(a){Oe(t,t.return,a)}}}function C0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Il(e)}catch(a){Oe(t,t.return,a)}}function Ux(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new w0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new w0),t;default:throw Error(d(435,e.tag))}}function ir(e,t){var a=Ux(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var r=Xx.bind(null,e,s);s.then(r,r)}})}function xt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var r=a[s],i=e,m=t,x=m;e:for(;x!==null;){switch(x.tag){case 27:if(Ua(x.type)){Ye=x.stateNode,ht=!1;break e}break;case 5:Ye=x.stateNode,ht=!1;break e;case 3:case 4:Ye=x.stateNode.containerInfo,ht=!0;break e}x=x.return}if(Ye===null)throw Error(d(160));M0(i,m,r),Ye=null,ht=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)D0(t,e),t=t.sibling}var Vt=null;function D0(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xt(t,e),gt(e),s&4&&(Da(3,e,e.return),Us(3,e),Da(5,e,e.return));break;case 1:xt(t,e),gt(e),s&512&&(Ie||a===null||Jt(a,a.return)),s&64&&da&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var r=Vt;if(xt(t,e),gt(e),s&512&&(Ie||a===null||Jt(a,a.return)),s&4){var i=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":i=r.getElementsByTagName("title")[0],(!i||i[ds]||i[at]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(s),r.head.insertBefore(i,r.querySelector("head > title"))),rt(i,s,a),i[at]=e,et(i),s=i;break e;case"link":var m=Dm("link","href",r).get(s+(a.href||""));if(m){for(var x=0;x<m.length;x++)if(i=m[x],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(x,1);break t}}i=r.createElement(s),rt(i,s,a),r.head.appendChild(i);break;case"meta":if(m=Dm("meta","content",r).get(s+(a.content||""))){for(x=0;x<m.length;x++)if(i=m[x],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(x,1);break t}}i=r.createElement(s),rt(i,s,a),r.head.appendChild(i);break;default:throw Error(d(468,s))}i[at]=e,et(i),s=i}e.stateNode=s}else Em(r,e.type,e.stateNode);else e.stateNode=Cm(r,s,e.memoizedProps);else i!==s?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,s===null?Em(r,e.type,e.stateNode):Cm(r,s,e.memoizedProps)):s===null&&e.stateNode!==null&&To(e,e.memoizedProps,a.memoizedProps)}break;case 27:xt(t,e),gt(e),s&512&&(Ie||a===null||Jt(a,a.return)),a!==null&&s&4&&To(e,e.memoizedProps,a.memoizedProps);break;case 5:if(xt(t,e),gt(e),s&512&&(Ie||a===null||Jt(a,a.return)),e.flags&32){r=e.stateNode;try{vl(r,"")}catch(ce){Oe(e,e.return,ce)}}s&4&&e.stateNode!=null&&(r=e.memoizedProps,To(e,r,a!==null?a.memoizedProps:r)),s&1024&&(Bo=!0);break;case 6:if(xt(t,e),gt(e),s&4){if(e.stateNode===null)throw Error(d(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(ce){Oe(e,e.return,ce)}}break;case 3:if(wr=null,r=Vt,Vt=jr(t.containerInfo),xt(t,e),Vt=r,gt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Il(t.containerInfo)}catch(ce){Oe(e,e.return,ce)}Bo&&(Bo=!1,E0(e));break;case 4:s=Vt,Vt=jr(e.stateNode.containerInfo),xt(t,e),gt(e),Vt=s;break;case 12:xt(t,e),gt(e);break;case 31:xt(t,e),gt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ir(e,s)));break;case 13:xt(t,e),gt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cr=jt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ir(e,s)));break;case 22:r=e.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,B=da,Q=Ie;if(da=B||r,Ie=Q||M,xt(t,e),Ie=Q,da=B,gt(e),s&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(a===null||M||da||Ie||ol(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){M=a=t;try{if(i=M.stateNode,r)m=i.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{x=M.stateNode;var $=M.memoizedProps.style,L=$!=null&&$.hasOwnProperty("display")?$.display:null;x.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(ce){Oe(M,M.return,ce)}}}else if(t.tag===6){if(a===null){M=t;try{M.stateNode.nodeValue=r?"":M.memoizedProps}catch(ce){Oe(M,M.return,ce)}}}else if(t.tag===18){if(a===null){M=t;try{var Z=M.stateNode;r?ym(Z,!0):ym(M.stateNode,!1)}catch(ce){Oe(M,M.return,ce)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,ir(e,a))));break;case 19:xt(t,e),gt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ir(e,s)));break;case 30:break;case 21:break;default:xt(t,e),gt(e)}}function gt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(j0(s)){a=s;break}s=s.return}if(a==null)throw Error(d(160));switch(a.tag){case 27:var r=a.stateNode,i=Oo(e);rr(e,i,r);break;case 5:var m=a.stateNode;a.flags&32&&(vl(m,""),a.flags&=-33);var x=Oo(e);rr(e,x,m);break;case 3:case 4:var M=a.stateNode.containerInfo,B=Oo(e);Ro(e,B,M);break;default:throw Error(d(161))}}catch(Q){Oe(e,e.return,Q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function E0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;E0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ma(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)k0(e,t.alternate,t),t=t.sibling}function ol(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Da(4,t,t.return),ol(t);break;case 1:Jt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&y0(t,t.return,a),ol(t);break;case 27:Qs(t.stateNode);case 26:case 5:Jt(t,t.return),ol(t);break;case 22:t.memoizedState===null&&ol(t);break;case 30:ol(t);break;default:ol(t)}e=e.sibling}}function fa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,r=e,i=t,m=i.flags;switch(i.tag){case 0:case 11:case 15:fa(r,i,a),Us(4,i);break;case 1:if(fa(r,i,a),s=i,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(B){Oe(s,s.return,B)}if(s=i,r=s.updateQueue,r!==null){var x=s.stateNode;try{var M=r.shared.hiddenCallbacks;if(M!==null)for(r.shared.hiddenCallbacks=null,r=0;r<M.length;r++)iu(M[r],x)}catch(B){Oe(s,s.return,B)}}a&&m&64&&b0(i),_s(i,i.return);break;case 27:N0(i);case 26:case 5:fa(r,i,a),a&&s===null&&m&4&&v0(i),_s(i,i.return);break;case 12:fa(r,i,a);break;case 31:fa(r,i,a),a&&m&4&&A0(r,i);break;case 13:fa(r,i,a),a&&m&4&&C0(r,i);break;case 22:i.memoizedState===null&&fa(r,i,a),_s(i,i.return);break;case 30:break;default:fa(r,i,a)}t=t.sibling}}function zo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ws(a))}function Uo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ws(e))}function Zt(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)T0(e,t,a,s),t=t.sibling}function T0(e,t,a,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Zt(e,t,a,s),r&2048&&Us(9,t);break;case 1:Zt(e,t,a,s);break;case 3:Zt(e,t,a,s),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ws(e)));break;case 12:if(r&2048){Zt(e,t,a,s),e=t.stateNode;try{var i=t.memoizedProps,m=i.id,x=i.onPostCommit;typeof x=="function"&&x(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){Oe(t,t.return,M)}}else Zt(e,t,a,s);break;case 31:Zt(e,t,a,s);break;case 13:Zt(e,t,a,s);break;case 23:break;case 22:i=t.stateNode,m=t.alternate,t.memoizedState!==null?i._visibility&2?Zt(e,t,a,s):Ls(e,t):i._visibility&2?Zt(e,t,a,s):(i._visibility|=2,ql(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),r&2048&&zo(m,t);break;case 24:Zt(e,t,a,s),r&2048&&Uo(t.alternate,t);break;default:Zt(e,t,a,s)}}function ql(e,t,a,s,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,m=t,x=a,M=s,B=m.flags;switch(m.tag){case 0:case 11:case 15:ql(i,m,x,M,r),Us(8,m);break;case 23:break;case 22:var Q=m.stateNode;m.memoizedState!==null?Q._visibility&2?ql(i,m,x,M,r):Ls(i,m):(Q._visibility|=2,ql(i,m,x,M,r)),r&&B&2048&&zo(m.alternate,m);break;case 24:ql(i,m,x,M,r),r&&B&2048&&Uo(m.alternate,m);break;default:ql(i,m,x,M,r)}t=t.sibling}}function Ls(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,r=s.flags;switch(s.tag){case 22:Ls(a,s),r&2048&&zo(s.alternate,s);break;case 24:Ls(a,s),r&2048&&Uo(s.alternate,s);break;default:Ls(a,s)}t=t.sibling}}var Hs=8192;function Yl(e,t,a){if(e.subtreeFlags&Hs)for(e=e.child;e!==null;)O0(e,t,a),e=e.sibling}function O0(e,t,a){switch(e.tag){case 26:Yl(e,t,a),e.flags&Hs&&e.memoizedState!==null&&Ng(a,Vt,e.memoizedState,e.memoizedProps);break;case 5:Yl(e,t,a);break;case 3:case 4:var s=Vt;Vt=jr(e.stateNode.containerInfo),Yl(e,t,a),Vt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Hs,Hs=16777216,Yl(e,t,a),Hs=s):Yl(e,t,a));break;default:Yl(e,t,a)}}function R0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function qs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];tt=s,z0(s,e)}R0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)B0(e),e=e.sibling}function B0(e){switch(e.tag){case 0:case 11:case 15:qs(e),e.flags&2048&&Da(9,e,e.return);break;case 3:qs(e);break;case 12:qs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,or(e)):qs(e);break;default:qs(e)}}function or(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];tt=s,z0(s,e)}R0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Da(8,t,t.return),or(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,or(t));break;default:or(t)}e=e.sibling}}function z0(e,t){for(;tt!==null;){var a=tt;switch(a.tag){case 0:case 11:case 15:Da(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ws(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,tt=s;else e:for(a=e;tt!==null;){s=tt;var r=s.sibling,i=s.return;if(S0(s),s===a){tt=null;break e}if(r!==null){r.return=i,tt=r;break e}tt=i}}}var _x={getCacheForType:function(e){var t=st(Ke),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return st(Ke).controller.signal}},Lx=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Le=null,we=null,Se=0,Te=0,Ct=null,Ea=!1,Gl=!1,_o=!1,ha=0,Ze=0,Ta=0,cl=0,Lo=0,Dt=0,Vl=0,Ys=null,pt=null,Ho=!1,cr=0,U0=0,dr=1/0,ur=null,Oa=null,Pe=0,Ra=null,Zl=null,xa=0,qo=0,Yo=null,_0=null,Gs=0,Go=null;function Et(){return(Ee&2)!==0&&Se!==0?Se&-Se:E.T!==null?Ko():Pc()}function L0(){if(Dt===0)if((Se&536870912)===0||Ae){var e=yn;yn<<=1,(yn&3932160)===0&&(yn=262144),Dt=e}else Dt=536870912;return e=Mt.current,e!==null&&(e.flags|=32),Dt}function bt(e,t,a){(e===Le&&(Te===2||Te===9)||e.cancelPendingCommit!==null)&&(Xl(e,0),Ba(e,Se,Dt,!1)),cs(e,a),((Ee&2)===0||e!==Le)&&(e===Le&&((Ee&2)===0&&(cl|=a),Ze===4&&Ba(e,Se,Dt,!1)),$t(e))}function H0(e,t,a){if((Ee&6)!==0)throw Error(d(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||os(e,t),r=s?Yx(e,t):Zo(e,t,!0),i=s;do{if(r===0){Gl&&!s&&Ba(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!Hx(a)){r=Zo(e,t,!1),i=!1;continue}if(r===2){if(i=t,e.errorRecoveryDisabledLanes&i)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var x=e;r=Ys;var M=x.current.memoizedState.isDehydrated;if(M&&(Xl(x,m).flags|=256),m=Zo(x,m,!1),m!==2){if(_o&&!M){x.errorRecoveryDisabledLanes|=i,cl|=i,r=4;break e}i=pt,pt=r,i!==null&&(pt===null?pt=i:pt.push.apply(pt,i))}r=m}if(i=!1,r!==2)continue}}if(r===1){Xl(e,0),Ba(e,t,0,!0);break}e:{switch(s=e,i=r,i){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:Ba(s,t,Dt,!Ea);break e;case 2:pt=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(r=cr+300-jt(),10<r)){if(Ba(s,t,Dt,!Ea),jn(s,0,!0)!==0)break e;xa=t,s.timeoutHandle=gm(q0.bind(null,s,a,pt,ur,Ho,t,Dt,cl,Vl,Ea,i,"Throttled",-0,0),r);break e}q0(s,a,pt,ur,Ho,t,Dt,cl,Vl,Ea,i,null,-0,0)}}break}while(!0);$t(e)}function q0(e,t,a,s,r,i,m,x,M,B,Q,$,L,Z){if(e.timeoutHandle=-1,$=t.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ea},O0(t,i,$);var ce=(i&62914560)===i?cr-jt():(i&4194048)===i?U0-jt():0;if(ce=wg($,ce),ce!==null){xa=i,e.cancelPendingCommit=ce(K0.bind(null,e,t,i,a,s,r,m,x,M,Q,$,null,L,Z)),Ba(e,i,m,!B);return}}K0(e,t,i,a,s,r,m,x,M)}function Hx(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var r=a[s],i=r.getSnapshot;r=r.value;try{if(!kt(i(),r))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ba(e,t,a,s){t&=~Lo,t&=~cl,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var i=31-wt(r),m=1<<i;s[i]=-1,r&=~m}a!==0&&$c(e,a,t)}function mr(){return(Ee&6)===0?(Vs(0),!1):!0}function Vo(){if(we!==null){if(Te===0)var e=we.return;else e=we,sa=el=null,so(e),zl=null,Ss=0,e=we;for(;e!==null;)p0(e.alternate,e),e=e.return;we=null}}function Xl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ng(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),xa=0,Vo(),Le=e,we=a=aa(e.current,null),Se=t,Te=0,Ct=null,Ea=!1,Gl=os(e,t),_o=!1,Vl=Dt=Lo=cl=Ta=Ze=0,pt=Ys=null,Ho=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var r=31-wt(s),i=1<<r;t|=e[r],s&=~i}return ha=t,Rn(),a}function Y0(e,t){be=null,E.H=Rs,t===Bl||t===Yn?(t=lu(),Te=3):t===Qi?(t=lu(),Te=4):Te=t===jo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ct=t,we===null&&(Ze=1,tr(e,Bt(t,e.current)))}function G0(){var e=Mt.current;return e===null?!0:(Se&4194048)===Se?Lt===null:(Se&62914560)===Se||(Se&536870912)!==0?e===Lt:!1}function V0(){var e=E.H;return E.H=Rs,e===null?Rs:e}function Z0(){var e=E.A;return E.A=_x,e}function fr(){Ze=4,Ea||(Se&4194048)!==Se&&Mt.current!==null||(Gl=!0),(Ta&134217727)===0&&(cl&134217727)===0||Le===null||Ba(Le,Se,Dt,!1)}function Zo(e,t,a){var s=Ee;Ee|=2;var r=V0(),i=Z0();(Le!==e||Se!==t)&&(ur=null,Xl(e,t)),t=!1;var m=Ze;e:do try{if(Te!==0&&we!==null){var x=we,M=Ct;switch(Te){case 8:Vo(),m=6;break e;case 3:case 2:case 9:case 6:Mt.current===null&&(t=!0);var B=Te;if(Te=0,Ct=null,Ql(e,x,M,B),a&&Gl){m=0;break e}break;default:B=Te,Te=0,Ct=null,Ql(e,x,M,B)}}qx(),m=Ze;break}catch(Q){Y0(e,Q)}while(!0);return t&&e.shellSuspendCounter++,sa=el=null,Ee=s,E.H=r,E.A=i,we===null&&(Le=null,Se=0,Rn()),m}function qx(){for(;we!==null;)X0(we)}function Yx(e,t){var a=Ee;Ee|=2;var s=V0(),r=Z0();Le!==e||Se!==t?(ur=null,dr=jt()+500,Xl(e,t)):Gl=os(e,t);e:do try{if(Te!==0&&we!==null){t=we;var i=Ct;t:switch(Te){case 1:Te=0,Ct=null,Ql(e,t,i,1);break;case 2:case 9:if(tu(i)){Te=0,Ct=null,Q0(t);break}t=function(){Te!==2&&Te!==9||Le!==e||(Te=7),$t(e)},i.then(t,t);break e;case 3:Te=7;break e;case 4:Te=5;break e;case 7:tu(i)?(Te=0,Ct=null,Q0(t)):(Te=0,Ct=null,Ql(e,t,i,7));break;case 5:var m=null;switch(we.tag){case 26:m=we.memoizedState;case 5:case 27:var x=we;if(m?Tm(m):x.stateNode.complete){Te=0,Ct=null;var M=x.sibling;if(M!==null)we=M;else{var B=x.return;B!==null?(we=B,hr(B)):we=null}break t}}Te=0,Ct=null,Ql(e,t,i,5);break;case 6:Te=0,Ct=null,Ql(e,t,i,6);break;case 8:Vo(),Ze=6;break e;default:throw Error(d(462))}}Gx();break}catch(Q){Y0(e,Q)}while(!0);return sa=el=null,E.H=s,E.A=r,Ee=a,we!==null?0:(Le=null,Se=0,Rn(),Ze)}function Gx(){for(;we!==null&&!uh();)X0(we)}function X0(e){var t=x0(e.alternate,e,ha);e.memoizedProps=e.pendingProps,t===null?hr(e):we=t}function Q0(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=c0(a,t,t.pendingProps,t.type,void 0,Se);break;case 11:t=c0(a,t,t.pendingProps,t.type.render,t.ref,Se);break;case 5:so(t);default:p0(a,t),t=we=Zd(t,ha),t=x0(a,t,ha)}e.memoizedProps=e.pendingProps,t===null?hr(e):we=t}function Ql(e,t,a,s){sa=el=null,so(t),zl=null,Ss=0;var r=t.return;try{if(Ex(e,r,t,a,Se)){Ze=1,tr(e,Bt(a,e.current)),we=null;return}}catch(i){if(r!==null)throw we=r,i;Ze=1,tr(e,Bt(a,e.current)),we=null;return}t.flags&32768?(Ae||s===1?e=!0:Gl||(Se&536870912)!==0?e=!1:(Ea=e=!0,(s===2||s===9||s===3||s===6)&&(s=Mt.current,s!==null&&s.tag===13&&(s.flags|=16384))),F0(t,e)):hr(t)}function hr(e){var t=e;do{if((t.flags&32768)!==0){F0(t,Ea);return}e=t.return;var a=Rx(t.alternate,t,ha);if(a!==null){we=a;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Ze===0&&(Ze=5)}function F0(e,t){do{var a=Bx(e.alternate,e);if(a!==null){a.flags&=32767,we=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=a}while(e!==null);Ze=6,we=null}function K0(e,t,a,s,r,i,m,x,M){e.cancelPendingCommit=null;do xr();while(Pe!==0);if((Ee&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(i=t.lanes|t.childLanes,i|=Ti,jh(e,a,i,m,x,M),e===Le&&(we=Le=null,Se=0),Zl=t,Ra=e,xa=a,qo=i,Yo=r,_0=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Qx(pn,function(){return P0(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=E.T,E.T=null,r=Y.p,Y.p=2,m=Ee,Ee|=4;try{zx(e,t,a)}finally{Ee=m,Y.p=r,E.T=s}}Pe=1,J0(),$0(),I0()}}function J0(){if(Pe===1){Pe=0;var e=Ra,t=Zl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=E.T,E.T=null;var s=Y.p;Y.p=2;var r=Ee;Ee|=4;try{D0(t,e);var i=ac,m=zd(e.containerInfo),x=i.focusedElem,M=i.selectionRange;if(m!==x&&x&&x.ownerDocument&&Bd(x.ownerDocument.documentElement,x)){if(M!==null&&Mi(x)){var B=M.start,Q=M.end;if(Q===void 0&&(Q=B),"selectionStart"in x)x.selectionStart=B,x.selectionEnd=Math.min(Q,x.value.length);else{var $=x.ownerDocument||document,L=$&&$.defaultView||window;if(L.getSelection){var Z=L.getSelection(),ce=x.textContent.length,fe=Math.min(M.start,ce),Ue=M.end===void 0?fe:Math.min(M.end,ce);!Z.extend&&fe>Ue&&(m=Ue,Ue=fe,fe=m);var O=Rd(x,fe),D=Rd(x,Ue);if(O&&D&&(Z.rangeCount!==1||Z.anchorNode!==O.node||Z.anchorOffset!==O.offset||Z.focusNode!==D.node||Z.focusOffset!==D.offset)){var R=$.createRange();R.setStart(O.node,O.offset),Z.removeAllRanges(),fe>Ue?(Z.addRange(R),Z.extend(D.node,D.offset)):(R.setEnd(D.node,D.offset),Z.addRange(R))}}}}for($=[],Z=x;Z=Z.parentNode;)Z.nodeType===1&&$.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<$.length;x++){var F=$[x];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Ar=!!tc,ac=tc=null}finally{Ee=r,Y.p=s,E.T=a}}e.current=t,Pe=2}}function $0(){if(Pe===2){Pe=0;var e=Ra,t=Zl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=E.T,E.T=null;var s=Y.p;Y.p=2;var r=Ee;Ee|=4;try{k0(e,t.alternate,t)}finally{Ee=r,Y.p=s,E.T=a}}Pe=3}}function I0(){if(Pe===4||Pe===3){Pe=0,mh();var e=Ra,t=Zl,a=xa,s=_0;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Pe=5:(Pe=0,Zl=Ra=null,W0(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Oa=null),ii(a),t=t.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(is,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=E.T,r=Y.p,Y.p=2,E.T=null;try{for(var i=e.onRecoverableError,m=0;m<s.length;m++){var x=s[m];i(x.value,{componentStack:x.stack})}}finally{E.T=t,Y.p=r}}(xa&3)!==0&&xr(),$t(e),r=e.pendingLanes,(a&261930)!==0&&(r&42)!==0?e===Go?Gs++:(Gs=0,Go=e):Gs=0,Vs(0)}}function W0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ws(t)))}function xr(){return J0(),$0(),I0(),P0()}function P0(){if(Pe!==5)return!1;var e=Ra,t=qo;qo=0;var a=ii(xa),s=E.T,r=Y.p;try{Y.p=32>a?32:a,E.T=null,a=Yo,Yo=null;var i=Ra,m=xa;if(Pe=0,Zl=Ra=null,xa=0,(Ee&6)!==0)throw Error(d(331));var x=Ee;if(Ee|=4,B0(i.current),T0(i,i.current,m,a),Ee=x,Vs(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(is,i)}catch{}return!0}finally{Y.p=r,E.T=s,W0(e,t)}}function em(e,t,a){t=Bt(a,t),t=vo(e.stateNode,t,2),e=Ma(e,t,2),e!==null&&(cs(e,2),$t(e))}function Oe(e,t,a){if(e.tag===3)em(e,e,a);else for(;t!==null;){if(t.tag===3){em(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Oa===null||!Oa.has(s))){e=Bt(a,e),a=t0(2),s=Ma(t,a,2),s!==null&&(a0(a,s,t,e),cs(s,2),$t(s));break}}t=t.return}}function Xo(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Lx;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(a)||(_o=!0,r.add(a),e=Vx.bind(null,e,t,a),t.then(e,e))}function Vx(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Le===e&&(Se&a)===a&&(Ze===4||Ze===3&&(Se&62914560)===Se&&300>jt()-cr?(Ee&2)===0&&Xl(e,0):Lo|=a,Vl===Se&&(Vl=0)),$t(e)}function tm(e,t){t===0&&(t=Jc()),e=Ia(e,t),e!==null&&(cs(e,t),$t(e))}function Zx(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),tm(e,a)}function Xx(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(a=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(d(314))}s!==null&&s.delete(t),tm(e,a)}function Qx(e,t){return li(e,t)}var gr=null,Fl=null,Qo=!1,pr=!1,Fo=!1,za=0;function $t(e){e!==Fl&&e.next===null&&(Fl===null?gr=Fl=e:Fl=Fl.next=e),pr=!0,Qo||(Qo=!0,Kx())}function Vs(e,t){if(!Fo&&pr){Fo=!0;do for(var a=!1,s=gr;s!==null;){if(e!==0){var r=s.pendingLanes;if(r===0)var i=0;else{var m=s.suspendedLanes,x=s.pingedLanes;i=(1<<31-wt(42|e)+1)-1,i&=r&~(m&~x),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,nm(s,i))}else i=Se,i=jn(s,s===Le?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(i&3)===0||os(s,i)||(a=!0,nm(s,i));s=s.next}while(a);Fo=!1}}function Fx(){am()}function am(){pr=Qo=!1;var e=0;za!==0&&sg()&&(e=za);for(var t=jt(),a=null,s=gr;s!==null;){var r=s.next,i=lm(s,t);i===0?(s.next=null,a===null?gr=r:a.next=r,r===null&&(Fl=a)):(a=s,(e!==0||(i&3)!==0)&&(pr=!0)),s=r}Pe!==0&&Pe!==5||Vs(e),za!==0&&(za=0)}function lm(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var m=31-wt(i),x=1<<m,M=r[m];M===-1?((x&a)===0||(x&s)!==0)&&(r[m]=vh(x,t)):M<=t&&(e.expiredLanes|=x),i&=~x}if(t=Le,a=Se,a=jn(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Te===2||Te===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&si(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||os(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&si(s),ii(a)){case 2:case 8:a=Fc;break;case 32:a=pn;break;case 268435456:a=Kc;break;default:a=pn}return s=sm.bind(null,e),a=li(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&si(s),e.callbackPriority=2,e.callbackNode=null,2}function sm(e,t){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(xr()&&e.callbackNode!==a)return null;var s=Se;return s=jn(e,e===Le?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(H0(e,s,t),lm(e,jt()),e.callbackNode!=null&&e.callbackNode===a?sm.bind(null,e):null)}function nm(e,t){if(xr())return null;H0(e,t,!0)}function Kx(){rg(function(){(Ee&6)!==0?li(Qc,Fx):am()})}function Ko(){if(za===0){var e=Ol;e===0&&(e=bn,bn<<=1,(bn&261888)===0&&(bn=256)),za=e}return za}function rm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Sn(""+e)}function im(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Jx(e,t,a,s,r){if(t==="submit"&&a&&a.stateNode===r){var i=rm((r[mt]||null).action),m=s.submitter;m&&(t=(t=m[mt]||null)?rm(t.formAction):m.getAttribute("formAction"),t!==null&&(i=t,m=null));var x=new Dn("action","action",null,s,r);e.push({event:x,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(za!==0){var M=m?im(r,m):new FormData(r);ho(a,{pending:!0,data:M,method:r.method,action:i},null,M)}}else typeof i=="function"&&(x.preventDefault(),M=m?im(r,m):new FormData(r),ho(a,{pending:!0,data:M,method:r.method,action:i},i,M))},currentTarget:r}]})}}for(var Jo=0;Jo<Ei.length;Jo++){var $o=Ei[Jo],$x=$o.toLowerCase(),Ix=$o[0].toUpperCase()+$o.slice(1);Gt($x,"on"+Ix)}Gt(Ld,"onAnimationEnd"),Gt(Hd,"onAnimationIteration"),Gt(qd,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(fx,"onTransitionRun"),Gt(hx,"onTransitionStart"),Gt(xx,"onTransitionCancel"),Gt(Yd,"onTransitionEnd"),bl("onMouseEnter",["mouseout","mouseover"]),bl("onMouseLeave",["mouseout","mouseover"]),bl("onPointerEnter",["pointerout","pointerover"]),bl("onPointerLeave",["pointerout","pointerover"]),Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zs));function om(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],r=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var m=s.length-1;0<=m;m--){var x=s[m],M=x.instance,B=x.currentTarget;if(x=x.listener,M!==i&&r.isPropagationStopped())break e;i=x,r.currentTarget=B;try{i(r)}catch(Q){On(Q)}r.currentTarget=null,i=M}else for(m=0;m<s.length;m++){if(x=s[m],M=x.instance,B=x.currentTarget,x=x.listener,M!==i&&r.isPropagationStopped())break e;i=x,r.currentTarget=B;try{i(r)}catch(Q){On(Q)}r.currentTarget=null,i=M}}}}function ke(e,t){var a=t[oi];a===void 0&&(a=t[oi]=new Set);var s=e+"__bubble";a.has(s)||(cm(t,e,2,!1),a.add(s))}function Io(e,t,a){var s=0;t&&(s|=4),cm(a,e,s,t)}var br="_reactListening"+Math.random().toString(36).slice(2);function Wo(e){if(!e[br]){e[br]=!0,ad.forEach(function(a){a!=="selectionchange"&&(Wx.has(a)||Io(a,!1,e),Io(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[br]||(t[br]=!0,Io("selectionchange",!1,t))}}function cm(e,t,a,s){switch(Lm(t)){case 2:var r=Mg;break;case 8:r=Ag;break;default:r=fc}a=r.bind(null,t,a,e),r=void 0,!pi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):r!==void 0?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function Po(e,t,a,s,r){var i=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var x=s.stateNode.containerInfo;if(x===r)break;if(m===4)for(m=s.return;m!==null;){var M=m.tag;if((M===3||M===4)&&m.stateNode.containerInfo===r)return;m=m.return}for(;x!==null;){if(m=xl(x),m===null)return;if(M=m.tag,M===5||M===6||M===26||M===27){s=i=m;continue e}x=x.parentNode}}s=s.return}hd(function(){var B=i,Q=xi(a),$=[];e:{var L=Gd.get(e);if(L!==void 0){var Z=Dn,ce=e;switch(e){case"keypress":if(An(a)===0)break e;case"keydown":case"keyup":Z=Xh;break;case"focusin":ce="focus",Z=ji;break;case"focusout":ce="blur",Z=ji;break;case"beforeblur":case"afterblur":Z=ji;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Kh;break;case Ld:case Hd:case qd:Z=Uh;break;case Yd:Z=$h;break;case"scroll":case"scrollend":Z=Th;break;case"wheel":Z=Wh;break;case"copy":case"cut":case"paste":Z=Lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=yd;break;case"toggle":case"beforetoggle":Z=ex}var fe=(t&4)!==0,Ue=!fe&&(e==="scroll"||e==="scrollend"),O=fe?L!==null?L+"Capture":null:L;fe=[];for(var D=B,R;D!==null;){var F=D;if(R=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||R===null||O===null||(F=ms(D,O),F!=null&&fe.push(Xs(D,F,R))),Ue)break;D=D.return}0<fe.length&&(L=new Z(L,ce,null,a,Q),$.push({event:L,listeners:fe}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",L&&a!==hi&&(ce=a.relatedTarget||a.fromElement)&&(xl(ce)||ce[hl]))break e;if((Z||L)&&(L=Q.window===Q?Q:(L=Q.ownerDocument)?L.defaultView||L.parentWindow:window,Z?(ce=a.relatedTarget||a.toElement,Z=B,ce=ce?xl(ce):null,ce!==null&&(Ue=f(ce),fe=ce.tag,ce!==Ue||fe!==5&&fe!==27&&fe!==6)&&(ce=null)):(Z=null,ce=B),Z!==ce)){if(fe=pd,F="onMouseLeave",O="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(fe=yd,F="onPointerLeave",O="onPointerEnter",D="pointer"),Ue=Z==null?L:us(Z),R=ce==null?L:us(ce),L=new fe(F,D+"leave",Z,a,Q),L.target=Ue,L.relatedTarget=R,F=null,xl(Q)===B&&(fe=new fe(O,D+"enter",ce,a,Q),fe.target=R,fe.relatedTarget=Ue,F=fe),Ue=F,Z&&ce)t:{for(fe=Px,O=Z,D=ce,R=0,F=O;F;F=fe(F))R++;F=0;for(var me=D;me;me=fe(me))F++;for(;0<R-F;)O=fe(O),R--;for(;0<F-R;)D=fe(D),F--;for(;R--;){if(O===D||D!==null&&O===D.alternate){fe=O;break t}O=fe(O),D=fe(D)}fe=null}else fe=null;Z!==null&&dm($,L,Z,fe,!1),ce!==null&&Ue!==null&&dm($,Ue,ce,fe,!0)}}e:{if(L=B?us(B):window,Z=L.nodeName&&L.nodeName.toLowerCase(),Z==="select"||Z==="input"&&L.type==="file")var Ce=Ad;else if(Sd(L))if(Cd)Ce=dx;else{Ce=ox;var ue=ix}else Z=L.nodeName,!Z||Z.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?B&&fi(B.elementType)&&(Ce=Ad):Ce=cx;if(Ce&&(Ce=Ce(e,B))){Md($,Ce,a,Q);break e}ue&&ue(e,L,B),e==="focusout"&&B&&L.type==="number"&&B.memoizedProps.value!=null&&mi(L,"number",L.value)}switch(ue=B?us(B):window,e){case"focusin":(Sd(ue)||ue.contentEditable==="true")&&(kl=ue,Ai=B,vs=null);break;case"focusout":vs=Ai=kl=null;break;case"mousedown":Ci=!0;break;case"contextmenu":case"mouseup":case"dragend":Ci=!1,Ud($,a,Q);break;case"selectionchange":if(mx)break;case"keydown":case"keyup":Ud($,a,Q)}var Ne;if(wi)e:{switch(e){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else wl?wd(e,a)&&(Me="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(vd&&a.locale!=="ko"&&(wl||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&wl&&(Ne=xd()):(ya=Q,bi="value"in ya?ya.value:ya.textContent,wl=!0)),ue=yr(B,Me),0<ue.length&&(Me=new bd(Me,e,null,a,Q),$.push({event:Me,listeners:ue}),Ne?Me.data=Ne:(Ne=kd(a),Ne!==null&&(Me.data=Ne)))),(Ne=ax?lx(e,a):sx(e,a))&&(Me=yr(B,"onBeforeInput"),0<Me.length&&(ue=new bd("onBeforeInput","beforeinput",null,a,Q),$.push({event:ue,listeners:Me}),ue.data=Ne)),Jx($,e,B,a,Q)}om($,t)})}function Xs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function yr(e,t){for(var a=t+"Capture",s=[];e!==null;){var r=e,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=ms(e,a),r!=null&&s.unshift(Xs(e,r,i)),r=ms(e,t),r!=null&&s.push(Xs(e,r,i))),e.tag===3)return s;e=e.return}return[]}function Px(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function dm(e,t,a,s,r){for(var i=t._reactName,m=[];a!==null&&a!==s;){var x=a,M=x.alternate,B=x.stateNode;if(x=x.tag,M!==null&&M===s)break;x!==5&&x!==26&&x!==27||B===null||(M=B,r?(B=ms(a,i),B!=null&&m.unshift(Xs(a,B,M))):r||(B=ms(a,i),B!=null&&m.push(Xs(a,B,M)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var eg=/\r\n?/g,tg=/\u0000|\uFFFD/g;function um(e){return(typeof e=="string"?e:""+e).replace(eg,`
`).replace(tg,"")}function mm(e,t){return t=um(t),um(e)===t}function ze(e,t,a,s,r,i){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||vl(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&vl(e,""+s);break;case"className":wn(e,"class",s);break;case"tabIndex":wn(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(e,a,s);break;case"style":md(e,s,i);break;case"data":if(t!=="object"){wn(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Sn(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&ze(e,t,"name",r.name,r,null),ze(e,t,"formEncType",r.formEncType,r,null),ze(e,t,"formMethod",r.formMethod,r,null),ze(e,t,"formTarget",r.formTarget,r,null)):(ze(e,t,"encType",r.encType,r,null),ze(e,t,"method",r.method,r,null),ze(e,t,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Sn(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=ea);break;case"onScroll":s!=null&&ke("scroll",e);break;case"onScrollEnd":s!=null&&ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(d(61));if(a=s.__html,a!=null){if(r.children!=null)throw Error(d(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Sn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":ke("beforetoggle",e),ke("toggle",e),Nn(e,"popover",s);break;case"xlinkActuate":Pt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Pt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Pt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Pt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Pt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Pt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Nn(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Dh.get(a)||a,Nn(e,a,s))}}function ec(e,t,a,s,r,i){switch(a){case"style":md(e,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(d(61));if(a=s.__html,a!=null){if(r.children!=null)throw Error(d(60));e.innerHTML=a}}break;case"children":typeof s=="string"?vl(e,s):(typeof s=="number"||typeof s=="bigint")&&vl(e,""+s);break;case"onScroll":s!=null&&ke("scroll",e);break;case"onScrollEnd":s!=null&&ke("scrollend",e);break;case"onClick":s!=null&&(e.onclick=ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ld.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),i=e[mt]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,r),typeof s=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,r);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Nn(e,a,s)}}}function rt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",e),ke("load",e);var s=!1,r=!1,i;for(i in a)if(a.hasOwnProperty(i)){var m=a[i];if(m!=null)switch(i){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:ze(e,t,i,m,a,null)}}r&&ze(e,t,"srcSet",a.srcSet,a,null),s&&ze(e,t,"src",a.src,a,null);return;case"input":ke("invalid",e);var x=i=m=r=null,M=null,B=null;for(s in a)if(a.hasOwnProperty(s)){var Q=a[s];if(Q!=null)switch(s){case"name":r=Q;break;case"type":m=Q;break;case"checked":M=Q;break;case"defaultChecked":B=Q;break;case"value":i=Q;break;case"defaultValue":x=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(d(137,t));break;default:ze(e,t,s,Q,a,null)}}od(e,i,x,M,B,m,r,!1);return;case"select":ke("invalid",e),s=m=i=null;for(r in a)if(a.hasOwnProperty(r)&&(x=a[r],x!=null))switch(r){case"value":i=x;break;case"defaultValue":m=x;break;case"multiple":s=x;default:ze(e,t,r,x,a,null)}t=i,a=m,e.multiple=!!s,t!=null?yl(e,!!s,t,!1):a!=null&&yl(e,!!s,a,!0);return;case"textarea":ke("invalid",e),i=r=s=null;for(m in a)if(a.hasOwnProperty(m)&&(x=a[m],x!=null))switch(m){case"value":s=x;break;case"defaultValue":r=x;break;case"children":i=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(d(91));break;default:ze(e,t,m,x,a,null)}dd(e,s,r,i);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(s=a[M],s!=null))switch(M){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:ze(e,t,M,s,a,null)}return;case"dialog":ke("beforetoggle",e),ke("toggle",e),ke("cancel",e),ke("close",e);break;case"iframe":case"object":ke("load",e);break;case"video":case"audio":for(s=0;s<Zs.length;s++)ke(Zs[s],e);break;case"image":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"embed":case"source":case"link":ke("error",e),ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(s=a[B],s!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:ze(e,t,B,s,a,null)}return;default:if(fi(t)){for(Q in a)a.hasOwnProperty(Q)&&(s=a[Q],s!==void 0&&ec(e,t,Q,s,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(s=a[x],s!=null&&ze(e,t,x,s,a,null))}function ag(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,m=null,x=null,M=null,B=null,Q=null;for(Z in a){var $=a[Z];if(a.hasOwnProperty(Z)&&$!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":M=$;default:s.hasOwnProperty(Z)||ze(e,t,Z,null,s,$)}}for(var L in s){var Z=s[L];if($=a[L],s.hasOwnProperty(L)&&(Z!=null||$!=null))switch(L){case"type":i=Z;break;case"name":r=Z;break;case"checked":B=Z;break;case"defaultChecked":Q=Z;break;case"value":m=Z;break;case"defaultValue":x=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(d(137,t));break;default:Z!==$&&ze(e,t,L,Z,s,$)}}ui(e,m,x,M,B,Q,i,r);return;case"select":Z=m=x=L=null;for(i in a)if(M=a[i],a.hasOwnProperty(i)&&M!=null)switch(i){case"value":break;case"multiple":Z=M;default:s.hasOwnProperty(i)||ze(e,t,i,null,s,M)}for(r in s)if(i=s[r],M=a[r],s.hasOwnProperty(r)&&(i!=null||M!=null))switch(r){case"value":L=i;break;case"defaultValue":x=i;break;case"multiple":m=i;default:i!==M&&ze(e,t,r,i,s,M)}t=x,a=m,s=Z,L!=null?yl(e,!!a,L,!1):!!s!=!!a&&(t!=null?yl(e,!!a,t,!0):yl(e,!!a,a?[]:"",!1));return;case"textarea":Z=L=null;for(x in a)if(r=a[x],a.hasOwnProperty(x)&&r!=null&&!s.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:ze(e,t,x,null,s,r)}for(m in s)if(r=s[m],i=a[m],s.hasOwnProperty(m)&&(r!=null||i!=null))switch(m){case"value":L=r;break;case"defaultValue":Z=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(d(91));break;default:r!==i&&ze(e,t,m,r,s,i)}cd(e,L,Z);return;case"option":for(var ce in a)if(L=a[ce],a.hasOwnProperty(ce)&&L!=null&&!s.hasOwnProperty(ce))switch(ce){case"selected":e.selected=!1;break;default:ze(e,t,ce,null,s,L)}for(M in s)if(L=s[M],Z=a[M],s.hasOwnProperty(M)&&L!==Z&&(L!=null||Z!=null))switch(M){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:ze(e,t,M,L,s,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in a)L=a[fe],a.hasOwnProperty(fe)&&L!=null&&!s.hasOwnProperty(fe)&&ze(e,t,fe,null,s,L);for(B in s)if(L=s[B],Z=a[B],s.hasOwnProperty(B)&&L!==Z&&(L!=null||Z!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(d(137,t));break;default:ze(e,t,B,L,s,Z)}return;default:if(fi(t)){for(var Ue in a)L=a[Ue],a.hasOwnProperty(Ue)&&L!==void 0&&!s.hasOwnProperty(Ue)&&ec(e,t,Ue,void 0,s,L);for(Q in s)L=s[Q],Z=a[Q],!s.hasOwnProperty(Q)||L===Z||L===void 0&&Z===void 0||ec(e,t,Q,L,s,Z);return}}for(var O in a)L=a[O],a.hasOwnProperty(O)&&L!=null&&!s.hasOwnProperty(O)&&ze(e,t,O,null,s,L);for($ in s)L=s[$],Z=a[$],!s.hasOwnProperty($)||L===Z||L==null&&Z==null||ze(e,t,$,L,s,Z)}function fm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var r=a[s],i=r.transferSize,m=r.initiatorType,x=r.duration;if(i&&x&&fm(m)){for(m=0,x=r.responseEnd,s+=1;s<a.length;s++){var M=a[s],B=M.startTime;if(B>x)break;var Q=M.transferSize,$=M.initiatorType;Q&&fm($)&&(M=M.responseEnd,m+=Q*(M<x?1:(x-B)/(M-B)))}if(--s,t+=8*(i+m)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var tc=null,ac=null;function vr(e){return e.nodeType===9?e:e.ownerDocument}function hm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function lc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sc=null;function sg(){var e=window.event;return e&&e.type==="popstate"?e===sc?!1:(sc=e,!0):(sc=null,!1)}var gm=typeof setTimeout=="function"?setTimeout:void 0,ng=typeof clearTimeout=="function"?clearTimeout:void 0,pm=typeof Promise=="function"?Promise:void 0,rg=typeof queueMicrotask=="function"?queueMicrotask:typeof pm<"u"?function(e){return pm.resolve(null).then(e).catch(ig)}:gm;function ig(e){setTimeout(function(){throw e})}function Ua(e){return e==="head"}function bm(e,t){var a=t,s=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(r),Il(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")Qs(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Qs(a);for(var i=a.firstChild;i;){var m=i.nextSibling,x=i.nodeName;i[ds]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=m}}else a==="body"&&Qs(e.ownerDocument.body);a=r}while(a);Il(t)}function ym(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function nc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nc(a),ci(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function og(e,t,a,s){for(;e.nodeType===1;){var r=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ds])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Ht(e.nextSibling),e===null)break}return null}function cg(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ht(e.nextSibling),e===null))return null;return e}function vm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ht(e.nextSibling),e===null))return null;return e}function rc(e){return e.data==="$?"||e.data==="$~"}function ic(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function dg(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Ht(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var oc=null;function jm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Ht(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Nm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function wm(e,t,a){switch(t=vr(a),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function Qs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ci(e)}var qt=new Map,km=new Set;function jr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ga=Y.d;Y.d={f:ug,r:mg,D:fg,C:hg,L:xg,m:gg,X:bg,S:pg,M:yg};function ug(){var e=ga.f(),t=mr();return e||t}function mg(e){var t=gl(e);t!==null&&t.tag===5&&t.type==="form"?Yu(t):ga.r(e)}var Kl=typeof document>"u"?null:document;function Sm(e,t,a){var s=Kl;if(s&&typeof t=="string"&&t){var r=Ot(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof a=="string"&&(r+='[crossorigin="'+a+'"]'),km.has(r)||(km.add(r),e={rel:e,crossOrigin:a,href:t},s.querySelector(r)===null&&(t=s.createElement("link"),rt(t,"link",e),et(t),s.head.appendChild(t)))}}function fg(e){ga.D(e),Sm("dns-prefetch",e,null)}function hg(e,t){ga.C(e,t),Sm("preconnect",e,t)}function xg(e,t,a){ga.L(e,t,a);var s=Kl;if(s&&e&&t){var r='link[rel="preload"][as="'+Ot(t)+'"]';t==="image"&&a&&a.imageSrcSet?(r+='[imagesrcset="'+Ot(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(r+='[imagesizes="'+Ot(a.imageSizes)+'"]')):r+='[href="'+Ot(e)+'"]';var i=r;switch(t){case"style":i=Jl(e);break;case"script":i=$l(e)}qt.has(i)||(e=j({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),qt.set(i,e),s.querySelector(r)!==null||t==="style"&&s.querySelector(Fs(i))||t==="script"&&s.querySelector(Ks(i))||(t=s.createElement("link"),rt(t,"link",e),et(t),s.head.appendChild(t)))}}function gg(e,t){ga.m(e,t);var a=Kl;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Ot(s)+'"][href="'+Ot(e)+'"]',i=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=$l(e)}if(!qt.has(i)&&(e=j({rel:"modulepreload",href:e},t),qt.set(i,e),a.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ks(i)))return}s=a.createElement("link"),rt(s,"link",e),et(s),a.head.appendChild(s)}}}function pg(e,t,a){ga.S(e,t,a);var s=Kl;if(s&&e){var r=pl(s).hoistableStyles,i=Jl(e);t=t||"default";var m=r.get(i);if(!m){var x={loading:0,preload:null};if(m=s.querySelector(Fs(i)))x.loading=5;else{e=j({rel:"stylesheet",href:e,"data-precedence":t},a),(a=qt.get(i))&&cc(e,a);var M=m=s.createElement("link");et(M),rt(M,"link",e),M._p=new Promise(function(B,Q){M.onload=B,M.onerror=Q}),M.addEventListener("load",function(){x.loading|=1}),M.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Nr(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:x},r.set(i,m)}}}function bg(e,t){ga.X(e,t);var a=Kl;if(a&&e){var s=pl(a).hoistableScripts,r=$l(e),i=s.get(r);i||(i=a.querySelector(Ks(r)),i||(e=j({src:e,async:!0},t),(t=qt.get(r))&&dc(e,t),i=a.createElement("script"),et(i),rt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function yg(e,t){ga.M(e,t);var a=Kl;if(a&&e){var s=pl(a).hoistableScripts,r=$l(e),i=s.get(r);i||(i=a.querySelector(Ks(r)),i||(e=j({src:e,async:!0,type:"module"},t),(t=qt.get(r))&&dc(e,t),i=a.createElement("script"),et(i),rt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function Mm(e,t,a,s){var r=(r=le.current)?jr(r):null;if(!r)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Jl(a.href),a=pl(r).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Jl(a.href);var i=pl(r).hoistableStyles,m=i.get(e);if(m||(r=r.ownerDocument||r,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,m),(i=r.querySelector(Fs(e)))&&!i._p&&(m.instance=i,m.state.loading=5),qt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qt.set(e,a),i||vg(r,e,a,m.state))),t&&s===null)throw Error(d(528,""));return m}if(t&&s!==null)throw Error(d(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=$l(a),a=pl(r).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function Jl(e){return'href="'+Ot(e)+'"'}function Fs(e){return'link[rel="stylesheet"]['+e+"]"}function Am(e){return j({},e,{"data-precedence":e.precedence,precedence:null})}function vg(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),rt(t,"link",a),et(t),e.head.appendChild(t))}function $l(e){return'[src="'+Ot(e)+'"]'}function Ks(e){return"script[async]"+e}function Cm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Ot(a.href)+'"]');if(s)return t.instance=s,et(s),s;var r=j({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),et(s),rt(s,"style",r),Nr(s,a.precedence,e),t.instance=s;case"stylesheet":r=Jl(a.href);var i=e.querySelector(Fs(r));if(i)return t.state.loading|=4,t.instance=i,et(i),i;s=Am(a),(r=qt.get(r))&&cc(s,r),i=(e.ownerDocument||e).createElement("link"),et(i);var m=i;return m._p=new Promise(function(x,M){m.onload=x,m.onerror=M}),rt(i,"link",s),t.state.loading|=4,Nr(i,a.precedence,e),t.instance=i;case"script":return i=$l(a.src),(r=e.querySelector(Ks(i)))?(t.instance=r,et(r),r):(s=a,(r=qt.get(i))&&(s=j({},a),dc(s,r)),e=e.ownerDocument||e,r=e.createElement("script"),et(r),rt(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Nr(s,a.precedence,e));return t.instance}function Nr(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,i=r,m=0;m<s.length;m++){var x=s[m];if(x.dataset.precedence===t)i=x;else if(i!==r)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function cc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function dc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var wr=null;function Dm(e,t,a){if(wr===null){var s=new Map,r=wr=new Map;r.set(a,s)}else r=wr,s=r.get(a),s||(s=new Map,r.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var i=a[r];if(!(i[ds]||i[at]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var m=i.getAttribute(t)||"";m=e+m;var x=s.get(m);x?x.push(i):s.set(m,[i])}}return s}function Em(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function jg(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Tm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ng(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var r=Jl(s.href),i=t.querySelector(Fs(r));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=kr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,et(i);return}i=t.ownerDocument||t,s=Am(s),(r=qt.get(r))&&cc(s,r),i=i.createElement("link"),et(i);var m=i;m._p=new Promise(function(x,M){m.onload=x,m.onerror=M}),rt(i,"link",s),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=kr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var uc=0;function wg(e,t){return e.stylesheets&&e.count===0&&Mr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Mr(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&uc===0&&(uc=62500*lg());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Mr(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>uc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(r)}}:null}function kr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Sr=null;function Mr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Sr=new Map,t.forEach(kg,e),Sr=null,kr.call(e))}function kg(e,t){if(!(t.state.loading&4)){var a=Sr.get(e);if(a)var s=a.get(null);else{a=new Map,Sr.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var m=r[i];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),s=m)}s&&a.set(null,s)}r=t.instance,m=r.getAttribute("data-precedence"),i=a.get(m)||s,i===s&&a.set(null,r),a.set(m,r),this.count++,s=kr.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),i?i.parentNode.insertBefore(r,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Js={$$typeof:G,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function Sg(e,t,a,s,r,i,m,x,M){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Om(e,t,a,s,r,i,m,x,M,B,Q,$){return e=new Sg(e,t,a,m,M,B,Q,$,x),t=1,i===!0&&(t|=24),i=St(3,null,null,t),e.current=i,i.stateNode=e,t=Vi(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:s,isDehydrated:a,cache:t},Fi(i),e}function Rm(e){return e?(e=Al,e):Al}function Bm(e,t,a,s,r,i){r=Rm(r),s.context===null?s.context=r:s.pendingContext=r,s=Sa(t),s.payload={element:a},i=i===void 0?null:i,i!==null&&(s.callback=i),a=Ma(e,s,t),a!==null&&(bt(a,e,t),As(a,e,t))}function zm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function mc(e,t){zm(e,t),(e=e.alternate)&&zm(e,t)}function Um(e){if(e.tag===13||e.tag===31){var t=Ia(e,67108864);t!==null&&bt(t,e,67108864),mc(e,67108864)}}function _m(e){if(e.tag===13||e.tag===31){var t=Et();t=ri(t);var a=Ia(e,t);a!==null&&bt(a,e,t),mc(e,t)}}var Ar=!0;function Mg(e,t,a,s){var r=E.T;E.T=null;var i=Y.p;try{Y.p=2,fc(e,t,a,s)}finally{Y.p=i,E.T=r}}function Ag(e,t,a,s){var r=E.T;E.T=null;var i=Y.p;try{Y.p=8,fc(e,t,a,s)}finally{Y.p=i,E.T=r}}function fc(e,t,a,s){if(Ar){var r=hc(s);if(r===null)Po(e,t,s,Cr,a),Hm(e,s);else if(Dg(r,e,t,a,s))s.stopPropagation();else if(Hm(e,s),t&4&&-1<Cg.indexOf(e)){for(;r!==null;){var i=gl(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var m=Qa(i.pendingLanes);if(m!==0){var x=i;for(x.pendingLanes|=2,x.entangledLanes|=2;m;){var M=1<<31-wt(m);x.entanglements[1]|=M,m&=~M}$t(i),(Ee&6)===0&&(dr=jt()+500,Vs(0))}}break;case 31:case 13:x=Ia(i,2),x!==null&&bt(x,i,2),mr(),mc(i,2)}if(i=hc(s),i===null&&Po(e,t,s,Cr,a),i===r)break;r=i}r!==null&&s.stopPropagation()}else Po(e,t,s,null,a)}}function hc(e){return e=xi(e),xc(e)}var Cr=null;function xc(e){if(Cr=null,e=xl(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=p(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Cr=e,null}function Lm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fh()){case Qc:return 2;case Fc:return 8;case pn:case hh:return 32;case Kc:return 268435456;default:return 32}default:return 32}}var gc=!1,_a=null,La=null,Ha=null,$s=new Map,Is=new Map,qa=[],Cg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hm(e,t){switch(e){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":La=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":$s.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Is.delete(t.pointerId)}}function Ws(e,t,a,s,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},t!==null&&(t=gl(t),t!==null&&Um(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Dg(e,t,a,s,r){switch(t){case"focusin":return _a=Ws(_a,e,t,a,s,r),!0;case"dragenter":return La=Ws(La,e,t,a,s,r),!0;case"mouseover":return Ha=Ws(Ha,e,t,a,s,r),!0;case"pointerover":var i=r.pointerId;return $s.set(i,Ws($s.get(i)||null,e,t,a,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Is.set(i,Ws(Is.get(i)||null,e,t,a,s,r)),!0}return!1}function qm(e){var t=xl(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,ed(e.priority,function(){_m(a)});return}}else if(t===31){if(t=p(a),t!==null){e.blockedOn=t,ed(e.priority,function(){_m(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=hc(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);hi=s,a.target.dispatchEvent(s),hi=null}else return t=gl(a),t!==null&&Um(t),e.blockedOn=a,!1;t.shift()}return!0}function Ym(e,t,a){Dr(e)&&a.delete(t)}function Eg(){gc=!1,_a!==null&&Dr(_a)&&(_a=null),La!==null&&Dr(La)&&(La=null),Ha!==null&&Dr(Ha)&&(Ha=null),$s.forEach(Ym),Is.forEach(Ym)}function Er(e,t){e.blockedOn===t&&(e.blockedOn=null,gc||(gc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Eg)))}var Tr=null;function Gm(e){Tr!==e&&(Tr=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Tr===e&&(Tr=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],r=e[t+2];if(typeof s!="function"){if(xc(s||a)===null)continue;break}var i=gl(a);i!==null&&(e.splice(t,3),t-=3,ho(i,{pending:!0,data:r,method:a.method,action:s},s,r))}}))}function Il(e){function t(M){return Er(M,e)}_a!==null&&Er(_a,e),La!==null&&Er(La,e),Ha!==null&&Er(Ha,e),$s.forEach(t),Is.forEach(t);for(var a=0;a<qa.length;a++){var s=qa[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<qa.length&&(a=qa[0],a.blockedOn===null);)qm(a),a.blockedOn===null&&qa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var r=a[s],i=a[s+1],m=r[mt]||null;if(typeof i=="function")m||Gm(a);else if(m){var x=null;if(i&&i.hasAttribute("formAction")){if(r=i,m=i[mt]||null)x=m.formAction;else if(xc(r)!==null)continue}else x=m.action;typeof x=="function"?a[s+1]=x:(a.splice(s,3),s-=3),Gm(a)}}}function Vm(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(m){return r=m})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function pc(e){this._internalRoot=e}Or.prototype.render=pc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var a=t.current,s=Et();Bm(a,s,e,t,null,null)},Or.prototype.unmount=pc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bm(e.current,2,null,e,null,null),mr(),t[hl]=null}};function Or(e){this._internalRoot=e}Or.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<qa.length&&t!==0&&t<qa[a].priority;a++);qa.splice(a,0,e),a===0&&qm(e)}};var Zm=o.version;if(Zm!=="19.2.0")throw Error(d(527,Zm,"19.2.0"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=g(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Tg={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:E,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rr.isDisabled&&Rr.supportsFiber)try{is=Rr.inject(Tg),Nt=Rr}catch{}}return en.createRoot=function(e,t){if(!u(e))throw Error(d(299));var a=!1,s="",r=Iu,i=Wu,m=Pu;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Om(e,1,!1,null,null,a,s,null,r,i,m,Vm),e[hl]=t.current,Wo(e),new pc(t)},en.hydrateRoot=function(e,t,a){if(!u(e))throw Error(d(299));var s=!1,r="",i=Iu,m=Wu,x=Pu,M=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),t=Om(e,1,!0,t,a??null,s,r,M,i,m,x,Vm),t.context=Rm(null),a=t.current,s=Et(),s=ri(s),r=Sa(s),r.callback=null,Ma(a,r,s),a=s,t.current.lanes=a,cs(t,a),$t(t),e[hl]=t.current,Wo(e),new Or(t)},en.version="19.2.0",en}var ef;function Yg(){if(ef)return vc.exports;ef=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(o){console.error(o)}}return n(),vc.exports=qg(),vc.exports}var Gg=Yg();const Vg=wf(Gg);function Sf(n,o){return function(){return n.apply(o,arguments)}}const{toString:Zg}=Object.prototype,{getPrototypeOf:_c}=Object,{iterator:Qr,toStringTag:Mf}=Symbol,Fr=(n=>o=>{const c=Zg.call(o);return n[c]||(n[c]=c.slice(8,-1).toLowerCase())})(Object.create(null)),Qt=n=>(n=n.toLowerCase(),o=>Fr(o)===n),Kr=n=>o=>typeof o===n,{isArray:ss}=Array,ts=Kr("undefined");function an(n){return n!==null&&!ts(n)&&n.constructor!==null&&!ts(n.constructor)&&yt(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Af=Qt("ArrayBuffer");function Xg(n){let o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(n):o=n&&n.buffer&&Af(n.buffer),o}const Qg=Kr("string"),yt=Kr("function"),Cf=Kr("number"),ln=n=>n!==null&&typeof n=="object",Fg=n=>n===!0||n===!1,Yr=n=>{if(Fr(n)!=="object")return!1;const o=_c(n);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Mf in n)&&!(Qr in n)},Kg=n=>{if(!ln(n)||an(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},Jg=Qt("Date"),$g=Qt("File"),Ig=Qt("Blob"),Wg=Qt("FileList"),Pg=n=>ln(n)&&yt(n.pipe),ep=n=>{let o;return n&&(typeof FormData=="function"&&n instanceof FormData||yt(n.append)&&((o=Fr(n))==="formdata"||o==="object"&&yt(n.toString)&&n.toString()==="[object FormData]"))},tp=Qt("URLSearchParams"),[ap,lp,sp,np]=["ReadableStream","Request","Response","Headers"].map(Qt),rp=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sn(n,o,{allOwnKeys:c=!1}={}){if(n===null||typeof n>"u")return;let d,u;if(typeof n!="object"&&(n=[n]),ss(n))for(d=0,u=n.length;d<u;d++)o.call(null,n[d],d,n);else{if(an(n))return;const f=c?Object.getOwnPropertyNames(n):Object.keys(n),h=f.length;let p;for(d=0;d<h;d++)p=f[d],o.call(null,n[p],p,n)}}function Df(n,o){if(an(n))return null;o=o.toLowerCase();const c=Object.keys(n);let d=c.length,u;for(;d-- >0;)if(u=c[d],o===u.toLowerCase())return u;return null}const dl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ef=n=>!ts(n)&&n!==dl;function Tc(){const{caseless:n,skipUndefined:o}=Ef(this)&&this||{},c={},d=(u,f)=>{const h=n&&Df(c,f)||f;Yr(c[h])&&Yr(u)?c[h]=Tc(c[h],u):Yr(u)?c[h]=Tc({},u):ss(u)?c[h]=u.slice():(!o||!ts(u))&&(c[h]=u)};for(let u=0,f=arguments.length;u<f;u++)arguments[u]&&sn(arguments[u],d);return c}const ip=(n,o,c,{allOwnKeys:d}={})=>(sn(o,(u,f)=>{c&&yt(u)?n[f]=Sf(u,c):n[f]=u},{allOwnKeys:d}),n),op=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),cp=(n,o,c,d)=>{n.prototype=Object.create(o.prototype,d),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:o.prototype}),c&&Object.assign(n.prototype,c)},dp=(n,o,c,d)=>{let u,f,h;const p={};if(o=o||{},n==null)return o;do{for(u=Object.getOwnPropertyNames(n),f=u.length;f-- >0;)h=u[f],(!d||d(h,n,o))&&!p[h]&&(o[h]=n[h],p[h]=!0);n=c!==!1&&_c(n)}while(n&&(!c||c(n,o))&&n!==Object.prototype);return o},up=(n,o,c)=>{n=String(n),(c===void 0||c>n.length)&&(c=n.length),c-=o.length;const d=n.indexOf(o,c);return d!==-1&&d===c},mp=n=>{if(!n)return null;if(ss(n))return n;let o=n.length;if(!Cf(o))return null;const c=new Array(o);for(;o-- >0;)c[o]=n[o];return c},fp=(n=>o=>n&&o instanceof n)(typeof Uint8Array<"u"&&_c(Uint8Array)),hp=(n,o)=>{const d=(n&&n[Qr]).call(n);let u;for(;(u=d.next())&&!u.done;){const f=u.value;o.call(n,f[0],f[1])}},xp=(n,o)=>{let c;const d=[];for(;(c=n.exec(o))!==null;)d.push(c);return d},gp=Qt("HTMLFormElement"),pp=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(c,d,u){return d.toUpperCase()+u}),tf=(({hasOwnProperty:n})=>(o,c)=>n.call(o,c))(Object.prototype),bp=Qt("RegExp"),Tf=(n,o)=>{const c=Object.getOwnPropertyDescriptors(n),d={};sn(c,(u,f)=>{let h;(h=o(u,f,n))!==!1&&(d[f]=h||u)}),Object.defineProperties(n,d)},yp=n=>{Tf(n,(o,c)=>{if(yt(n)&&["arguments","caller","callee"].indexOf(c)!==-1)return!1;const d=n[c];if(yt(d)){if(o.enumerable=!1,"writable"in o){o.writable=!1;return}o.set||(o.set=()=>{throw Error("Can not rewrite read-only method '"+c+"'")})}})},vp=(n,o)=>{const c={},d=u=>{u.forEach(f=>{c[f]=!0})};return ss(n)?d(n):d(String(n).split(o)),c},jp=()=>{},Np=(n,o)=>n!=null&&Number.isFinite(n=+n)?n:o;function wp(n){return!!(n&&yt(n.append)&&n[Mf]==="FormData"&&n[Qr])}const kp=n=>{const o=new Array(10),c=(d,u)=>{if(ln(d)){if(o.indexOf(d)>=0)return;if(an(d))return d;if(!("toJSON"in d)){o[u]=d;const f=ss(d)?[]:{};return sn(d,(h,p)=>{const b=c(h,u+1);!ts(b)&&(f[p]=b)}),o[u]=void 0,f}}return d};return c(n,0)},Sp=Qt("AsyncFunction"),Mp=n=>n&&(ln(n)||yt(n))&&yt(n.then)&&yt(n.catch),Of=((n,o)=>n?setImmediate:o?((c,d)=>(dl.addEventListener("message",({source:u,data:f})=>{u===dl&&f===c&&d.length&&d.shift()()},!1),u=>{d.push(u),dl.postMessage(c,"*")}))(`axios@${Math.random()}`,[]):c=>setTimeout(c))(typeof setImmediate=="function",yt(dl.postMessage)),Ap=typeof queueMicrotask<"u"?queueMicrotask.bind(dl):typeof process<"u"&&process.nextTick||Of,Cp=n=>n!=null&&yt(n[Qr]),V={isArray:ss,isArrayBuffer:Af,isBuffer:an,isFormData:ep,isArrayBufferView:Xg,isString:Qg,isNumber:Cf,isBoolean:Fg,isObject:ln,isPlainObject:Yr,isEmptyObject:Kg,isReadableStream:ap,isRequest:lp,isResponse:sp,isHeaders:np,isUndefined:ts,isDate:Jg,isFile:$g,isBlob:Ig,isRegExp:bp,isFunction:yt,isStream:Pg,isURLSearchParams:tp,isTypedArray:fp,isFileList:Wg,forEach:sn,merge:Tc,extend:ip,trim:rp,stripBOM:op,inherits:cp,toFlatObject:dp,kindOf:Fr,kindOfTest:Qt,endsWith:up,toArray:mp,forEachEntry:hp,matchAll:xp,isHTMLForm:gp,hasOwnProperty:tf,hasOwnProp:tf,reduceDescriptors:Tf,freezeMethods:yp,toObjectSet:vp,toCamelCase:pp,noop:jp,toFiniteNumber:Np,findKey:Df,global:dl,isContextDefined:Ef,isSpecCompliantForm:wp,toJSONObject:kp,isAsyncFn:Sp,isThenable:Mp,setImmediate:Of,asap:Ap,isIterable:Cp};function ye(n,o,c,d,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",o&&(this.code=o),c&&(this.config=c),d&&(this.request=d),u&&(this.response=u,this.status=u.status?u.status:null)}V.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const Rf=ye.prototype,Bf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Bf[n]={value:n}});Object.defineProperties(ye,Bf);Object.defineProperty(Rf,"isAxiosError",{value:!0});ye.from=(n,o,c,d,u,f)=>{const h=Object.create(Rf);V.toFlatObject(n,h,function(y){return y!==Error.prototype},g=>g!=="isAxiosError");const p=n&&n.message?n.message:"Error",b=o==null&&n?n.code:o;return ye.call(h,p,b,c,d,u),n&&h.cause==null&&Object.defineProperty(h,"cause",{value:n,configurable:!0}),h.name=n&&n.name||"Error",f&&Object.assign(h,f),h};const Dp=null;function Oc(n){return V.isPlainObject(n)||V.isArray(n)}function zf(n){return V.endsWith(n,"[]")?n.slice(0,-2):n}function af(n,o,c){return n?n.concat(o).map(function(u,f){return u=zf(u),!c&&f?"["+u+"]":u}).join(c?".":""):o}function Ep(n){return V.isArray(n)&&!n.some(Oc)}const Tp=V.toFlatObject(V,{},null,function(o){return/^is[A-Z]/.test(o)});function Jr(n,o,c){if(!V.isObject(n))throw new TypeError("target must be an object");o=o||new FormData,c=V.toFlatObject(c,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,w){return!V.isUndefined(w[S])});const d=c.metaTokens,u=c.visitor||y,f=c.dots,h=c.indexes,b=(c.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(o);if(!V.isFunction(u))throw new TypeError("visitor must be a function");function g(v){if(v===null)return"";if(V.isDate(v))return v.toISOString();if(V.isBoolean(v))return v.toString();if(!b&&V.isBlob(v))throw new ye("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(v)||V.isTypedArray(v)?b&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function y(v,S,w){let T=v;if(v&&!w&&typeof v=="object"){if(V.endsWith(S,"{}"))S=d?S:S.slice(0,-2),v=JSON.stringify(v);else if(V.isArray(v)&&Ep(v)||(V.isFileList(v)||V.endsWith(S,"[]"))&&(T=V.toArray(v)))return S=zf(S),T.forEach(function(G,ae){!(V.isUndefined(G)||G===null)&&o.append(h===!0?af([S],ae,f):h===null?S:S+"[]",g(G))}),!1}return Oc(v)?!0:(o.append(af(w,S,f),g(v)),!1)}const j=[],N=Object.assign(Tp,{defaultVisitor:y,convertValue:g,isVisitable:Oc});function A(v,S){if(!V.isUndefined(v)){if(j.indexOf(v)!==-1)throw Error("Circular reference detected in "+S.join("."));j.push(v),V.forEach(v,function(T,U){(!(V.isUndefined(T)||T===null)&&u.call(o,T,V.isString(U)?U.trim():U,S,N))===!0&&A(T,S?S.concat(U):[U])}),j.pop()}}if(!V.isObject(n))throw new TypeError("data must be an object");return A(n),o}function lf(n){const o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(d){return o[d]})}function Lc(n,o){this._pairs=[],n&&Jr(n,this,o)}const Uf=Lc.prototype;Uf.append=function(o,c){this._pairs.push([o,c])};Uf.toString=function(o){const c=o?function(d){return o.call(this,d,lf)}:lf;return this._pairs.map(function(u){return c(u[0])+"="+c(u[1])},"").join("&")};function Op(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function _f(n,o,c){if(!o)return n;const d=c&&c.encode||Op;V.isFunction(c)&&(c={serialize:c});const u=c&&c.serialize;let f;if(u?f=u(o,c):f=V.isURLSearchParams(o)?o.toString():new Lc(o,c).toString(d),f){const h=n.indexOf("#");h!==-1&&(n=n.slice(0,h)),n+=(n.indexOf("?")===-1?"?":"&")+f}return n}class sf{constructor(){this.handlers=[]}use(o,c,d){return this.handlers.push({fulfilled:o,rejected:c,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1}eject(o){this.handlers[o]&&(this.handlers[o]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(o){V.forEach(this.handlers,function(d){d!==null&&o(d)})}}const Lf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Rp=typeof URLSearchParams<"u"?URLSearchParams:Lc,Bp=typeof FormData<"u"?FormData:null,zp=typeof Blob<"u"?Blob:null,Up={isBrowser:!0,classes:{URLSearchParams:Rp,FormData:Bp,Blob:zp},protocols:["http","https","file","blob","url","data"]},Hc=typeof window<"u"&&typeof document<"u",Rc=typeof navigator=="object"&&navigator||void 0,_p=Hc&&(!Rc||["ReactNative","NativeScript","NS"].indexOf(Rc.product)<0),Lp=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Hp=Hc&&window.location.href||"http://localhost",qp=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hc,hasStandardBrowserEnv:_p,hasStandardBrowserWebWorkerEnv:Lp,navigator:Rc,origin:Hp},Symbol.toStringTag,{value:"Module"})),ct={...qp,...Up};function Yp(n,o){return Jr(n,new ct.classes.URLSearchParams,{visitor:function(c,d,u,f){return ct.isNode&&V.isBuffer(c)?(this.append(d,c.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)},...o})}function Gp(n){return V.matchAll(/\w+|\[(\w*)]/g,n).map(o=>o[0]==="[]"?"":o[1]||o[0])}function Vp(n){const o={},c=Object.keys(n);let d;const u=c.length;let f;for(d=0;d<u;d++)f=c[d],o[f]=n[f];return o}function Hf(n){function o(c,d,u,f){let h=c[f++];if(h==="__proto__")return!0;const p=Number.isFinite(+h),b=f>=c.length;return h=!h&&V.isArray(u)?u.length:h,b?(V.hasOwnProp(u,h)?u[h]=[u[h],d]:u[h]=d,!p):((!u[h]||!V.isObject(u[h]))&&(u[h]=[]),o(c,d,u[h],f)&&V.isArray(u[h])&&(u[h]=Vp(u[h])),!p)}if(V.isFormData(n)&&V.isFunction(n.entries)){const c={};return V.forEachEntry(n,(d,u)=>{o(Gp(d),u,c,0)}),c}return null}function Zp(n,o,c){if(V.isString(n))try{return(o||JSON.parse)(n),V.trim(n)}catch(d){if(d.name!=="SyntaxError")throw d}return(c||JSON.stringify)(n)}const nn={transitional:Lf,adapter:["xhr","http","fetch"],transformRequest:[function(o,c){const d=c.getContentType()||"",u=d.indexOf("application/json")>-1,f=V.isObject(o);if(f&&V.isHTMLForm(o)&&(o=new FormData(o)),V.isFormData(o))return u?JSON.stringify(Hf(o)):o;if(V.isArrayBuffer(o)||V.isBuffer(o)||V.isStream(o)||V.isFile(o)||V.isBlob(o)||V.isReadableStream(o))return o;if(V.isArrayBufferView(o))return o.buffer;if(V.isURLSearchParams(o))return c.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),o.toString();let p;if(f){if(d.indexOf("application/x-www-form-urlencoded")>-1)return Yp(o,this.formSerializer).toString();if((p=V.isFileList(o))||d.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return Jr(p?{"files[]":o}:o,b&&new b,this.formSerializer)}}return f||u?(c.setContentType("application/json",!1),Zp(o)):o}],transformResponse:[function(o){const c=this.transitional||nn.transitional,d=c&&c.forcedJSONParsing,u=this.responseType==="json";if(V.isResponse(o)||V.isReadableStream(o))return o;if(o&&V.isString(o)&&(d&&!this.responseType||u)){const h=!(c&&c.silentJSONParsing)&&u;try{return JSON.parse(o,this.parseReviver)}catch(p){if(h)throw p.name==="SyntaxError"?ye.from(p,ye.ERR_BAD_RESPONSE,this,null,this.response):p}}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ct.classes.FormData,Blob:ct.classes.Blob},validateStatus:function(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],n=>{nn.headers[n]={}});const Xp=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Qp=n=>{const o={};let c,d,u;return n&&n.split(`
`).forEach(function(h){u=h.indexOf(":"),c=h.substring(0,u).trim().toLowerCase(),d=h.substring(u+1).trim(),!(!c||o[c]&&Xp[c])&&(c==="set-cookie"?o[c]?o[c].push(d):o[c]=[d]:o[c]=o[c]?o[c]+", "+d:d)}),o},nf=Symbol("internals");function tn(n){return n&&String(n).trim().toLowerCase()}function Gr(n){return n===!1||n==null?n:V.isArray(n)?n.map(Gr):String(n)}function Fp(n){const o=Object.create(null),c=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=c.exec(n);)o[d[1]]=d[2];return o}const Kp=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function kc(n,o,c,d,u){if(V.isFunction(d))return d.call(this,o,c);if(u&&(o=c),!!V.isString(o)){if(V.isString(d))return o.indexOf(d)!==-1;if(V.isRegExp(d))return d.test(o)}}function Jp(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(o,c,d)=>c.toUpperCase()+d)}function $p(n,o){const c=V.toCamelCase(" "+o);["get","set","has"].forEach(d=>{Object.defineProperty(n,d+c,{value:function(u,f,h){return this[d].call(this,o,u,f,h)},configurable:!0})})}let vt=class{constructor(o){o&&this.set(o)}set(o,c,d){const u=this;function f(p,b,g){const y=tn(b);if(!y)throw new Error("header name must be a non-empty string");const j=V.findKey(u,y);(!j||u[j]===void 0||g===!0||g===void 0&&u[j]!==!1)&&(u[j||b]=Gr(p))}const h=(p,b)=>V.forEach(p,(g,y)=>f(g,y,b));if(V.isPlainObject(o)||o instanceof this.constructor)h(o,c);else if(V.isString(o)&&(o=o.trim())&&!Kp(o))h(Qp(o),c);else if(V.isObject(o)&&V.isIterable(o)){let p={},b,g;for(const y of o){if(!V.isArray(y))throw TypeError("Object iterator must return a key-value pair");p[g=y[0]]=(b=p[g])?V.isArray(b)?[...b,y[1]]:[b,y[1]]:y[1]}h(p,c)}else o!=null&&f(c,o,d);return this}get(o,c){if(o=tn(o),o){const d=V.findKey(this,o);if(d){const u=this[d];if(!c)return u;if(c===!0)return Fp(u);if(V.isFunction(c))return c.call(this,u,d);if(V.isRegExp(c))return c.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(o,c){if(o=tn(o),o){const d=V.findKey(this,o);return!!(d&&this[d]!==void 0&&(!c||kc(this,this[d],d,c)))}return!1}delete(o,c){const d=this;let u=!1;function f(h){if(h=tn(h),h){const p=V.findKey(d,h);p&&(!c||kc(d,d[p],p,c))&&(delete d[p],u=!0)}}return V.isArray(o)?o.forEach(f):f(o),u}clear(o){const c=Object.keys(this);let d=c.length,u=!1;for(;d--;){const f=c[d];(!o||kc(this,this[f],f,o,!0))&&(delete this[f],u=!0)}return u}normalize(o){const c=this,d={};return V.forEach(this,(u,f)=>{const h=V.findKey(d,f);if(h){c[h]=Gr(u),delete c[f];return}const p=o?Jp(f):String(f).trim();p!==f&&delete c[f],c[p]=Gr(u),d[p]=!0}),this}concat(...o){return this.constructor.concat(this,...o)}toJSON(o){const c=Object.create(null);return V.forEach(this,(d,u)=>{d!=null&&d!==!1&&(c[u]=o&&V.isArray(d)?d.join(", "):d)}),c}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([o,c])=>o+": "+c).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(o){return o instanceof this?o:new this(o)}static concat(o,...c){const d=new this(o);return c.forEach(u=>d.set(u)),d}static accessor(o){const d=(this[nf]=this[nf]={accessors:{}}).accessors,u=this.prototype;function f(h){const p=tn(h);d[p]||($p(u,h),d[p]=!0)}return V.isArray(o)?o.forEach(f):f(o),this}};vt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(vt.prototype,({value:n},o)=>{let c=o[0].toUpperCase()+o.slice(1);return{get:()=>n,set(d){this[c]=d}}});V.freezeMethods(vt);function Sc(n,o){const c=this||nn,d=o||c,u=vt.from(d.headers);let f=d.data;return V.forEach(n,function(p){f=p.call(c,f,u.normalize(),o?o.status:void 0)}),u.normalize(),f}function qf(n){return!!(n&&n.__CANCEL__)}function ns(n,o,c){ye.call(this,n??"canceled",ye.ERR_CANCELED,o,c),this.name="CanceledError"}V.inherits(ns,ye,{__CANCEL__:!0});function Yf(n,o,c){const d=c.config.validateStatus;!c.status||!d||d(c.status)?n(c):o(new ye("Request failed with status code "+c.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(c.status/100)-4],c.config,c.request,c))}function Ip(n){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return o&&o[1]||""}function Wp(n,o){n=n||10;const c=new Array(n),d=new Array(n);let u=0,f=0,h;return o=o!==void 0?o:1e3,function(b){const g=Date.now(),y=d[f];h||(h=g),c[u]=b,d[u]=g;let j=f,N=0;for(;j!==u;)N+=c[j++],j=j%n;if(u=(u+1)%n,u===f&&(f=(f+1)%n),g-h<o)return;const A=y&&g-y;return A?Math.round(N*1e3/A):void 0}}function Pp(n,o){let c=0,d=1e3/o,u,f;const h=(g,y=Date.now())=>{c=y,u=null,f&&(clearTimeout(f),f=null),n(...g)};return[(...g)=>{const y=Date.now(),j=y-c;j>=d?h(g,y):(u=g,f||(f=setTimeout(()=>{f=null,h(u)},d-j)))},()=>u&&h(u)]}const Zr=(n,o,c=3)=>{let d=0;const u=Wp(50,250);return Pp(f=>{const h=f.loaded,p=f.lengthComputable?f.total:void 0,b=h-d,g=u(b),y=h<=p;d=h;const j={loaded:h,total:p,progress:p?h/p:void 0,bytes:b,rate:g||void 0,estimated:g&&p&&y?(p-h)/g:void 0,event:f,lengthComputable:p!=null,[o?"download":"upload"]:!0};n(j)},c)},rf=(n,o)=>{const c=n!=null;return[d=>o[0]({lengthComputable:c,total:n,loaded:d}),o[1]]},of=n=>(...o)=>V.asap(()=>n(...o)),eb=ct.hasStandardBrowserEnv?((n,o)=>c=>(c=new URL(c,ct.origin),n.protocol===c.protocol&&n.host===c.host&&(o||n.port===c.port)))(new URL(ct.origin),ct.navigator&&/(msie|trident)/i.test(ct.navigator.userAgent)):()=>!0,tb=ct.hasStandardBrowserEnv?{write(n,o,c,d,u,f,h){if(typeof document>"u")return;const p=[`${n}=${encodeURIComponent(o)}`];V.isNumber(c)&&p.push(`expires=${new Date(c).toUTCString()}`),V.isString(d)&&p.push(`path=${d}`),V.isString(u)&&p.push(`domain=${u}`),f===!0&&p.push("secure"),V.isString(h)&&p.push(`SameSite=${h}`),document.cookie=p.join("; ")},read(n){if(typeof document>"u")return null;const o=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return o?decodeURIComponent(o[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ab(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function lb(n,o){return o?n.replace(/\/?\/$/,"")+"/"+o.replace(/^\/+/,""):n}function Gf(n,o,c){let d=!ab(o);return n&&(d||c==!1)?lb(n,o):o}const cf=n=>n instanceof vt?{...n}:n;function ml(n,o){o=o||{};const c={};function d(g,y,j,N){return V.isPlainObject(g)&&V.isPlainObject(y)?V.merge.call({caseless:N},g,y):V.isPlainObject(y)?V.merge({},y):V.isArray(y)?y.slice():y}function u(g,y,j,N){if(V.isUndefined(y)){if(!V.isUndefined(g))return d(void 0,g,j,N)}else return d(g,y,j,N)}function f(g,y){if(!V.isUndefined(y))return d(void 0,y)}function h(g,y){if(V.isUndefined(y)){if(!V.isUndefined(g))return d(void 0,g)}else return d(void 0,y)}function p(g,y,j){if(j in o)return d(g,y);if(j in n)return d(void 0,g)}const b={url:f,method:f,data:f,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:p,headers:(g,y,j)=>u(cf(g),cf(y),j,!0)};return V.forEach(Object.keys({...n,...o}),function(y){const j=b[y]||u,N=j(n[y],o[y],y);V.isUndefined(N)&&j!==p||(c[y]=N)}),c}const Vf=n=>{const o=ml({},n);let{data:c,withXSRFToken:d,xsrfHeaderName:u,xsrfCookieName:f,headers:h,auth:p}=o;if(o.headers=h=vt.from(h),o.url=_f(Gf(o.baseURL,o.url,o.allowAbsoluteUrls),n.params,n.paramsSerializer),p&&h.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),V.isFormData(c)){if(ct.hasStandardBrowserEnv||ct.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(V.isFunction(c.getHeaders)){const b=c.getHeaders(),g=["content-type","content-length"];Object.entries(b).forEach(([y,j])=>{g.includes(y.toLowerCase())&&h.set(y,j)})}}if(ct.hasStandardBrowserEnv&&(d&&V.isFunction(d)&&(d=d(o)),d||d!==!1&&eb(o.url))){const b=u&&f&&tb.read(f);b&&h.set(u,b)}return o},sb=typeof XMLHttpRequest<"u",nb=sb&&function(n){return new Promise(function(c,d){const u=Vf(n);let f=u.data;const h=vt.from(u.headers).normalize();let{responseType:p,onUploadProgress:b,onDownloadProgress:g}=u,y,j,N,A,v;function S(){A&&A(),v&&v(),u.cancelToken&&u.cancelToken.unsubscribe(y),u.signal&&u.signal.removeEventListener("abort",y)}let w=new XMLHttpRequest;w.open(u.method.toUpperCase(),u.url,!0),w.timeout=u.timeout;function T(){if(!w)return;const G=vt.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),J={data:!p||p==="text"||p==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:G,config:n,request:w};Yf(function(ee){c(ee),S()},function(ee){d(ee),S()},J),w=null}"onloadend"in w?w.onloadend=T:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(T)},w.onabort=function(){w&&(d(new ye("Request aborted",ye.ECONNABORTED,n,w)),w=null)},w.onerror=function(ae){const J=ae&&ae.message?ae.message:"Network Error",P=new ye(J,ye.ERR_NETWORK,n,w);P.event=ae||null,d(P),w=null},w.ontimeout=function(){let ae=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const J=u.transitional||Lf;u.timeoutErrorMessage&&(ae=u.timeoutErrorMessage),d(new ye(ae,J.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,n,w)),w=null},f===void 0&&h.setContentType(null),"setRequestHeader"in w&&V.forEach(h.toJSON(),function(ae,J){w.setRequestHeader(J,ae)}),V.isUndefined(u.withCredentials)||(w.withCredentials=!!u.withCredentials),p&&p!=="json"&&(w.responseType=u.responseType),g&&([N,v]=Zr(g,!0),w.addEventListener("progress",N)),b&&w.upload&&([j,A]=Zr(b),w.upload.addEventListener("progress",j),w.upload.addEventListener("loadend",A)),(u.cancelToken||u.signal)&&(y=G=>{w&&(d(!G||G.type?new ns(null,n,w):G),w.abort(),w=null)},u.cancelToken&&u.cancelToken.subscribe(y),u.signal&&(u.signal.aborted?y():u.signal.addEventListener("abort",y)));const U=Ip(u.url);if(U&&ct.protocols.indexOf(U)===-1){d(new ye("Unsupported protocol "+U+":",ye.ERR_BAD_REQUEST,n));return}w.send(f||null)})},rb=(n,o)=>{const{length:c}=n=n?n.filter(Boolean):[];if(o||c){let d=new AbortController,u;const f=function(g){if(!u){u=!0,p();const y=g instanceof Error?g:this.reason;d.abort(y instanceof ye?y:new ns(y instanceof Error?y.message:y))}};let h=o&&setTimeout(()=>{h=null,f(new ye(`timeout ${o} of ms exceeded`,ye.ETIMEDOUT))},o);const p=()=>{n&&(h&&clearTimeout(h),h=null,n.forEach(g=>{g.unsubscribe?g.unsubscribe(f):g.removeEventListener("abort",f)}),n=null)};n.forEach(g=>g.addEventListener("abort",f));const{signal:b}=d;return b.unsubscribe=()=>V.asap(p),b}},ib=function*(n,o){let c=n.byteLength;if(c<o){yield n;return}let d=0,u;for(;d<c;)u=d+o,yield n.slice(d,u),d=u},ob=async function*(n,o){for await(const c of cb(n))yield*ib(c,o)},cb=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const o=n.getReader();try{for(;;){const{done:c,value:d}=await o.read();if(c)break;yield d}}finally{await o.cancel()}},df=(n,o,c,d)=>{const u=ob(n,o);let f=0,h,p=b=>{h||(h=!0,d&&d(b))};return new ReadableStream({async pull(b){try{const{done:g,value:y}=await u.next();if(g){p(),b.close();return}let j=y.byteLength;if(c){let N=f+=j;c(N)}b.enqueue(new Uint8Array(y))}catch(g){throw p(g),g}},cancel(b){return p(b),u.return()}},{highWaterMark:2})},uf=64*1024,{isFunction:Br}=V,db=(({Request:n,Response:o})=>({Request:n,Response:o}))(V.global),{ReadableStream:mf,TextEncoder:ff}=V.global,hf=(n,...o)=>{try{return!!n(...o)}catch{return!1}},ub=n=>{n=V.merge.call({skipUndefined:!0},db,n);const{fetch:o,Request:c,Response:d}=n,u=o?Br(o):typeof fetch=="function",f=Br(c),h=Br(d);if(!u)return!1;const p=u&&Br(mf),b=u&&(typeof ff=="function"?(v=>S=>v.encode(S))(new ff):async v=>new Uint8Array(await new c(v).arrayBuffer())),g=f&&p&&hf(()=>{let v=!1;const S=new c(ct.origin,{body:new mf,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!S}),y=h&&p&&hf(()=>V.isReadableStream(new d("").body)),j={stream:y&&(v=>v.body)};u&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!j[v]&&(j[v]=(S,w)=>{let T=S&&S[v];if(T)return T.call(S);throw new ye(`Response type '${v}' is not supported`,ye.ERR_NOT_SUPPORT,w)})});const N=async v=>{if(v==null)return 0;if(V.isBlob(v))return v.size;if(V.isSpecCompliantForm(v))return(await new c(ct.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(V.isArrayBufferView(v)||V.isArrayBuffer(v))return v.byteLength;if(V.isURLSearchParams(v)&&(v=v+""),V.isString(v))return(await b(v)).byteLength},A=async(v,S)=>{const w=V.toFiniteNumber(v.getContentLength());return w??N(S)};return async v=>{let{url:S,method:w,data:T,signal:U,cancelToken:G,timeout:ae,onDownloadProgress:J,onUploadProgress:P,responseType:ee,headers:ne,withCredentials:X="same-origin",fetchOptions:se}=Vf(v),H=o||fetch;ee=ee?(ee+"").toLowerCase():"text";let re=rb([U,G&&G.toAbortSignal()],ae),oe=null;const W=re&&re.unsubscribe&&(()=>{re.unsubscribe()});let ie;try{if(P&&g&&w!=="get"&&w!=="head"&&(ie=await A(ne,T))!==0){let C=new c(S,{method:"POST",body:T,duplex:"half"}),q;if(V.isFormData(T)&&(q=C.headers.get("content-type"))&&ne.setContentType(q),C.body){const[_,K]=rf(ie,Zr(of(P)));T=df(C.body,uf,_,K)}}V.isString(X)||(X=X?"include":"omit");const E=f&&"credentials"in c.prototype,Y={...se,signal:re,method:w.toUpperCase(),headers:ne.normalize().toJSON(),body:T,duplex:"half",credentials:E?X:void 0};oe=f&&new c(S,Y);let I=await(f?H(oe,se):H(S,Y));const de=y&&(ee==="stream"||ee==="response");if(y&&(J||de&&W)){const C={};["status","statusText","headers"].forEach(z=>{C[z]=I[z]});const q=V.toFiniteNumber(I.headers.get("content-length")),[_,K]=J&&rf(q,Zr(of(J),!0))||[];I=new d(df(I.body,uf,_,()=>{K&&K(),W&&W()}),C)}ee=ee||"text";let xe=await j[V.findKey(j,ee)||"text"](I,v);return!de&&W&&W(),await new Promise((C,q)=>{Yf(C,q,{data:xe,headers:vt.from(I.headers),status:I.status,statusText:I.statusText,config:v,request:oe})})}catch(E){throw W&&W(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,v,oe),{cause:E.cause||E}):ye.from(E,E&&E.code,v,oe)}}},mb=new Map,Zf=n=>{let o=n&&n.env||{};const{fetch:c,Request:d,Response:u}=o,f=[d,u,c];let h=f.length,p=h,b,g,y=mb;for(;p--;)b=f[p],g=y.get(b),g===void 0&&y.set(b,g=p?new Map:ub(o)),y=g;return g};Zf();const qc={http:Dp,xhr:nb,fetch:{get:Zf}};V.forEach(qc,(n,o)=>{if(n){try{Object.defineProperty(n,"name",{value:o})}catch{}Object.defineProperty(n,"adapterName",{value:o})}});const xf=n=>`- ${n}`,fb=n=>V.isFunction(n)||n===null||n===!1;function hb(n,o){n=V.isArray(n)?n:[n];const{length:c}=n;let d,u;const f={};for(let h=0;h<c;h++){d=n[h];let p;if(u=d,!fb(d)&&(u=qc[(p=String(d)).toLowerCase()],u===void 0))throw new ye(`Unknown adapter '${p}'`);if(u&&(V.isFunction(u)||(u=u.get(o))))break;f[p||"#"+h]=u}if(!u){const h=Object.entries(f).map(([b,g])=>`adapter ${b} `+(g===!1?"is not supported by the environment":"is not available in the build"));let p=c?h.length>1?`since :
`+h.map(xf).join(`
`):" "+xf(h[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return u}const Xf={getAdapter:hb,adapters:qc};function Mc(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new ns(null,n)}function gf(n){return Mc(n),n.headers=vt.from(n.headers),n.data=Sc.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Xf.getAdapter(n.adapter||nn.adapter,n)(n).then(function(d){return Mc(n),d.data=Sc.call(n,n.transformResponse,d),d.headers=vt.from(d.headers),d},function(d){return qf(d)||(Mc(n),d&&d.response&&(d.response.data=Sc.call(n,n.transformResponse,d.response),d.response.headers=vt.from(d.response.headers))),Promise.reject(d)})}const Qf="1.13.2",$r={};["object","boolean","number","function","string","symbol"].forEach((n,o)=>{$r[n]=function(d){return typeof d===n||"a"+(o<1?"n ":" ")+n}});const pf={};$r.transitional=function(o,c,d){function u(f,h){return"[Axios v"+Qf+"] Transitional option '"+f+"'"+h+(d?". "+d:"")}return(f,h,p)=>{if(o===!1)throw new ye(u(h," has been removed"+(c?" in "+c:"")),ye.ERR_DEPRECATED);return c&&!pf[h]&&(pf[h]=!0,console.warn(u(h," has been deprecated since v"+c+" and will be removed in the near future"))),o?o(f,h,p):!0}};$r.spelling=function(o){return(c,d)=>(console.warn(`${d} is likely a misspelling of ${o}`),!0)};function xb(n,o,c){if(typeof n!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const d=Object.keys(n);let u=d.length;for(;u-- >0;){const f=d[u],h=o[f];if(h){const p=n[f],b=p===void 0||h(p,f,n);if(b!==!0)throw new ye("option "+f+" must be "+b,ye.ERR_BAD_OPTION_VALUE);continue}if(c!==!0)throw new ye("Unknown option "+f,ye.ERR_BAD_OPTION)}}const Vr={assertOptions:xb,validators:$r},It=Vr.validators;let ul=class{constructor(o){this.defaults=o||{},this.interceptors={request:new sf,response:new sf}}async request(o,c){try{return await this._request(o,c)}catch(d){if(d instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const f=u.stack?u.stack.replace(/^.+\n/,""):"";try{d.stack?f&&!String(d.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(d.stack+=`
`+f):d.stack=f}catch{}}throw d}}_request(o,c){typeof o=="string"?(c=c||{},c.url=o):c=o||{},c=ml(this.defaults,c);const{transitional:d,paramsSerializer:u,headers:f}=c;d!==void 0&&Vr.assertOptions(d,{silentJSONParsing:It.transitional(It.boolean),forcedJSONParsing:It.transitional(It.boolean),clarifyTimeoutError:It.transitional(It.boolean)},!1),u!=null&&(V.isFunction(u)?c.paramsSerializer={serialize:u}:Vr.assertOptions(u,{encode:It.function,serialize:It.function},!0)),c.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?c.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:c.allowAbsoluteUrls=!0),Vr.assertOptions(c,{baseUrl:It.spelling("baseURL"),withXsrfToken:It.spelling("withXSRFToken")},!0),c.method=(c.method||this.defaults.method||"get").toLowerCase();let h=f&&V.merge(f.common,f[c.method]);f&&V.forEach(["delete","get","head","post","put","patch","common"],v=>{delete f[v]}),c.headers=vt.concat(h,f);const p=[];let b=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(c)===!1||(b=b&&S.synchronous,p.unshift(S.fulfilled,S.rejected))});const g=[];this.interceptors.response.forEach(function(S){g.push(S.fulfilled,S.rejected)});let y,j=0,N;if(!b){const v=[gf.bind(this),void 0];for(v.unshift(...p),v.push(...g),N=v.length,y=Promise.resolve(c);j<N;)y=y.then(v[j++],v[j++]);return y}N=p.length;let A=c;for(;j<N;){const v=p[j++],S=p[j++];try{A=v(A)}catch(w){S.call(this,w);break}}try{y=gf.call(this,A)}catch(v){return Promise.reject(v)}for(j=0,N=g.length;j<N;)y=y.then(g[j++],g[j++]);return y}getUri(o){o=ml(this.defaults,o);const c=Gf(o.baseURL,o.url,o.allowAbsoluteUrls);return _f(c,o.params,o.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(o){ul.prototype[o]=function(c,d){return this.request(ml(d||{},{method:o,url:c,data:(d||{}).data}))}});V.forEach(["post","put","patch"],function(o){function c(d){return function(f,h,p){return this.request(ml(p||{},{method:o,headers:d?{"Content-Type":"multipart/form-data"}:{},url:f,data:h}))}}ul.prototype[o]=c(),ul.prototype[o+"Form"]=c(!0)});let gb=class Ff{constructor(o){if(typeof o!="function")throw new TypeError("executor must be a function.");let c;this.promise=new Promise(function(f){c=f});const d=this;this.promise.then(u=>{if(!d._listeners)return;let f=d._listeners.length;for(;f-- >0;)d._listeners[f](u);d._listeners=null}),this.promise.then=u=>{let f;const h=new Promise(p=>{d.subscribe(p),f=p}).then(u);return h.cancel=function(){d.unsubscribe(f)},h},o(function(f,h,p){d.reason||(d.reason=new ns(f,h,p),c(d.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]}unsubscribe(o){if(!this._listeners)return;const c=this._listeners.indexOf(o);c!==-1&&this._listeners.splice(c,1)}toAbortSignal(){const o=new AbortController,c=d=>{o.abort(d)};return this.subscribe(c),o.signal.unsubscribe=()=>this.unsubscribe(c),o.signal}static source(){let o;return{token:new Ff(function(u){o=u}),cancel:o}}};function pb(n){return function(c){return n.apply(null,c)}}function bb(n){return V.isObject(n)&&n.isAxiosError===!0}const Bc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Bc).forEach(([n,o])=>{Bc[o]=n});function Kf(n){const o=new ul(n),c=Sf(ul.prototype.request,o);return V.extend(c,ul.prototype,o,{allOwnKeys:!0}),V.extend(c,o,null,{allOwnKeys:!0}),c.create=function(u){return Kf(ml(n,u))},c}const Fe=Kf(nn);Fe.Axios=ul;Fe.CanceledError=ns;Fe.CancelToken=gb;Fe.isCancel=qf;Fe.VERSION=Qf;Fe.toFormData=Jr;Fe.AxiosError=ye;Fe.Cancel=Fe.CanceledError;Fe.all=function(o){return Promise.all(o)};Fe.spread=pb;Fe.isAxiosError=bb;Fe.mergeConfig=ml;Fe.AxiosHeaders=vt;Fe.formToJSON=n=>Hf(V.isHTMLForm(n)?new FormData(n):n);Fe.getAdapter=Xf.getAdapter;Fe.HttpStatusCode=Bc;Fe.default=Fe;const{Axios:f1,AxiosError:h1,CanceledError:x1,isCancel:g1,CancelToken:p1,VERSION:b1,all:y1,Cancel:v1,isAxiosError:j1,spread:N1,toFormData:w1,AxiosHeaders:k1,HttpStatusCode:S1,formToJSON:M1,getAdapter:A1,mergeConfig:C1}=Fe,pe=Fe.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}});pe.interceptors.request.use(n=>{const o=localStorage.getItem("token");return o&&(n.headers.Authorization=`Bearer ${o}`),n},n=>Promise.reject(n));pe.interceptors.response.use(n=>n,n=>{var c,d,u,f,h;const o=((d=(c=n.config)==null?void 0:c.url)==null?void 0:d.includes("/auth/login"))||((f=(u=n.config)==null?void 0:u.url)==null?void 0:f.includes("/auth/signup"));return((h=n.response)==null?void 0:h.status)===401&&!o&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/"),Promise.reject(n)});const te={login:async(n,o)=>{var c,d,u,f;try{const h=await pe.post("/auth/login",{email:n,password:o}),{token:p,user:b}=h.data;return localStorage.setItem("token",p),b}catch(h){const p=((d=(c=h.response)==null?void 0:c.data)==null?void 0:d.message)||((f=(u=h.response)==null?void 0:u.data)!=null&&f.errors?h.response.data.errors.map(b=>b.msg).join(", "):"Login failed");throw console.error("Login error:",p),new Error(p)}},signup:async(n,o,c,d)=>{var u,f,h,p;try{const b=await pe.post("/auth/signup",{name:n,email:o,password:c,role:d}),{token:g,user:y}=b.data;return localStorage.setItem("token",g),y}catch(b){const g=((f=(u=b.response)==null?void 0:u.data)==null?void 0:f.message)||((p=(h=b.response)==null?void 0:h.data)!=null&&p.errors?b.response.data.errors.map(y=>y.msg).join(", "):"Signup failed");throw console.error("Signup error:",g),new Error(g)}},getCurrentUser:async()=>{try{return(await pe.get("/auth/me")).data}catch{return null}},createRoom:async(n,o)=>{var c,d;try{return await pe.post("/rooms/create",{name:n,khataId:o}),!0}catch(u){return console.error("Create room error:",((d=(c=u.response)==null?void 0:c.data)==null?void 0:d.message)||u.message),!1}},joinRoom:async n=>{var o,c;try{return await pe.post("/rooms/join",{khataId:n}),!0}catch(d){return console.error("Join room error:",((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.message)||d.message),!1}},getMembersForRoom:async n=>{try{return(await pe.get(`/rooms/${n}/members`)).data}catch(o){return console.error("Get members error:",o),[]}},getPendingApprovals:async n=>{try{return(await pe.get(`/rooms/${n}/pending`)).data}catch(o){return console.error("Get pending approvals error:",o),[]}},approveMember:async(n,o)=>{try{return await pe.put(`/rooms/${n}/approve/${o}`),!0}catch(c){return console.error("Approve member error:",c),!1}},getBillsForRoom:async n=>{try{return(await pe.get(`/bills/${n}`)).data}catch(o){return console.error("Get bills error:",o),[]}},createBill:async n=>{var o,c;try{return await pe.post("/bills",n),!0}catch(d){return console.error("Create bill error:",((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.message)||d.message),!1}},updateBillShareStatus:async(n,o,c)=>{try{await pe.put(`/bills/${n}/share/${o}`,{status:c});const d=JSON.parse(localStorage.getItem("user")||"{}");return d.khataId&&(await te.getBillsForRoom(d.khataId)).find(h=>h.id===n)||null}catch(d){return console.error("Update bill share status error:",d),null}},deleteBill:async n=>{var o,c,d,u;try{return await pe.delete(`/bills/${n}`),!0}catch(f){throw console.error("Delete bill error:",((c=(o=f.response)==null?void 0:o.data)==null?void 0:c.message)||f.message),new Error(((u=(d=f.response)==null?void 0:d.data)==null?void 0:u.message)||"Failed to delete bill")}},updateBill:async(n,o)=>{var c,d,u,f;try{return(await pe.put(`/bills/${n}`,o)).data.bill}catch(h){throw console.error("Update bill error:",((d=(c=h.response)==null?void 0:c.data)==null?void 0:d.message)||h.message),new Error(((f=(u=h.response)==null?void 0:u.data)==null?void 0:f.message)||"Failed to update bill")}},sendBillReminder:async n=>{var o,c,d,u;try{return(await pe.post(`/bills/${n}/remind`)).data.count}catch(f){throw console.error("Send bill reminder error:",((c=(o=f.response)==null?void 0:o.data)==null?void 0:c.message)||f.message),new Error(((u=(d=f.response)==null?void 0:d.data)==null?void 0:u.message)||"Failed to send reminders")}},getBillStats:async n=>{try{return(await pe.get(`/bills/${n}/stats`)).data}catch(o){return console.error("Get bill stats error:",o),{totalUnpaid:0,totalPaid:0,totalOverdue:0,pendingApprovals:0}}},getPendingApprovalsCount:async n=>{try{return(await pe.get(`/rooms/${n}/pending`)).data.length||0}catch{return 0}},getFundStatus:async n=>({balance:3540}),getMenu:async n=>{try{return(await pe.get(`/menu/${n}`)).data}catch(o){return console.error("Get menu error:",o),[]}},saveMenu:async(n,o,c=!1)=>{var d,u;try{return await pe.post(`/menu/${n}`,{items:o,isPermanent:c}),!0}catch(f){return console.error("Save menu error:",((u=(d=f.response)==null?void 0:d.data)==null?void 0:u.message)||f.message),!1}},updateMenuDay:async(n,o,c)=>{var d,u;try{return await pe.put(`/menu/${n}/day/${o}`,c),!0}catch(f){return console.error("Update menu day error:",((u=(d=f.response)==null?void 0:d.data)==null?void 0:u.message)||f.message),!1}},getShoppingMembers:async n=>{try{return(await pe.get(`/shopping/${n}/members`)).data}catch(o){return console.error("Get shopping members error:",o),[]}},getShoppingRoster:async n=>{try{return(await pe.get(`/shopping/${n}/roster`)).data.items||[]}catch(o){return console.error("Get shopping roster error:",o),[]}},saveShoppingRoster:async(n,o)=>{var c,d;try{return await pe.post(`/shopping/${n}/roster`,{items:o}),!0}catch(u){return console.error("Save shopping roster error:",((d=(c=u.response)==null?void 0:c.data)==null?void 0:d.message)||u.message),!1}},getShoppingSummary:async n=>{try{return(await pe.get(`/shopping/${n}/summary`)).data}catch(o){return console.error("Get shopping summary error:",o),null}},getMeals:async(n,o,c)=>{try{const d={};return o&&(d.startDate=o),c&&(d.endDate=c),(await pe.get(`/meals/${n}`,{params:d})).data}catch(d){return console.error("Get meals error:",d),[]}},getUserMeals:async(n,o)=>{try{return(await pe.get(`/meals/${n}/user/${o}`)).data}catch(c){return console.error("Get user meals error:",c),[]}},submitMeal:async(n,o)=>{var c,d;try{return(await pe.post(`/meals/${n}`,o)).data}catch(u){throw console.error("Submit meal error:",((d=(c=u.response)==null?void 0:c.data)==null?void 0:d.message)||u.message),u}},getMealSummary:async n=>{try{return(await pe.get(`/meals/${n}/summary`)).data}catch(o){return console.error("Get meal summary error:",o),null}},finalizeMeals:async(n,o)=>{var c,d;try{return await pe.post(`/meals/${n}/finalize`,{date:o}),!0}catch(u){return console.error("Finalize meals error:",((d=(c=u.response)==null?void 0:c.data)==null?void 0:d.message)||u.message),!1}},getFinalizationStatus:async(n,o)=>{try{return(await pe.get(`/meals/${n}/finalization/${o}`)).data}catch(c){return console.error("Get finalization status error:",c),{isFinalized:!1}}},getDeposits:async n=>{try{return(await pe.get(`/deposits/${n}`)).data}catch(o){return console.error("Get deposits error:",o),[]}},createDeposit:async(n,o)=>{var c,d;try{return(await pe.post(`/deposits/${n}`,o)).data}catch(u){throw console.error("Create deposit error:",((d=(c=u.response)==null?void 0:c.data)==null?void 0:d.message)||u.message),u}},approveDeposit:async(n,o)=>{try{return await pe.put(`/deposits/${n}/${o}/approve`),!0}catch(c){return console.error("Approve deposit error:",c),!1}},rejectDeposit:async(n,o,c)=>{try{return await pe.put(`/deposits/${n}/${o}/reject`,{reason:c}),!0}catch(d){return console.error("Reject deposit error:",d),!1}},getExpenses:async n=>{try{return(await pe.get(`/expenses/${n}`)).data}catch(o){return console.error("Get expenses error:",o),[]}},createExpense:async(n,o)=>{var c,d;try{return(await pe.post(`/expenses/${n}`,o)).data}catch(u){throw console.error("Create expense error:",((d=(c=u.response)==null?void 0:c.data)==null?void 0:d.message)||u.message),u}},approveExpense:async(n,o)=>{try{return await pe.put(`/expenses/${n}/${o}/approve`),!0}catch(c){return console.error("Approve expense error:",c),!1}},rejectExpense:async(n,o,c)=>{try{return await pe.put(`/expenses/${n}/${o}/reject`,{reason:c}),!0}catch(d){return console.error("Reject expense error:",d),!1}},getNotifications:async(n=!1)=>{try{return(await pe.get(`/notifications?unreadOnly=${n}`)).data}catch(o){return console.error("Get notifications error:",o),[]}},getUnreadCount:async()=>{try{return(await pe.get("/notifications/unread-count")).data.count}catch{return 0}},markNotificationRead:async n=>{try{return(await pe.put(`/notifications/${n}/mark-read`)).data}catch(o){return console.error("Mark read error:",o),null}},markAllNotificationsRead:async()=>{try{return await pe.put("/notifications/mark-all-read"),!0}catch(n){return console.error("Mark all read error:",n),!1}},deleteNotification:async n=>{try{return await pe.delete(`/notifications/${n}`),!0}catch(o){return console.error("Delete notification error:",o),!1}}},Jf=k.createContext(void 0),yb=({children:n})=>{const[o,c]=k.useState(null),[d,u]=k.useState(!0),[f,h]=k.useState("landing");k.useEffect(()=>{const y=localStorage.getItem("user");y?(c(JSON.parse(y)),h("dashboard")):h("landing"),u(!1)},[]);const p=async(y,j)=>{const N=await te.login(y,j);return N&&(c(N),localStorage.setItem("user",JSON.stringify(N)),h("dashboard")),N},b=async(y,j,N,A)=>{const v=await te.signup(y,j,N,A);return v&&(c(v),localStorage.setItem("user",JSON.stringify(v)),h("dashboard")),v},g=()=>{c(null),localStorage.removeItem("user"),h("landing")};return d?l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-50 dark:bg-slate-900",children:l.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-primary-500"})}):l.jsx(Jf.Provider,{value:{user:o,setUser:c,loading:d,page:f,setPage:h,login:p,signup:b,logout:g},children:n})},ve=()=>{const n=k.useContext(Jf);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},$f=k.createContext(void 0),vb=({children:n})=>{const[o,c]=k.useState(()=>{const u=localStorage.getItem("theme");return u==="dark"||u==="light"?u:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});k.useEffect(()=>{const u=window.document.documentElement;o==="dark"?u.classList.add("dark"):u.classList.remove("dark"),localStorage.setItem("theme",o)},[o]);const d=()=>{c(u=>u==="light"?"dark":"light")};return l.jsx($f.Provider,{value:{theme:o,toggleTheme:d},children:n})},jb=()=>{const n=k.useContext($f);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},Nb=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-6.364-.386 1.591-1.591M3 12h2.25m.386-6.364 1.591 1.591"})}),wb=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})}),Ga=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),kb=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})}),Ir=n=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"animate-spin",...n,children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Yc=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a2.25 2.25 0 0 1-2.25 2.25H9.75A2.25 2.25 0 0 1 7.5 4.5v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})}),Xt=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),rn=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Gc=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),Sb=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),Yt=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),If=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 8.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})}),Wr=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),fl=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 0 1 0 3.75H5.625a1.875 1.875 0 0 1 0-3.75Z"})}),Wf=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c.51 0 .962-.328 1.087-.835l1.853-7.411a.75.75 0 0 0-.687-.918H5.25l-.485-1.823A.75.75 0 0 0 3.863 3H3v1.5h1.25l2.458 9.223M7.5 21a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Zm11.25 0a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z"})}),as=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m-7.5-2.952a4.5 4.5 0 0 1 4.5 0m-4.5 0a4.5 4.5 0 0 0-4.5 0m3.75-3.75c0-1.036.84-1.875 1.875-1.875h.375c1.036 0 1.875.84 1.875 1.875v.375c0 1.036-.84 1.875-1.875 1.875h-.375C9.34 13.5 8.5 12.66 8.5 11.625v-.375a3 3 0 1 1 6 0v.375a3 3 0 1 1-6 0v-.375Z"})}),on=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),zc=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-1.003 1.11-1.226M15 20.25a5.23 5.23 0 0 0-3.797-1.488c-1.318 0-2.51.59-3.41 1.488m.341-1.488A5.23 5.23 0 0 0 9 20.25M15 20.25a5.23 5.23 0 0 0 3.797-1.488m-3.41-1.488a5.23 5.23 0 0 0 3.41 1.488M3.11 9.232c.09-.542.56-1.003 1.11-1.226m-1.11 1.226a5.23 5.23 0 0 1-1.488 3.797m1.488-3.797A5.23 5.23 0 0 1 3 9.232m1.488-3.41A5.23 5.23 0 0 1 3 3.11m3.797 1.488c.09-.542.56-1.003 1.11-1.226m-1.11 1.226L6.9 3.11m-3.797 3.123c.09-.542.56-1.003 1.11-1.226m-1.11 1.226L3.11 6.9m12.66-3.797c.09-.542.56-1.003 1.11-1.226m-1.11 1.226L18.9 3.11m-3.797 3.123c.09-.542.56-1.003 1.11-1.226m-1.11 1.226L15.89 6.9m6.232 2.232c.09-.542.56-1.003 1.11-1.226m-1.11 1.226a5.23 5.23 0 0 1-1.488 3.797m1.488-3.797a5.23 5.23 0 0 1 1.488 3.797M18.89 15.768c.09-.542.56-1.003 1.11-1.226m-1.11 1.226L20.9 18.9m-3.797-3.123c.09-.542.56-1.003 1.11-1.226m-1.11 1.226L18.89 13.1m-1.5 7.151c.09-.542.56-1.003 1.11-1.226m-1.11 1.226L15.89 20.9m3.797-3.123c.09-.542.56-1.003 1.11-1.226m-1.11 1.226L20.9 15.89M12 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),cn=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),dn=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})}),Mb=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})}),Ab=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M3 13.5V21a.75.75 0 0 0 .75.75h3a.75.75 0 0 0 .75-.75V15a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 .75.75V21a.75.75 0 0 0 .75.75h3a.75.75 0 0 0 .75-.75v-7.5M12 1.5v5.25"})}),Cb=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),un=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})}),mn=n=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.287 8.287 0 0 0 3-2.554 8.252 8.252 0 0 1 3.362-1.832Z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75a3 3 0 0 0 0-5.25M15 15.75a3 3 0 0 1-3-5.25M9 15.75a3 3 0 0 0 3-5.25"})]}),fn=n=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.287 8.287 0 0 0 3-2.554 8.252 8.252 0 0 1 3.362-1.832v-.005Z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75a3 3 0 0 0 0-5.25M15 15.75a3 3 0 0 1-3-5.25M9 15.75a3 3 0 0 0 3-5.25m3-3-3 3-3-3"})]}),hn=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.288 15.038a5.25 5.25 0 0 1 7.424 0M5.136 11.886a9.75 9.75 0 0 1 13.728 0M2 8.734a14.25 14.25 0 0 1 20 0M12 20.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"})}),xn=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})}),Va=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})}),rs=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})}),Db=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})}),Eb=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),Pf=n=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.776 48.776 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"})]}),eh=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.75h16.5m-16.5 0A2.25 2.25 0 0 1 5.25 7.5h5.375c.621 0 1.125.504 1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125h5.375A2.25 2.25 0 0 1 21 12.375v5.25A2.25 2.25 0 0 1 18.75 21H5.25A2.25 2.25 0 0 1 3 18.75V9.75Z"})}),Vc=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})}),Tb=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 18.75 4.5h-15A2.25 2.25 0 0 0 1.5 6.75v10.5A2.25 2.25 0 0 0 3.75 19.5Z"})}),th=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10.5v6m3-3H9m4.06-7.19-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"})}),Ob=n=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a2.25 2.25 0 0 1-2.25 2.25H9.75A2.25 2.25 0 0 1 7.5 4.5v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})]}),Rb=n=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:[l.jsx("title",{children:"Manager"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.048 8.287 8.287 0 0 0 9 9.601a8.287 8.287 0 0 0 3-2.553 8.252 8.252 0 0 1 3.362-1.832M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),ah=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"})}),Bb=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",...n,children:l.jsx("path",{d:"M16.75 13.96c.25.13.43.2.5.33.07.13.07.66 0 1.33-.07.66-.5.98-1.08 1.16-.58.18-1.16.25-1.75.16-2.4-.38-4.22-1.33-5.88-2.9-1.66-1.58-2.6-3.4-2.9-5.88-.1-1.33.38-2.25 1.16-2.75.18-.1.38-.18.66-.18.28 0 .43.08.66.42.23.33.75 1.83.83 2 .08.17.17.33.25.42.17.17.25.25.42.42.17.17.25.17.42.08.17-.08 1-1.25 1.08-1.33s.17-.17.33-.08c.17.08.92.83 1.08 1s.25.17.33.25c.08.08.17.17.17.33s-.08.33-.17.42c-.08.08-.17.16-.33.25-.17.08-.25.16-.42.33-.17.17-.33.33-.08.58zM12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2z"})}),zb=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})}),Ub=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 8.25H9m6 3H9m3 6-3-3v3h6V7.5L9 12h6V7.5"})}),_b=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),Lb=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...n,children:l.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.06-1.06L11.25 12.94 9.97 11.667a.75.75 0 0 0-1.06 1.06l1.5 1.5a.75.75 0 0 0 1.06 0l3.75-3.75Z",clipRule:"evenodd"})}),Hb=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...n,children:l.jsx("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.598 4.5H4.644c-2.308 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"})}),qb=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...n,children:l.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"})}),lh=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0h18M12 12.75h.008v.008H12v-.008Z"})}),sh=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5.586a1 1 0 0 1 .707.293l5.414 5.414a1 1 0 0 1 .293.707V19a2 2 0 0 1-2 2Z"})}),Yb=n=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...n,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 0 1 5.814-5.519l2.74-1.22m0 0-5.94-2.28m5.94 2.28-2.28 5.941"})}),Gb=({onNavigateToSignUp:n,onNavigateToHome:o})=>{const[c,d]=k.useState(""),[u,f]=k.useState(""),[h,p]=k.useState(""),[b,g]=k.useState(!1),{login:y}=ve(),j=async N=>{N.preventDefault(),p(""),g(!0);try{await y(c,u)}catch(A){p(A.message||"An unexpected error occurred. Please try again.")}finally{g(!1)}};return l.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex",children:[l.jsxs("div",{className:"hidden lg:flex w-2/5 bg-primary-600 items-center justify-center p-12 text-white flex-col relative",children:[l.jsx("div",{className:"absolute top-8 left-8",children:l.jsxs("button",{onClick:o,className:"flex items-center space-x-2 opacity-70 hover:opacity-100 transition-opacity",children:[l.jsx(cn,{className:"w-6 h-6"}),l.jsx("span",{children:"Home"})]})}),l.jsxs("div",{className:"text-center",children:[l.jsx(dn,{className:"w-24 h-24 mx-auto mb-6 opacity-80"}),l.jsx("h1",{className:"text-4xl font-bold",children:"Welcome Back"}),l.jsx("p",{className:"mt-4 text-lg opacity-80",children:"Manage your shared expenses with ease. Log in to continue where you left off."})]})]}),l.jsx("div",{className:"w-full lg:w-3/5 flex items-center justify-center p-6 sm:p-12",children:l.jsxs("div",{className:"max-w-md w-full",children:[l.jsx("div",{className:"lg:hidden text-center mb-8",children:l.jsx("h1",{className:"text-center text-4xl font-bold text-primary-600",children:"BillKhata"})}),l.jsx("h2",{className:"text-2xl sm:text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Log in to your account"}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 mt-8 rounded-lg shadow-lg",children:[l.jsxs("form",{className:"space-y-6",onSubmit:j,children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),l.jsx("div",{className:"mt-1",children:l.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:c,onChange:N=>d(N.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm bg-white dark:bg-slate-700 dark:text-white"})})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),l.jsx("div",{className:"mt-1",children:l.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:u,onChange:N=>f(N.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm bg-white dark:bg-slate-700 dark:text-white"})})]}),h&&l.jsx("p",{className:"text-sm text-red-500",children:h}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:b,className:"flex w-full justify-center rounded-md border border-transparent bg-primary-500 py-2.5 px-4 text-sm font-medium text-white shadow-sm hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:opacity-50",children:b?l.jsx(Ir,{className:"h-5 w-5"}):"Log In"})})]}),l.jsxs("p",{className:"mt-6 text-center text-sm text-slate-600 dark:text-slate-400",children:["Don't have an account?"," ",l.jsx("button",{onClick:n,className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign up"})]})]})]})})]})};var he=(n=>(n.Manager="Manager",n.Member="Member",n))(he||{}),es=(n=>(n.NoRoom="NoRoom",n.Pending="Pending",n.Approved="Approved",n))(es||{});const Vb=({onNavigateToLogin:n})=>{const[o,c]=k.useState(""),[d,u]=k.useState(""),[f,h]=k.useState(""),[p,b]=k.useState(null),[g,y]=k.useState(""),[j,N]=k.useState(!1),{signup:A}=ve(),v=async S=>{if(S.preventDefault(),!p){y("Please select a role.");return}y(""),N(!0);try{await A(o,d,f,p)}catch(w){y(w.message||"An unexpected error occurred. Please try again.")}finally{N(!1)}};return l.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex",children:[l.jsx("div",{className:"hidden lg:flex w-2/5 bg-primary-600 items-center justify-center p-12 text-white flex-col",children:l.jsxs("div",{className:"text-center",children:[l.jsx(dn,{className:"w-24 h-24 mx-auto mb-6 opacity-80"}),l.jsx("h1",{className:"text-4xl font-bold",children:"Join thousands managing expenses together"}),l.jsx("p",{className:"mt-4 text-lg opacity-80",children:"BillKhata makes it simple to track bills, log meals, and stay organized with your roommates."})]})}),l.jsx("div",{className:"w-full lg:w-3/5 flex items-center justify-center p-6 sm:p-12",children:l.jsxs("div",{className:"max-w-md w-full",children:[l.jsx("div",{className:"lg:hidden text-center mb-8",children:l.jsx("h1",{className:"text-center text-4xl font-bold text-primary-600",children:"BillKhata"})}),l.jsx("h2",{className:"text-2xl sm:text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Create an Account"}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 mt-8 rounded-lg shadow-lg",children:[l.jsxs("form",{className:"space-y-6",onSubmit:v,children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Full Name"}),l.jsx("input",{id:"name",type:"text",required:!0,value:o,onChange:S=>c(S.target.value),className:"mt-1 block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 px-3 py-2 placeholder-slate-400 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm bg-white dark:bg-slate-700 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),l.jsx("input",{id:"email",type:"email",autoComplete:"email",required:!0,value:d,onChange:S=>u(S.target.value),className:"mt-1 block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 px-3 py-2 placeholder-slate-400 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm bg-white dark:bg-slate-700 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),l.jsx("input",{id:"password",type:"password",required:!0,value:f,onChange:S=>h(S.target.value),className:"mt-1 block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 px-3 py-2 placeholder-slate-400 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm bg-white dark:bg-slate-700 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"I am a:"}),l.jsx("div",{className:"mt-2 grid grid-cols-2 gap-4",children:[he.Manager,he.Member].map(S=>l.jsxs("label",{className:`flex flex-col items-center text-center p-4 rounded-md cursor-pointer border-2 transition-all ${p===S?"border-primary-500 bg-primary-50 dark:bg-primary-500/20 shadow-md":"border-slate-300 dark:border-slate-600 hover:border-primary-300"}`,children:[l.jsx("input",{type:"radio",name:"role",value:S,checked:p===S,onChange:()=>b(S),className:"sr-only"}),l.jsx("span",{className:`font-bold text-base ${p===S?"text-primary-600":"text-slate-800 dark:text-slate-200"}`,children:S}),l.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:S===he.Manager?"(Create Room)":"(Join Room)"})]},S))})]}),g&&l.jsx("p",{className:"text-sm text-center text-red-500",children:g}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:j,className:"flex w-full justify-center rounded-md border border-transparent bg-primary-500 py-2.5 px-4 text-sm font-medium text-white shadow-sm hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:opacity-50",children:j?l.jsx(Ir,{className:"h-5 w-5"}):"Create Account"})})]}),l.jsxs("p",{className:"mt-6 text-center text-sm text-slate-600 dark:text-slate-400",children:["Already have an account?"," ",l.jsx("button",{onClick:n,className:"font-medium text-primary-600 hover:text-primary-500",children:"Log in"})]})]})]})})]})},nh=k.createContext(void 0),Zb=({children:n})=>{const{user:o}=ve(),[c,d]=k.useState([]),[u,f]=k.useState([]),[h,p]=k.useState(0),b=async()=>{if(o)try{const A=(await te.getNotifications()).map(S=>({id:S._id,type:S.type,title:S.title,message:S.message,actionText:S.actionText,timestamp:new Date(S.createdAt).toLocaleString(),read:S.read,link:S.link,createdAt:S.createdAt}));f(A);const v=await te.getUnreadCount();p(v)}catch(N){console.error("Failed to fetch notifications",N)}else f([]),p(0)};k.useEffect(()=>{b();const N=setInterval(b,6e4);return()=>clearInterval(N)},[o]);const g=N=>{const A={...N,id:Date.now()};d(v=>[...v,A]),setTimeout(()=>{d(v=>v.filter(S=>S.id!==A.id))},5e3)},y=async()=>{f(N=>N.map(A=>({...A,read:!0}))),p(0),await te.markAllNotificationsRead(),b()},j=async N=>{f(A=>A.map(v=>v.id===N?{...v,read:!0}:v)),p(A=>Math.max(0,A-1)),await te.markNotificationRead(N),b()};return l.jsx(nh.Provider,{value:{toasts:c,addToast:g,notifications:u,unreadCount:h,markAllAsRead:y,markAsRead:j,refreshNotifications:b},children:n})},_e=()=>{const n=k.useContext(nh);if(!n)throw new Error("useNotifications must be used within a NotificationProvider");return n},Xb={breakfast:"Not set",lunch:"Not set",dinner:"Not set"},zr=({title:n,value:o,subtitle:c,isLoading:d})=>l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-md transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[l.jsx("h3",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 font-body",children:n}),d?l.jsx("div",{className:"mt-2 h-8 w-3/4 rounded bg-slate-200 dark:bg-slate-700 bg-shimmer-gradient bg-no-repeat animate-shimmer",style:{backgroundSize:"1000px 100%"}}):l.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-1 font-numeric",children:o}),l.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1 font-body",children:c})]}),Qb=({title:n,details:o,onView:c})=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-slate-800 dark:text-white",children:n}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:o})]}),l.jsx("button",{onClick:c,className:"text-sm font-semibold text-primary-600 hover:underline",children:"View "})]}),Ur=({icon:n,label:o,onClick:c})=>l.jsxs("button",{onClick:c,className:"flex flex-col items-center justify-center p-4 bg-slate-100 dark:bg-slate-700/50 rounded-xl shadow-sm space-y-2 transition-all hover:bg-slate-200 dark:hover:bg-slate-700 hover:scale-[1.02] active:scale-[0.98]",children:[n,l.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:o})]}),Fb=()=>{const{user:n,setPage:o}=ve(),{addToast:c}=_e(),[d,u]=k.useState(Xb),[f,h]=k.useState(null),[p,b]=k.useState(""),[g,y]=k.useState({totalBillsAmount:0,pendingApprovals:0,fundBalance:0,activeMembers:0,totalBillsCount:0}),[j,N]=k.useState([]),[A,v]=k.useState(!0),[S,w]=k.useState("");k.useEffect(()=>{const P=new Date;w(P.toLocaleDateString("en-US",{weekday:"long"})),n!=null&&n.khataId&&(v(!0),Promise.all([te.getBillsForRoom(n.khataId),te.getPendingApprovals(n.khataId),te.getFundStatus(n.khataId),te.getMembersForRoom(n.khataId),te.getExpenses(n.khataId),te.getDeposits(n.khataId),te.getMenu(n.khataId)]).then(([ee,ne,X,se,H,re,oe])=>{const W=new Date,ie=W.getMonth(),E=W.getFullYear(),Y=ee.filter(z=>{const le=new Date(z.dueDate);return le.getMonth()===ie&&le.getFullYear()===E}),I=Y.reduce((z,le)=>z+le.totalAmount,0),de=H.filter(z=>z.status==="Pending"),xe=re.filter(z=>z.status==="Pending"),C=ne.length+de.length+xe.length;y({totalBillsAmount:I,pendingApprovals:C,fundBalance:X.balance,activeMembers:se.length,totalBillsCount:Y.length});const q=[];ne.length>0&&q.push({title:` ${ne.length} Join Request${ne.length>1?"s":""}`,details:ne.map(z=>z.name).join(", "),page:"pending-approvals"}),de.length>0&&q.push({title:` ${de.length} Shopping Approval${de.length>1?"s":""}`,details:`Total: ${de.reduce((z,le)=>z+le.amount,0)}`,page:"pending-approvals"}),xe.length>0&&q.push({title:` ${xe.length} Deposit Approval${xe.length>1?"s":""}`,details:`Total: ${xe.reduce((z,le)=>z+le.amount,0)}`,page:"pending-approvals"}),N(q);const _=P.toLocaleDateString("en-US",{weekday:"long"}),K=oe.find(z=>z.day===_);K&&u({breakfast:K.breakfast||"Not set",lunch:K.lunch||"Not set",dinner:K.dinner||"Not set"}),v(!1)}).catch(ee=>{console.error("Error loading dashboard data",ee),v(!1)}))},[n]);const T=P=>{h(P),b(d[P]==="Not set"?"":d[P])},U=async()=>{if(f&&(n!=null&&n.khataId)){const P={...d,[f]:p};u(P);try{await te.updateMenuDay(n.khataId,S,{[f]:p}),c({type:"success",title:"Menu Updated",message:`${f.charAt(0).toUpperCase()+f.slice(1)} menu has been updated.`})}catch{c({type:"error",title:"Error",message:"Failed to save menu"})}h(null),b("")}},G=()=>{h(null),b("")},ae=(P,ee)=>f===P?l.jsxs("tr",{className:"border-b dark:border-slate-700 bg-slate-50 dark:bg-slate-700/50",children:[l.jsx("td",{className:"p-3 font-semibold text-slate-800 dark:text-slate-100",children:ee}),l.jsx("td",{className:"p-3",children:l.jsx("input",{type:"text",value:p,onChange:ne=>b(ne.target.value),className:"w-full px-2 py-1 bg-white dark:bg-slate-600 border-2 border-primary-500 rounded-md focus:outline-none",autoFocus:!0})}),l.jsx("td",{className:"p-3 text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{onClick:G,className:"p-2 rounded-full text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600",children:l.jsx(Yt,{className:"w-5 h-5"})}),l.jsx("button",{onClick:U,className:"p-2 rounded-full text-success-500 hover:bg-success-100 dark:hover:bg-success-500/20",children:l.jsx(Xt,{className:"w-5 h-5"})})]})})]}):l.jsxs("tr",{className:"border-b dark:border-slate-700",children:[l.jsx("td",{className:"p-3 font-semibold text-slate-800 dark:text-slate-100",children:ee}),l.jsx("td",{className:"p-3 text-slate-600 dark:text-slate-300",children:d[P]}),l.jsx("td",{className:"p-3 text-right",children:l.jsx("button",{onClick:()=>T(P),className:"p-2 rounded-md hover:bg-slate-200 dark:hover:bg-slate-600",children:l.jsx(Gc,{className:"w-5 h-5 text-primary-500"})})})]}),J=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return l.jsxs("div",{className:"space-y-8 animate-fade-in",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white font-sans",children:["Assalamu Alaikum, ",n==null?void 0:n.name," "]}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-body text-base",children:J})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(zr,{title:" Total Bills",value:`${g.totalBillsAmount.toLocaleString()}`,subtitle:`${g.totalBillsCount} bills this month`,isLoading:A}),l.jsx(zr,{title:" Pending Approvals",value:`${g.pendingApprovals} items`,subtitle:"Need your action",isLoading:A}),l.jsx(zr,{title:" Meal Fund Balance",value:`+${g.fundBalance.toLocaleString()}`,subtitle:"Healthy balance",isLoading:A}),l.jsx(zr,{title:" Active Members",value:`${g.activeMembers} members`,subtitle:"in your room",isLoading:A})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsxs("h3",{className:"text-xl font-bold font-sans text-slate-800 dark:text-white mb-4",children:[" Today's Menu (",S,")"]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full min-w-max text-sm text-left",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b dark:border-slate-700",children:[l.jsx("th",{className:"p-3 w-32",children:"Meal"}),l.jsx("th",{className:"p-3",children:"What Will Be Cooked"}),l.jsx("th",{className:"p-3 text-right w-28",children:"Edit"})]})}),l.jsxs("tbody",{children:[ae("breakfast","Breakfast"),ae("lunch","Lunch"),ae("dinner","Dinner")]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsx("h3",{className:"text-2xl font-bold font-sans text-slate-800 dark:text-white mb-4",children:"Priority Actions"}),l.jsx("div",{className:"space-y-4",children:j.length===0?l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No pending actions. Great job! "}):j.map((P,ee)=>l.jsx(Qb,{title:P.title,details:P.details,onView:()=>o(P.page)},ee))})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsx("h3",{className:"text-2xl font-bold font-sans text-slate-800 dark:text-white mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(Ur,{icon:l.jsx(rn,{className:"w-8 h-8 text-primary-500"}),label:"Add Bill",onClick:()=>o("bills-all")}),l.jsx(Ur,{icon:l.jsx(fl,{className:"w-8 h-8 text-success-600"}),label:"Finalize Meals",onClick:()=>o("meals")}),l.jsx(Ur,{icon:l.jsx(as,{className:"w-8 h-8 text-warning-600"}),label:"Members",onClick:()=>o("members")}),l.jsx(Ur,{icon:l.jsx(on,{className:"w-8 h-8 text-indigo-500"}),label:"Reports",onClick:()=>o("reports-analytics")})]})]})]})]})},Kb={breakfast:"Not set",lunch:"Not set",dinner:"Not set"},_r=({title:n,value:o,subtitle:c})=>l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-md transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[l.jsx("h3",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 font-body",children:n}),l.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-1 font-numeric",children:o}),l.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1 font-body",children:c})]}),Lr=({icon:n,label:o,onClick:c})=>l.jsxs("button",{onClick:c,className:"flex flex-col items-center justify-center p-4 bg-white dark:bg-slate-800 rounded-xl shadow-md space-y-2 transition-all hover:bg-slate-50 dark:hover:bg-slate-700/50 hover:scale-[1.02] active:scale-[0.98]",children:[n,l.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:o})]}),Jb=()=>{const{user:n,setPage:o}=ve(),[c,d]=k.useState(Kb),[u,f]=k.useState([]),[h,p]=k.useState(!0),[b,g]=k.useState(0),[y,j]=k.useState(0),[N,A]=k.useState([]),[v,S]=k.useState("");k.useEffect(()=>{const ee=new Date;S(ee.toLocaleDateString("en-US",{weekday:"long"})),n!=null&&n.khataId?(p(!0),Promise.all([te.getBillsForRoom(n.khataId),te.getMealSummary(n.khataId),te.getDeposits(n.khataId),te.getExpenses(n.khataId),te.getMenu(n.khataId),te.getMeals(n.khataId)]).then(([ne,X,se,H,re,oe])=>{f(ne),X&&n.id&&g(X.currentUserMeals||0);const ie=se.filter(z=>z.userId===n.id&&z.status==="Approved").reduce((z,le)=>z+le.amount,0),Y=H.filter(z=>z.status==="Approved").reduce((z,le)=>z+le.amount,0),I=oe.reduce((z,le)=>z+(le.totalMeals||0),0),de=I>0?Y/I:0,C=((X==null?void 0:X.currentUserMeals)||0)*de;j(ie-C);const q=ee.toLocaleDateString("en-US",{weekday:"long"}),_=re.find(z=>z.day===q);_&&d({breakfast:_.breakfast||"Not set",lunch:_.lunch||"Not set",dinner:_.dinner||"Not set"});const K=[...ne.map(z=>({type:"bill",date:new Date(z.createdAt),text:`New bill: ${z.title}`,amount:z.totalAmount})),...se.filter(z=>z.userId===n.id).map(z=>({type:"deposit",date:new Date(z.createdAt),text:`Deposit ${z.status.toLowerCase()}`,amount:z.amount})),...H.filter(z=>z.userId===n.id).map(z=>({type:"expense",date:new Date(z.createdAt),text:"Expense added",amount:z.amount}))].sort((z,le)=>le.date.getTime()-z.date.getTime()).slice(0,5);A(K)}).finally(()=>p(!1))):p(!1)},[n]);const{billsDueAmount:w,billsDueCount:T,nextBillDue:U}=k.useMemo(()=>{if(!n)return{billsDueAmount:0,billsDueCount:0,nextBillDue:null};const ee=new Date,ne=ee.getMonth(),X=ee.getFullYear(),H=u.filter(E=>{const Y=new Date(E.dueDate);return Y.getMonth()===ne&&Y.getFullYear()===X}).flatMap(E=>(E.shares||[]).filter(I=>I.userId===n.id&&(I.status==="Unpaid"||I.status==="Overdue")).map(I=>({...E,myShare:I}))),re=H.reduce((E,Y)=>E+Y.myShare.amount,0),oe=H.length,W=H.filter(E=>new Date(E.dueDate)>=ee).sort((E,Y)=>new Date(E.dueDate).getTime()-new Date(Y.dueDate).getTime()),ie=W.length>0?W[0]:null;return{billsDueAmount:re,billsDueCount:oe,nextBillDue:ie}},[u,n]),G=U?`${U.title} - ${new Date(U.dueDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})}`:"No upcoming bills",ae=U?Math.ceil((new Date(U.dueDate).getTime()-new Date().getTime())/(1e3*60*60*24)):0,J=U?`${ae} day${ae!==1?"s":""} left`:"All clear!",P=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return l.jsxs("div",{className:"space-y-8 animate-fade-in",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white font-sans",children:["Assalamu Alaikum, ",n==null?void 0:n.name," "]}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-base",children:P})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[l.jsx(_r,{title:" Bills Due",value:`${w.toFixed(2)}`,subtitle:`${T} bills pending`}),l.jsx(_r,{title:" Your Meals",value:`${b} quantities`,subtitle:"This month"}),l.jsx(_r,{title:" Refund Available",value:`${y>=0?"+":""}${y.toFixed(0)}`,subtitle:"After meal cost"}),l.jsx(_r,{title:" Next Bill Due",value:G,subtitle:J})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsxs("h3",{className:"text-xl font-bold font-sans text-slate-800 dark:text-white mb-4",children:[" Today's Menu (",v,")"]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsx("table",{className:"w-full text-sm text-left",children:l.jsxs("tbody",{children:[l.jsxs("tr",{className:"border-b dark:border-slate-700",children:[l.jsx("td",{className:"p-3 font-semibold text-slate-800 dark:text-slate-100 w-32",children:"Breakfast"}),l.jsx("td",{className:"p-3 text-slate-600 dark:text-slate-300",children:c.breakfast})]}),l.jsxs("tr",{className:"border-b dark:border-slate-700",children:[l.jsx("td",{className:"p-3 font-semibold text-slate-800 dark:text-slate-100",children:"Lunch"}),l.jsx("td",{className:"p-3 text-slate-600 dark:text-slate-300",children:c.lunch})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"p-3 font-semibold text-slate-800 dark:text-slate-100",children:"Dinner"}),l.jsx("td",{className:"p-3 text-slate-600 dark:text-slate-300",children:c.dinner})]})]})})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold font-sans text-slate-800 dark:text-white mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsx(Lr,{icon:l.jsx(fl,{className:"w-8 h-8 text-primary-500"}),label:"Log Meal",onClick:()=>o("meals")}),l.jsx(Lr,{icon:l.jsx(Wr,{className:"w-8 h-8 text-success-600"}),label:"Pay Bill",onClick:()=>o("bills-all")}),l.jsx(Lr,{icon:l.jsx(rn,{className:"w-8 h-8 text-warning-600"}),label:"Deposit",onClick:()=>o("history")}),l.jsx(Lr,{icon:l.jsx(on,{className:"w-8 h-8 text-indigo-500"}),label:"History",onClick:()=>o("history")})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold font-sans text-slate-800 dark:text-white mb-4",children:"Recent Activity"}),l.jsx("div",{className:"space-y-3",children:N.length===0?l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No recent activity."}):N.map((ee,ne)=>l.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg shadow-sm flex justify-between items-center",children:l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm font-medium text-slate-800 dark:text-white",children:[ee.text," (",l.jsxs("span",{className:"font-numeric",children:["",ee.amount]}),")"]}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:ee.date.toLocaleString()})]})},ne))}),N.length>0&&l.jsx("button",{onClick:()=>o("history"),className:"mt-4 text-sm font-semibold text-primary-600 hover:underline",children:"View All "})]})]})},$b=()=>l.jsx(Jb,{}),Ib=()=>{const{user:n}=ve();return n?l.jsx("div",{children:n.role===he.Manager?l.jsx(Fb,{}):l.jsx($b,{})}):l.jsx("div",{children:"Loading..."})},Wb={Paid:"bg-success-500/10 text-success-700 dark:text-success-400","Pending Approval":"bg-warning-500/10 text-warning-600 dark:text-warning-400",Unpaid:"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-200",Overdue:"bg-danger-500/10 text-danger-600 dark:text-danger-400"},Pb={Rent:l.jsx(cn,{className:"w-6 h-6 text-danger-500"}),Electricity:l.jsx(un,{className:"w-6 h-6 text-yellow-500"}),Water:l.jsx(mn,{className:"w-6 h-6 text-blue-500"}),Gas:l.jsx(fn,{className:"w-6 h-6 text-orange-500"}),"Wi-Fi":l.jsx(hn,{className:"w-6 h-6 text-cyan-500"}),Maid:l.jsx(xn,{className:"w-6 h-6 text-purple-500"}),Others:l.jsx(Va,{className:"w-6 h-6 text-slate-500"})},bf=()=>{const{user:n,setPage:o}=ve(),[c,d]=k.useState([]),[u,f]=k.useState(!0);k.useEffect(()=>{n!=null&&n.khataId&&(f(!0),te.getBillsForRoom(n.khataId).then(b=>{d(b),f(!1)}))},[n]);const h=k.useMemo(()=>{const b=new Date,g=b.getMonth(),y=b.getFullYear(),j=c.filter(N=>{const A=new Date(N.dueDate);return A.getMonth()===g&&A.getFullYear()===y});if((n==null?void 0:n.role)===he.Manager){const N=j.reduce((S,w)=>S+w.totalAmount,0),A=j.reduce((S,w)=>{const T=w.shares.filter(U=>U.status==="Paid").reduce((U,G)=>U+G.amount,0);return S+T},0),v=N-A;return{total:N,paid:A,due:v,label:"Room Summary (This Month)"}}else{const N=j.flatMap(w=>w.shares.filter(T=>T.userId===(n==null?void 0:n.id))),A=N.reduce((w,T)=>w+T.amount,0),v=N.filter(w=>w.status==="Paid").reduce((w,T)=>w+T.amount,0),S=A-v;return{total:A,paid:v,due:S,label:"My Summary (This Month)"}}},[c,n]),p=k.useMemo(()=>c.reduce((b,g)=>((b[g.category]=b[g.category]||[]).push(g),b),{}),[c]);return u?l.jsx("div",{className:"text-center p-8",children:"Loading..."}):n?l.jsxs("div",{className:"space-y-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white font-sans",children:"Bills Overview"}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[l.jsx("h2",{className:"text-xl font-bold font-sans text-slate-800 dark:text-white mb-4",children:h.label}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Total Bills"}),l.jsxs("p",{className:"text-2xl font-bold text-slate-800 dark:text-white font-numeric",children:["",h.total.toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Paid"}),l.jsxs("p",{className:"text-2xl font-bold text-success-600 dark:text-success-400 font-numeric",children:["",h.paid.toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Due"}),l.jsxs("p",{className:"text-2xl font-bold text-danger-600 dark:text-danger-400 font-numeric",children:["",h.due.toFixed(2)]})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(p).map(([b,g])=>{const y=g.reduce((v,S)=>v+S.totalAmount,0),j=g.flatMap(v=>v.shares).filter(v=>v.userId===n.id).reduce((v,S)=>v+S.amount,0),N=[...g].sort((v,S)=>new Date(S.dueDate).getTime()-new Date(v.dueDate).getTime())[0],A=N==null?void 0:N.shares.find(v=>v.userId===n.id);return l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-5 flex flex-col justify-between transition-all hover:shadow-lg hover:scale-[1.02]",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[Pb[b]||l.jsx(Va,{className:"w-6 h-6 text-slate-500"}),l.jsx("h3",{className:"text-xl font-bold font-sans text-slate-900 dark:text-white",children:b})]}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Total: ",l.jsxs("span",{className:"font-semibold font-numeric",children:["",y.toFixed(2)]})]}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Your Share: ",l.jsxs("span",{className:"font-semibold font-numeric",children:["",j.toFixed(2)]})]}),A&&l.jsx("div",{className:"mt-2",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Wb[A.status]}`,children:A.status})}),N&&l.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Last due: ",N.dueDate]})]}),l.jsx("button",{onClick:()=>o(`bills-${b.toLowerCase().replace(" ","-")}`),className:"mt-4 text-sm font-semibold text-primary-600 hover:underline self-start",children:"View Details "})]},b)})})]}):null},yf=[{id:"3",name:"Priya Das",role:he.Member,lastRent:4500},{id:"4",name:"Ravi Islam",role:he.Member,lastRent:5e3},{id:"9",name:"Amit Hossain",role:he.Member,lastRent:5200}],ey=()=>{const n=[],o=new Date(2025,9,1);for(let c=1;c<=3;c++){const d=new Date(o);d.setMonth(d.getMonth()+c),n.push(d.toLocaleString("default",{month:"long",year:"numeric"}))}return n},ty=({onClose:n,onConfirm:o})=>{const[c,d]=k.useState(yf.map(N=>({userId:N.id,userName:N.name,amount:N.lastRent}))),[u]=k.useState(ey()),[f,h]=k.useState(u[0]),[p,b]=k.useState("2025-11-01"),g=(N,A)=>{const v=parseInt(A,10)||0;d(S=>S.map(w=>w.userId===N?{...w,amount:v}:w))},y=c.reduce((N,A)=>N+A.amount,0),j=()=>{o({rentData:c,month:f,dueDate:p}),n()};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:n,children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg animate-scale-in",onClick:N=>N.stopPropagation(),children:[l.jsxs("div",{className:"p-6 border-b dark:border-slate-700",children:[l.jsxs("h2",{className:"text-xl font-bold font-sans text-slate-900 dark:text-white",children:["Push ",f," Rent Bills"]}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Review amounts and confirm to create bills for all members."})]}),l.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Bill Month"}),l.jsx("select",{value:f,onChange:N=>h(N.target.value),className:"w-full px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500",children:u.map(N=>l.jsx("option",{value:N,children:N},N))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Due Date"}),l.jsx("input",{type:"date",value:p,onChange:N=>b(N.target.value),className:"w-full px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500"})]})]}),l.jsxs("div",{className:"border-t dark:border-slate-600 pt-4",children:[l.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white mb-2",children:"Member Amounts"}),c.map(N=>{var A;return l.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[l.jsx(Ga,{className:"w-10 h-10 text-slate-400 flex-shrink-0"}),l.jsxs("div",{className:"flex-grow",children:[l.jsx("p",{className:"font-semibold text-slate-800 dark:text-white",children:N.userName}),l.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Previous: ",(A=yf.find(v=>v.id===N.userId))==null?void 0:A.lastRent.toLocaleString()]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute inset-y-0 left-3 flex items-center text-slate-500",children:""}),l.jsx("input",{type:"number",value:N.amount,onChange:v=>g(N.userId,v.target.value),className:"w-32 pl-8 pr-2 py-2 text-right bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500 transition-colors"})]})]},N.userId)})]})]}),l.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-700/50 rounded-b-xl flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"Total: "}),l.jsxs("span",{className:"font-bold text-lg font-numeric",children:["",y.toLocaleString()]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:n,className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 font-semibold rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:j,className:"px-4 py-2 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600 transition-colors",children:"Confirm & Push"})]})]})]})})},ay=({billToEdit:n,onClose:o,onBillUpdated:c})=>{const d=n.shares[0],[u,f]=k.useState(d.amount),h=()=>{const p={...n,totalAmount:u,shares:[{...d,amount:u}]};c(p),o()};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:o,children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm animate-scale-in",onClick:p=>p.stopPropagation(),children:[l.jsxs("div",{className:"p-6 border-b dark:border-slate-700",children:[l.jsx("h2",{className:"text-xl font-bold font-sans text-slate-900 dark:text-white",children:"Edit Rent"}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Update the rent amount for ",d.userName,"."]})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-4 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[l.jsx(Ga,{className:"w-10 h-10 text-slate-400 flex-shrink-0"}),l.jsx("p",{className:"font-semibold text-slate-800 dark:text-white text-lg",children:d.userName})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"rent-amount",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Rent Amount"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute inset-y-0 left-3 flex items-center text-slate-500",children:""}),l.jsx("input",{id:"rent-amount",type:"number",value:u,onChange:p=>f(parseFloat(p.target.value)||0),className:"w-full pl-8 pr-4 py-2 text-lg font-semibold bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500 transition-colors"})]})]})]}),l.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-700/50 rounded-b-xl flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:o,className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 font-semibold rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:"Cancel"}),l.jsx("button",{type:"button",onClick:h,className:"px-4 py-2 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600 transition-colors",children:"Confirm"})]})]})})},rh={Paid:{bg:"bg-success-500/10",text:"text-success-700 dark:text-success-400",border:"border-success-500/30"},"Pending Approval":{bg:"bg-warning-500/10",text:"text-warning-600 dark:text-warning-400",border:"border-warning-500/30"},Unpaid:{bg:"bg-slate-100 dark:bg-slate-700/20",text:"text-slate-700 dark:text-slate-300",border:"border-slate-200 dark:border-slate-600"},Overdue:{bg:"bg-danger-500/10",text:"text-danger-600 dark:text-danger-400",border:"border-danger-500/30"}},ly=({bill:n,role:o,onEdit:c,onApprove:d,onDeny:u})=>{const f=n.shares[0],h=rh[f.status];return l.jsxs("div",{className:`p-4 rounded-lg border ${h.border} ${h.bg}`,children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ga,{className:"w-10 h-10 text-slate-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:f.userName}),l.jsx("p",{className:`text-sm font-semibold ${h.text}`,children:f.status})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-lg font-bold text-slate-800 dark:text-white font-numeric",children:["",f.amount.toFixed(2)]}),l.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Due: ",n.dueDate]})]})]}),o===he.Manager&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-700/50 flex justify-end gap-2",children:[f.status==="Pending Approval"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>u(n.id,f.userId),className:"px-3 py-1 text-xs font-semibold bg-danger-500/10 text-danger-600 rounded-md hover:bg-danger-500/20 transition-all active:scale-95",children:"Deny"}),l.jsx("button",{onClick:()=>d(n.id,f.userId),className:"px-3 py-1 text-xs font-semibold bg-success-500/10 text-success-600 rounded-md hover:bg-success-500/20 transition-all active:scale-95",children:"Approve"})]}),f.status==="Overdue"&&l.jsx("button",{className:"px-3 py-1 text-xs font-semibold border border-primary-500 text-primary-600 rounded-md hover:bg-primary-500/10 transition-all active:scale-95",children:"Send Reminder"}),l.jsx("button",{onClick:()=>c(n),className:"px-3 py-1 text-xs font-semibold border border-slate-300 dark:border-slate-600 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700 transition-all active:scale-95",children:"Edit"})]})]})},sy=()=>{const n=[],o=new Date;for(let c=0;c<6;c++){const d=new Date(o);d.setMonth(d.getMonth()-c),n.push(d.toLocaleString("default",{month:"long",year:"numeric"}))}return n},ny=()=>{var ne;const{user:n,setPage:o}=ve(),[c,d]=k.useState([]),[u,f]=k.useState(!0),[h,p]=k.useState(null),[b,g]=k.useState(null),[y,j]=k.useState(!1),{addToast:N}=_e(),[A]=k.useState(sy()),[v,S]=k.useState(A[0]);k.useEffect(()=>{n!=null&&n.khataId&&(f(!0),te.getBillsForRoom(n.khataId).then(X=>{d(X.filter(se=>se.category==="Rent")),f(!1)}))},[n]);const w=k.useMemo(()=>{if(!v)return[];const[X,se]=v.split(" "),H=parseInt(se,10),re=new Date(Date.parse(X+" 1, 2012")).getMonth();return c.filter(oe=>{const W=new Date(oe.dueDate);return W.getFullYear()===H&&W.getMonth()===re})},[c,v]),T=async()=>{if(!h||!n)return;const X=await te.updateBillShareStatus(h.id,n.id,"Pending Approval");X&&(d(se=>se.map(H=>H.id===X.id?X:H)),N({type:"success",title:"Payment Sent",message:"Your payment is now pending approval."})),p(null)},U=async(X,se)=>{const H=await te.updateBillShareStatus(X,se,"Paid");H?(d(re=>re.map(oe=>oe.id===H.id?H:oe)),N({type:"success",title:"Approved",message:"Rent payment approved successfully."})):N({type:"error",title:"Error",message:"Failed to approve payment."})},G=async(X,se)=>{const H=await te.updateBillShareStatus(X,se,"Unpaid");H?(d(re=>re.map(oe=>oe.id===H.id?H:oe)),N({type:"info",title:"Denied",message:"Rent payment rejected. Status reset to Unpaid."})):N({type:"error",title:"Error",message:"Failed to deny payment."})},ae=X=>{d(se=>se.map(H=>H.id===X.id?X:H)),N({type:"success",title:"Rent Updated",message:`Rent for ${X.shares[0].userName} has been updated.`}),g(null)},J=X=>{const{rentData:se,month:H,dueDate:re}=X,oe=se.map(W=>({id:`rent-${H.toLowerCase().split(" ")[0]}-${W.userId}`,khataId:n.khataId,title:`${H} Rent`,category:"Rent",totalAmount:W.amount,dueDate:re,createdBy:n.id,shares:[{userId:W.userId,userName:W.userName,amount:W.amount,status:"Unpaid"}]}));d(W=>[...oe,...W]),N({type:"success",title:"Bills Created",message:`${H} rent bills have been pushed to all members.`})};if(u)return l.jsx("div",{className:"text-center p-8",children:"Loading rent bills..."});if(!n)return null;const P=()=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"text-xl font-bold font-sans text-slate-800 dark:text-white",children:[v," Rent Status"]}),l.jsx("button",{onClick:()=>j(!0),className:"px-4 py-2 text-sm font-semibold bg-primary-500 text-white rounded-lg hover:bg-primary-600 shadow-sm transition-all active:scale-95",children:"Push Next Month's Bills"})]}),l.jsx("div",{className:"space-y-4",children:w.map(X=>l.jsx(ly,{bill:X,role:n.role,onEdit:g,onApprove:U,onDeny:G},X.id))})]}),ee=()=>{const X=w.find(oe=>{var W;return((W=oe.shares[0])==null?void 0:W.userId)===n.id});if(!X)return l.jsx("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-lg shadow-sm",children:l.jsxs("p",{className:"text-lg text-slate-600 dark:text-slate-300",children:["Your rent details for ",v," are not available."]})});const se=X.shares[0],H=rh[se.status],re=se.status==="Unpaid"||se.status==="Overdue";return l.jsxs("div",{className:`p-6 rounded-xl border-2 ${H.border} ${H.bg}`,children:[l.jsx("p",{className:"text-sm font-semibold",children:v}),l.jsxs("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-1 font-numeric",children:["",se.amount.toFixed(2)]}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:["Due: ",X.dueDate]}),l.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[l.jsx("span",{className:`px-3 py-1 text-sm font-bold rounded-full ${H.bg} ${H.text}`,children:se.status}),re?l.jsx("button",{onClick:()=>p(X),className:"px-4 py-2 bg-gradient-success text-white font-semibold rounded-md hover:shadow-lg transition-all active:scale-[0.98]",children:"Pay Now"}):null]})]})};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>o("bills"),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-all active:scale-95",children:l.jsx(rs,{className:"w-6 h-6 text-slate-600 dark:text-slate-300"})}),l.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white font-sans",children:"Rent Bills"})]}),l.jsx("select",{value:v,onChange:X=>S(X.target.value),className:"px-4 py-2 text-sm font-semibold bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm",children:A.map(X=>l.jsx("option",{value:X,children:X},X))})]}),w.length===0?l.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-lg shadow-sm",children:[l.jsxs("h3",{className:"text-lg font-medium font-sans text-slate-900 dark:text-white",children:["No rent bills found for ",v,"."]}),n.role===he.Manager&&l.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:`Click "Push Next Month's Bills" to create them.`})]}):n.role===he.Manager?P():ee()]}),b&&l.jsx(ay,{billToEdit:b,onClose:()=>g(null),onBillUpdated:ae}),h&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-sm animate-scale-in",children:[l.jsx("h3",{className:"text-lg font-bold font-sans text-slate-900 dark:text-white",children:"Confirm Payment"}),l.jsxs("div",{className:"mt-4 mb-6 text-sm text-slate-600 dark:text-slate-300",children:[l.jsxs("p",{children:["Bill: ",l.jsx("span",{className:"font-semibold",children:h.title})]}),l.jsxs("p",{children:["Amount to Pay: ",l.jsxs("span",{className:"font-semibold font-numeric",children:["",(ne=h.shares.find(X=>X.userId===(n==null?void 0:n.id)))==null?void 0:ne.amount.toFixed(2)]})]}),l.jsx("p",{className:"mt-4 p-2 bg-warning-500/10 text-warning-600 dark:text-warning-400 rounded-md",children:" This will be sent to the manager for approval."})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>p(null),className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 text-slate-800 dark:text-slate-200 font-semibold rounded-md hover:bg-slate-300 dark:hover:bg-slate-500 transition-all active:scale-95",children:"Cancel"}),l.jsx("button",{onClick:T,className:"px-4 py-2 bg-gradient-success text-white font-semibold rounded-md hover:shadow-lg transition-all active:scale-95",children:"Confirm Payment"})]})]})}),y&&n.role===he.Manager&&l.jsx(ty,{onClose:()=>j(!1),onConfirm:J})]})},ih=({onClose:n,onBillAdded:o,preselectedCategory:c,availableMonths:d,selectedMonth:u})=>{const{user:f}=ve(),[h,p]=k.useState(""),[b,g]=k.useState(c||"Electricity"),[y,j]=k.useState(""),[N,A]=k.useState(""),[v,S]=k.useState("equally"),[w,T]=k.useState([]),[U,G]=k.useState(!0),[ae,J]=k.useState(!1),[P,ee]=k.useState([]),[ne,X]=k.useState({}),{addToast:se}=_e();k.useEffect(()=>{(async()=>{if(f!=null&&f.khataId){G(!0);try{const K=await te.getMembersForRoom(f.khataId);T(K),ee(K.map(z=>z.id))}catch(K){console.error("Error fetching members:",K),se({type:"error",title:"Error",message:"Failed to load room members"})}finally{G(!1)}}})()},[f==null?void 0:f.khataId]);const H=_=>{if(_)try{const[K,z]=_.split(" "),le=parseInt(z,10),je=new Date(Date.parse(K+" 1, 2012")).getMonth();return new Date(le,je,1).toISOString().split("T")[0]}catch{return new Date().toISOString().split("T")[0]}return new Date().toISOString().split("T")[0]},[re,oe]=k.useState(u||(d?d[0]:"")),[W,ie]=k.useState(H(u)),E=_=>{const K=_.target.value;oe(K);const[z,le]=K.split(" "),je=parseInt(le,10),Ge=new Date(Date.parse(z+" 1, 2012")).getMonth(),Re=new Date(je,Ge,1);ie(Re.toISOString().split("T")[0])},Y=_=>{const K=P.includes(_)?P.filter(z=>z!==_):[...P,_];ee(K)},I=(_,K)=>{const z=parseFloat(K)||0;X(le=>({...le,[_]:z}))},de=k.useMemo(()=>P.reduce((_,K)=>_+(ne[K]||0),0),[ne,P]),xe=Math.abs(de-(y||0))<.01,C=async _=>{if(_.preventDefault(),y===""||y<=0){se({type:"error",title:"Invalid Amount",message:"Please enter a valid total amount."});return}if(P.length===0){se({type:"error",title:"No Members Selected",message:"Please select at least one member to split the bill."});return}if(v==="custom"&&!xe){se({type:"error",title:"Invalid Amounts",message:"Custom split amounts must add up to the total bill amount."});return}if(!f||!f.khataId){se({type:"error",title:"Error",message:"You must be logged in to add a bill."});return}J(!0);try{const K=P.map(je=>{const Ge=w.find(Za=>Za.id===je),Re=v==="equally"?y/P.length:ne[je]||0;return{userId:je,userName:Ge.name,amount:parseFloat(Re.toFixed(2)),status:"Unpaid"}}),z={title:h,category:b,totalAmount:y,dueDate:W,description:N,shares:K};if(await te.createBill(z)){if(se({type:"success",title:"Bill Created",message:`${h} has been successfully created.`}),f.khataId){const Ge=(await te.getBillsForRoom(f.khataId)).find(Re=>Re.title===h&&Re.category===b);Ge&&o(Ge)}n()}else se({type:"error",title:"Error",message:"Failed to create bill. Please try again."})}catch(K){console.error("Error creating bill:",K),se({type:"error",title:"Error",message:"Failed to create bill. Please try again."})}finally{J(!1)}},q=()=>{if(P.length===0)return l.jsx("p",{className:"text-sm text-slate-500 text-center",children:"Select members to split the bill."});if(v==="equally"){const _=(y||0)/P.length;return l.jsxs("p",{className:"text-center font-semibold",children:["",_.toFixed(2)," per person"]})}return l.jsxs("div",{className:"space-y-2",children:[P.map(_=>{const K=w.find(z=>z.id===_);return l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx("span",{className:"text-sm",children:K==null?void 0:K.name}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",children:""}),l.jsx("input",{type:"number",step:"0.01",placeholder:"0.00",value:ne[_]||"",onChange:z=>I(_,z.target.value),className:"w-28 pl-7 pr-2 py-1 text-right bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-md focus:outline-none focus:border-primary-500"})]})]},_)}),l.jsxs("div",{className:`mt-2 pt-2 border-t dark:border-slate-600 flex justify-between font-semibold ${xe?"text-success-600":"text-danger-600"}`,children:[l.jsx("span",{children:"Total Custom:"}),l.jsxs("span",{children:["",de.toFixed(2)]})]})]})};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:n,children:l.jsxs("form",{onSubmit:C,className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg animate-scale-in",onClick:_=>_.stopPropagation(),children:[l.jsxs("div",{className:"p-6 border-b dark:border-slate-700 flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold font-sans text-slate-900 dark:text-white",children:"Add New Bill"}),l.jsx("button",{type:"button",onClick:n,className:"p-1 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700",children:l.jsx(Yt,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto space-y-4 text-sm",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Title"}),l.jsx("input",{type:"text",placeholder:"e.g., October Electricity",value:h,onChange:_=>p(_.target.value),className:"w-full mt-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Category"}),l.jsx("select",{value:b,onChange:_=>g(_.target.value),className:"w-full mt-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500",required:!0,children:["Rent","Electricity","Water","Gas","Wi-Fi","Maid","Others"].map(_=>l.jsx("option",{value:_,children:_},_))})]}),d&&d.length>0&&l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Month"}),l.jsx("select",{value:re,onChange:E,className:"w-full mt-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500",required:!0,children:d.map(_=>l.jsx("option",{value:_,children:_},_))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Total Amount"}),l.jsx("input",{type:"number",step:"0.01",value:y,onChange:_=>j(parseFloat(_.target.value)||""),className:"w-full mt-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Due Date"}),l.jsx("input",{type:"date",value:W,onChange:_=>ie(_.target.value),className:"w-full mt-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Description (Optional)"}),l.jsx("textarea",{value:N,onChange:_=>A(_.target.value),rows:2,className:"w-full mt-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500"})]}),l.jsxs("div",{className:"border-t pt-4 dark:border-slate-600",children:[l.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:"Split Bill With"}),U?l.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"Loading members..."}):w.length===0?l.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"No members found in this room"}):l.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2",children:w.map(_=>l.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700/50 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:P.includes(_.id),onChange:()=>Y(_.id),className:"h-5 w-5 rounded border-slate-300 text-primary-600 focus:ring-primary-500"}),l.jsx("span",{children:_.name})]},_.id))})]}),P.length>0&&l.jsxs("div",{className:"border-t pt-4 dark:border-slate-600",children:[l.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:"Split Method"}),l.jsxs("div",{className:"mt-2 flex gap-2 p-1 bg-slate-100 dark:bg-slate-700 rounded-lg",children:[l.jsx("button",{type:"button",onClick:()=>S("equally"),className:`flex-1 py-1.5 text-sm font-semibold rounded-md ${v==="equally"?"bg-white dark:bg-slate-600 shadow":""}`,children:"Split Equally"}),l.jsx("button",{type:"button",onClick:()=>S("custom"),className:`flex-1 py-1.5 text-sm font-semibold rounded-md ${v==="custom"?"bg-white dark:bg-slate-600 shadow":""}`,children:"Custom Amount"})]}),l.jsx("div",{className:"mt-4 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:q()})]})]}),l.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-700/50 rounded-b-xl flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 font-semibold rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500",disabled:ae,children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",disabled:ae||U,children:ae?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating..."]}):"Add Bill"})]})]})})},ry=({billToEdit:n,onClose:o,onBillUpdated:c})=>{const[d,u]=k.useState(n.title),[f,h]=k.useState(n.totalAmount),[p,b]=k.useState(n.dueDate),[g,y]=k.useState(n.description||""),[j,N]=k.useState("equally"),[A,v]=k.useState({});k.useEffect(()=>{const J=n.shares;if(J.length>0){const P=J[0].amount;if(J.every(ne=>Math.abs(ne.amount-P)<.01)&&J.length>1)N("equally");else{N("custom");const ne=J.reduce((X,se)=>(X[se.userId]=se.amount,X),{});v(ne)}}},[n]);const S=(J,P)=>{const ee=parseFloat(P)||0;v(ne=>({...ne,[J]:ee}))},w=k.useMemo(()=>f<=0||n.shares.length===0?0:f/n.shares.length,[f,n.shares.length]),T=k.useMemo(()=>n.shares.reduce((J,P)=>J+(A[P.userId]||0),0),[A,n.shares]),U=Math.abs(T-f)<.01,G=()=>{if(j==="custom"&&!U){alert("Custom split amounts must add up to the total bill amount.");return}const J=n.shares.map(ee=>{const ne=j==="equally"?w:A[ee.userId]||0;return{...ee,amount:parseFloat(ne.toFixed(2))}}),P={...n,title:d,totalAmount:f,dueDate:p,description:g,shares:J};c(P),o()},ae=()=>n.shares.length===0?l.jsx("p",{className:"text-sm text-slate-500 text-center",children:"No members assigned to this bill."}):j==="equally"?l.jsx("div",{className:"space-y-2",children:n.shares.map(J=>l.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 dark:bg-slate-700/50 rounded-md",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ga,{className:"w-6 h-6 text-slate-400"}),l.jsx("span",{children:J.userName})]}),l.jsxs("span",{className:"font-semibold font-numeric",children:["",w.toFixed(2)]})]},J.userId))}):l.jsxs("div",{className:"space-y-2",children:[n.shares.map(J=>l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx("span",{className:"text-sm",children:J.userName}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",children:""}),l.jsx("input",{type:"number",step:"0.01",value:A[J.userId]||"",onChange:P=>S(J.userId,P.target.value),className:"w-28 pl-7 pr-2 py-1 text-right bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-md focus:outline-none focus:border-primary-500"})]})]},J.userId)),l.jsxs("div",{className:`mt-2 pt-2 border-t dark:border-slate-600 flex justify-between font-semibold ${U?"text-success-600":"text-danger-600"}`,children:[l.jsx("span",{children:"Total Custom:"}),l.jsxs("span",{children:["",T.toFixed(2)]})]})]});return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:o,children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg animate-scale-in",onClick:J=>J.stopPropagation(),children:[l.jsxs("div",{className:"p-6 border-b dark:border-slate-700 flex justify-between items-center",children:[l.jsxs("h2",{className:"text-xl font-bold font-sans text-slate-900 dark:text-white",children:["Edit ",n.category," Bill"]}),l.jsx("button",{type:"button",onClick:o,className:"p-1 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700",children:l.jsx(Yt,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto space-y-4 text-sm",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Title"}),l.jsx("input",{type:"text",value:d,onChange:J=>u(J.target.value),className:"w-full mt-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Due Date"}),l.jsx("input",{type:"date",value:p,onChange:J=>b(J.target.value),className:"w-full mt-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Total Amount"}),l.jsx("input",{type:"number",step:"0.01",value:f,onChange:J=>h(parseFloat(J.target.value)||0),className:"w-full mt-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Description (Optional)"}),l.jsx("textarea",{value:g,onChange:J=>y(J.target.value),rows:2,className:"w-full mt-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500"})]}),l.jsxs("div",{className:"border-t pt-4 dark:border-slate-600",children:[l.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:"Split Method"}),l.jsxs("div",{className:"mt-2 flex gap-2 p-1 bg-slate-100 dark:bg-slate-700 rounded-lg",children:[l.jsx("button",{type:"button",onClick:()=>N("equally"),className:`flex-1 py-1.5 text-sm font-semibold rounded-md ${j==="equally"?"bg-white dark:bg-slate-600 shadow":""}`,children:"Split Equally"}),l.jsx("button",{type:"button",onClick:()=>N("custom"),className:`flex-1 py-1.5 text-sm font-semibold rounded-md ${j==="custom"?"bg-white dark:bg-slate-600 shadow":""}`,children:"Custom Amount"})]}),l.jsx("div",{className:"mt-4",children:ae()})]})]}),l.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-700/50 rounded-b-xl flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:o,className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 font-semibold rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500",children:"Cancel"}),l.jsx("button",{type:"button",onClick:G,className:"px-4 py-2 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600",children:"Save Changes"})]})]})})},vf={Paid:{text:"text-success-700 dark:text-success-400",bg:"bg-success-500/10"},"Pending Approval":{text:"text-warning-600 dark:text-warning-400",bg:"bg-warning-500/10"},Unpaid:{text:"text-slate-800 dark:text-slate-200",bg:"bg-slate-100 dark:bg-slate-700"},Overdue:{text:"text-danger-600 dark:text-danger-400",bg:"bg-danger-500/10"}},iy=()=>{const n=[],o=new Date;for(let c=0;c<6;c++){const d=new Date(o);d.setMonth(d.getMonth()-c),n.push(d.toLocaleString("default",{month:"long",year:"numeric"}))}return n},Wl=({category:n,icon:o})=>{var oe;const{user:c,setPage:d}=ve(),[u,f]=k.useState([]),[h,p]=k.useState(!0),[b,g]=k.useState(null),[y,j]=k.useState(null),{addToast:N}=_e(),[A]=k.useState(iy()),[v,S]=k.useState(A[0]),[w,T]=k.useState(!1);k.useEffect(()=>{c!=null&&c.khataId&&(p(!0),te.getBillsForRoom(c.khataId).then(W=>{const ie=W.filter(E=>E.category===n).sort((E,Y)=>new Date(Y.dueDate).getTime()-new Date(E.dueDate).getTime());f(ie),p(!1)}))},[c,n]);const U=async()=>{if(!b||!c)return;const W=await te.updateBillShareStatus(b.id,c.id,"Pending Approval");W&&(f(ie=>ie.map(E=>E.id===W.id?W:E)),N({type:"success",title:"Payment Submitted",message:"Your payment is now pending approval."})),g(null)},G=async(W,ie)=>{const E=await te.updateBillShareStatus(W,ie,"Paid");E?(f(Y=>Y.map(I=>I.id===E.id?E:I)),N({type:"success",title:"Approved",message:"Payment approved successfully."})):N({type:"error",title:"Error",message:"Failed to approve payment."})},ae=async(W,ie)=>{const E=await te.updateBillShareStatus(W,ie,"Unpaid");E?(f(Y=>Y.map(I=>I.id===E.id?E:I)),N({type:"info",title:"Denied",message:"Payment rejected. Status reset to Unpaid."})):N({type:"error",title:"Error",message:"Failed to deny payment."})},J=W=>{f(ie=>ie.map(E=>E.id===W.id?W:E)),N({type:"success",title:"Bill Updated",message:`The ${W.title} bill has been successfully updated.`}),j(null)},P=W=>{f(ie=>[W,...ie].sort((E,Y)=>new Date(Y.dueDate).getTime()-new Date(E.dueDate).getTime())),N({type:"success",title:"Bill Added",message:`The new ${n} bill has been successfully created.`}),T(!1)},ee=()=>{N({type:"info",title:"Reminder Sent",message:"Reminders have been sent to all unpaid members."})},ne=W=>{window.confirm(`Are you sure you want to delete the ${W.title} bill? This action cannot be undone.`)&&(f(ie=>ie.filter(E=>E.id!==W.id)),N({type:"error",title:"Bill Deleted",message:`The ${W.title} bill has been removed.`}))},X=k.useMemo(()=>{if(!v)return null;const[W,ie]=v.split(" "),E=parseInt(ie,10),Y=new Date(Date.parse(W+" 1, 2012")).getMonth();return u.find(I=>{const de=new Date(I.dueDate);return de.getFullYear()===E&&de.getMonth()===Y})},[u,v]);if(h)return l.jsxs("div",{className:"text-center p-8",children:["Loading ",n," bills..."]});if(!c)return null;const se=W=>{const ie=new Date,E=new Date(W);ie.setHours(0,0,0,0),E.setHours(0,0,0,0);const Y=E.getTime()-ie.getTime(),I=Math.ceil(Y/(1e3*60*60*24));return I<0?{text:`Overdue by ${Math.abs(I)} day(s)`,isOverdue:!0}:I===0?{text:"Due today",isOverdue:!1}:{text:`${I} day(s) left`,isOverdue:!1}},H=W=>l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-6 space-y-4",children:[l.jsxs("h2",{className:"text-xl font-bold font-sans text-slate-800 dark:text-white",children:[v," Bill"]}),l.jsxs("div",{className:"space-y-1 text-sm text-slate-600 dark:text-slate-300",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Total Amount:"})," ",l.jsxs("span",{className:"font-numeric text-base",children:["",W.totalAmount.toFixed(2)]})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Bill Date:"})," ",new Date(new Date(W.dueDate).setDate(1)).toLocaleDateString()]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Due Date:"})," ",W.dueDate]}),W.description&&l.jsxs("p",{children:[l.jsx("strong",{children:"Notes:"})," ",W.description]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-bold font-sans text-slate-800 dark:text-white mb-2",children:["Split Among ",W.shares.length," Members:"]}),l.jsx("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg space-y-2",children:W.shares.map(ie=>l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium text-slate-800 dark:text-slate-200",children:[ie.userName," - ",l.jsxs("span",{className:"font-numeric",children:["",ie.amount.toFixed(2)]})]}),l.jsx("span",{className:`text-xs font-semibold ${vf[ie.status].text}`,children:ie.status})]}),l.jsxs("div",{className:"flex gap-2",children:[ie.status==="Pending Approval"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>ae(W.id,ie.userId),className:"px-2 py-1 text-xs font-semibold bg-danger-500/10 text-danger-600 rounded-md hover:bg-danger-500/20 transition-all active:scale-95",children:"Deny"}),l.jsx("button",{onClick:()=>G(W.id,ie.userId),className:"px-2 py-1 text-xs font-semibold bg-success-500/10 text-success-600 rounded-md hover:bg-success-500/20 transition-all active:scale-95",children:"Approve"})]}),ie.status==="Paid"&&l.jsx("span",{className:"text-success-600",children:""})]})]},ie.userId))})]}),l.jsxs("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700 flex flex-wrap gap-2 justify-end",children:[l.jsx("button",{onClick:ee,className:"px-3 py-1.5 text-sm font-semibold border border-primary-500 text-primary-600 rounded-md hover:bg-primary-500/10 transition-all active:scale-95",children:"Send Reminder"}),l.jsx("button",{onClick:()=>j(W),className:"px-3 py-1.5 text-sm font-semibold border border-slate-300 dark:border-slate-600 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700 transition-all active:scale-95",children:"Edit Bill"}),l.jsx("button",{onClick:()=>ne(W),className:"px-3 py-1.5 text-sm font-semibold text-danger-600 bg-danger-500/10 rounded-md hover:bg-danger-500/20 transition-all active:scale-95",children:"Delete"})]})]})}),re=W=>{const ie=W.shares.find(de=>de.userId===c.id);if(!ie)return l.jsx("p",{children:"Your details for this bill are not available."});const E=se(W.dueDate),Y=vf[ie.status],I=ie.status==="Unpaid"||ie.status==="Overdue";return l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-6 space-y-4",children:[l.jsx("h2",{className:"text-xl font-bold font-sans text-slate-800 dark:text-white",children:v}),l.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:[l.jsxs("p",{children:["Total Bill: ",l.jsxs("span",{className:"font-semibold text-slate-800 dark:text-white font-numeric",children:["",W.totalAmount.toFixed(2)]})]}),l.jsxs("p",{className:"text-lg mt-1",children:["Your Share: ",l.jsxs("span",{className:"font-bold text-xl text-primary-600 font-numeric",children:["",ie.amount.toFixed(2)]})]})]}),l.jsxs("div",{children:[l.jsxs("p",{className:`text-sm ${E.isOverdue&&!I?"text-danger-600 font-semibold":"text-slate-500 dark:text-slate-400"}`,children:["Due: ",W.dueDate,I&&` (${E.text})`]}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Status: ",l.jsx("span",{className:`font-semibold ${Y.text}`,children:ie.status})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsx("button",{className:"px-4 py-2 text-sm font-semibold border border-slate-300 dark:border-slate-600 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700 transition-all active:scale-95",children:"View Bill Image "}),I&&l.jsx("button",{onClick:()=>g(W),className:"px-4 py-2 text-sm font-semibold bg-gradient-success text-white rounded-md hover:shadow-lg transition-all active:scale-[0.98]",children:"Pay Now"})]})]})})};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>d("bills"),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-all active:scale-95",children:l.jsx(rs,{className:"w-6 h-6 text-slate-600 dark:text-slate-300"})}),o,l.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white font-sans",children:[n," Bills"]})]}),c.role===he.Manager&&l.jsxs("button",{onClick:()=>T(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-success text-white font-semibold rounded-md hover:shadow-lg transition-all active:scale-[0.98]",children:[l.jsx(rn,{className:"w-5 h-5"}),"Add Bill"]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("select",{value:v,onChange:W=>S(W.target.value),className:"px-4 py-2 text-sm font-semibold bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm",children:A.map(W=>l.jsx("option",{value:W,children:W},W))})}),X?c.role===he.Manager?H(X):re(X):l.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-lg shadow-sm",children:[l.jsxs("h3",{className:"text-lg font-medium font-sans text-slate-900 dark:text-white",children:["No ",n," bill found for ",v,"."]}),c.role===he.Manager&&l.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:'Click "Add Bill" to create one.'})]})]}),y&&l.jsx(ry,{billToEdit:y,onClose:()=>j(null),onBillUpdated:J}),w&&l.jsx(ih,{onClose:()=>T(!1),onBillAdded:P,preselectedCategory:n,availableMonths:A,selectedMonth:v}),b&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-sm animate-scale-in",children:[l.jsx("h3",{className:"text-lg font-bold font-sans text-slate-900 dark:text-white",children:"Confirm Payment"}),l.jsxs("div",{className:"mt-4 mb-6 text-sm text-slate-600 dark:text-slate-300",children:[l.jsxs("p",{children:["Bill: ",l.jsx("span",{className:"font-semibold",children:b.title})]}),l.jsxs("p",{children:["Amount to Pay: ",l.jsxs("span",{className:"font-semibold font-numeric",children:["",(oe=b.shares.find(W=>W.userId===(c==null?void 0:c.id)))==null?void 0:oe.amount.toFixed(2)]})]}),l.jsx("p",{className:"mt-4 p-2 bg-warning-500/10 text-warning-600 dark:text-warning-400 rounded-md",children:" This will be sent to the manager for approval."})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>g(null),className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 text-slate-800 dark:text-slate-200 font-semibold rounded-md hover:bg-slate-300 dark:hover:bg-slate-500 transition-all active:scale-95",children:"Cancel"}),l.jsx("button",{onClick:U,className:"px-4 py-2 bg-gradient-success text-white rounded-md font-semibold hover:shadow-lg transition-all active:scale-95",children:"Confirm Payment"})]})]})})]})},oh={Rent:l.jsx(cn,{className:"w-6 h-6 text-danger-500"}),Electricity:l.jsx(un,{className:"w-6 h-6 text-yellow-500"}),Water:l.jsx(mn,{className:"w-6 h-6 text-blue-500"}),Gas:l.jsx(fn,{className:"w-6 h-6 text-orange-500"}),"Wi-Fi":l.jsx(hn,{className:"w-6 h-6 text-cyan-500"}),Maid:l.jsx(xn,{className:"w-6 h-6 text-purple-500"}),Others:l.jsx(Va,{className:"w-6 h-6 text-slate-500"})},oy=({bills:n})=>{const{setPage:o}=ve(),[c,d]=k.useState("All"),[u,f]=k.useState(""),h=k.useMemo(()=>n.filter(b=>{if(!b.title.toLowerCase().includes(u.toLowerCase()))return!1;if(c==="All")return!0;const y=new Date(b.dueDate)<new Date&&b.shares.some(N=>N.status!=="Paid");if(c==="Overdue")return y;const j=b.shares.every(N=>N.status==="Paid");return c==="Approved"?j:c==="Pending Payment"?!j&&!y:!0}),[n,c,u]),p=({paid:b,total:g})=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:g}).map((y,j)=>l.jsx("div",{className:`w-3 h-3 rounded-full ${j<b?"bg-success-500":"bg-slate-300 dark:bg-slate-600"}`},j))}),l.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 font-numeric",children:[b,"/",g," Paid"]})]});return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[l.jsx("div",{className:"flex-shrink-0 grid grid-cols-2 sm:grid-cols-4 gap-2 bg-slate-100 dark:bg-slate-800 p-1 rounded-lg",children:["All","Pending Payment","Approved","Overdue"].map(b=>l.jsx("button",{onClick:()=>d(b),className:`px-3 py-1.5 text-sm font-semibold rounded-md transition-colors ${c===b?"bg-white dark:bg-slate-700 text-primary-600 shadow":"text-slate-600 dark:text-slate-300 hover:bg-white/50"}`,children:b},b))}),l.jsxs("div",{className:"relative flex-grow min-w-[200px]",children:[l.jsx(Eb,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),l.jsx("input",{type:"text",placeholder:"Search bills...",value:u,onChange:b=>f(b.target.value),className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg"})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(b=>{const g=b.shares.filter(j=>j.status==="Paid").length,y=b.shares.length;return l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-5 flex flex-col justify-between transition-all hover:shadow-lg hover:scale-[1.02]",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[oh[b.category]||l.jsx(Va,{className:"w-6 h-6 text-slate-500"}),l.jsx("h3",{className:"font-bold text-xl font-sans text-slate-800 dark:text-white",children:b.title})]}),l.jsxs("p",{className:"text-2xl font-bold text-primary-600 font-numeric",children:["",b.totalAmount.toFixed(2)]}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Due: ",b.dueDate]}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Split: ",l.jsxs("span",{className:"font-numeric",children:["",(b.totalAmount/y).toFixed(2)]})," per person"]})]}),l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsx(p,{paid:g,total:y}),l.jsx("div",{className:"flex gap-2",children:l.jsx("button",{onClick:()=>o(`bills-detail_${b.id}`),className:"px-3 py-1 text-sm bg-slate-100 dark:bg-slate-700 rounded-md font-semibold hover:bg-slate-200 dark:hover:bg-slate-600 transition-all active:scale-95",children:"View Details"})})]})]},b.id)})})]})},cy=({bills:n,setConfirmingPayment:o})=>{const{setPage:c}=ve(),d=u=>{const f=new Date,h=new Date(u);f.setHours(0,0,0,0),h.setHours(0,0,0,0);const p=h.getTime()-f.getTime(),b=Math.ceil(p/(1e3*60*60*24));return b<0?{text:`Overdue by ${Math.abs(b)} day(s)`,isOverdue:!0}:b===0?{text:"Due today",isOverdue:!1}:{text:`${b} day(s) left`,isOverdue:!1}};return l.jsx("div",{className:"space-y-4",children:n.map(u=>{const f=d(u.dueDate),h=u.myShare.status;return l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-5 space-y-3 transition-all hover:shadow-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[oh[u.category],l.jsx("h3",{className:"font-bold text-lg font-sans text-slate-800 dark:text-white",children:u.title})]}),l.jsxs("p",{className:"text-slate-600 dark:text-slate-300",children:["Your Share: ",l.jsxs("span",{className:"font-bold text-lg text-slate-800 dark:text-white font-numeric",children:["",u.myShare.amount.toFixed(2)]})]}),l.jsxs("p",{className:`text-sm ${f.isOverdue&&h!=="Paid"?"text-danger-600 font-semibold":"text-slate-500 dark:text-slate-400"}`,children:["Due Date: ",new Date(u.dueDate).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}),h!=="Paid"&&` (${f.text})`]}),l.jsxs("div",{className:"flex justify-between items-center border-t border-slate-200 dark:border-slate-700 pt-3",children:[l.jsx("div",{children:h==="Unpaid"||h==="Overdue"?l.jsx("button",{onClick:()=>o(u),className:"px-4 py-2 text-white font-semibold rounded-md bg-gradient-success hover:shadow-lg transition-all active:scale-[0.98]",children:"Pay Now"}):h==="Pending Approval"?l.jsx("div",{children:l.jsxs("p",{className:"text-sm text-warning-600 dark:text-warning-400",children:["Status: ",l.jsx("span",{className:"font-semibold",children:" Waiting for Approval"})]})}):l.jsx("div",{children:l.jsx("p",{className:"text-sm text-success-600 dark:text-success-400",children:"Paid "})})}),l.jsx("button",{onClick:()=>c(`bills-detail_${u.id}`),className:"text-sm font-semibold text-primary-600 hover:underline",children:"View Details "})]})]},u.id)})})},dy=()=>{var S;const{user:n}=ve(),[o,c]=k.useState([]),[d,u]=k.useState(!0),[f,h]=k.useState("Due Now"),[p,b]=k.useState(null),[g,y]=k.useState(!1),{addToast:j}=_e();k.useEffect(()=>{n!=null&&n.khataId&&(u(!0),te.getBillsForRoom(n.khataId).then(w=>{c(w.sort((T,U)=>new Date(U.dueDate).getTime()-new Date(T.dueDate).getTime())),u(!1)}))},[n]);const N=async()=>{if(!p||!n)return;const w=await te.updateBillShareStatus(p.id,n.id,"Pending Approval");w&&(c(T=>T.map(U=>U.id===w.id?w:U)),j({type:"success",title:"Payment Submitted",message:"Your payment is now pending manager approval."})),b(null)},A=w=>{c(T=>[w,...T].sort((U,G)=>new Date(G.dueDate).getTime()-new Date(U.dueDate).getTime())),j({type:"success",title:"Bill Added",message:`The "${w.title}" bill has been successfully created.`}),y(!1)},v=k.useMemo(()=>!n||n.role===he.Manager?[]:o.map(T=>{const U=T.shares.find(G=>G.userId===n.id);return U?{...T,myShare:U}:null}).filter(T=>T!==null).filter(T=>{const U=T.myShare.status;return f==="History"?!0:f==="Due Now"?U==="Unpaid"||U==="Overdue":U===f}),[o,n,f]);return d?l.jsx("div",{className:"text-center p-8",children:"Loading all bills..."}):n?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white font-sans",children:n.role===he.Manager?"Bills":"My Bills"}),n.role===he.Manager&&l.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-4 py-2 text-white font-semibold rounded-lg bg-gradient-success hover:shadow-lg transition-all active:scale-[0.98]",children:[l.jsx(rn,{className:"w-5 h-5"}),"Add New Bill"]})]}),n.role===he.Manager?l.jsx(oy,{bills:o}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex-shrink-0 grid grid-cols-2 sm:grid-cols-4 gap-2 bg-slate-100 dark:bg-slate-800 p-1 rounded-lg",children:["Due Now","Paid","Pending Approval","History"].map(w=>l.jsx("button",{onClick:()=>h(w),className:`px-3 py-1.5 text-sm font-semibold rounded-md transition-colors ${f===w?"bg-white dark:bg-slate-700 text-primary-600 shadow":"text-slate-600 dark:text-slate-300 hover:bg-white/50"}`,children:w},w))}),l.jsx(cy,{bills:v,setConfirmingPayment:b})]})]}),g&&l.jsx(ih,{onClose:()=>y(!1),onBillAdded:A}),p&&n.role===he.Member&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-sm m-4 animate-scale-in",children:[l.jsx("h3",{className:"text-lg font-bold font-sans text-slate-900 dark:text-white",children:"Confirm Payment"}),l.jsxs("div",{className:"my-4 text-sm text-slate-600 dark:text-slate-300 space-y-2",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Bill:"})," ",p.title]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Amount to Pay:"})," ",l.jsxs("span",{className:"font-numeric",children:["",(S=p.shares.find(w=>w.userId===(n==null?void 0:n.id)))==null?void 0:S.amount.toFixed(2)]})]}),l.jsx("p",{className:"mt-4 p-3 bg-warning-500/10 text-warning-600 dark:text-warning-400 rounded-md text-center",children:" This will be sent to the manager for approval."})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>b(null),className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 text-slate-800 dark:text-slate-200 font-semibold rounded-md hover:bg-slate-300 dark:hover:bg-slate-500 transition-all active:scale-95",children:"Cancel"}),l.jsx("button",{onClick:N,className:"px-4 py-2 bg-gradient-success text-white rounded-md font-semibold hover:shadow-lg transition-all active:scale-95",children:"Confirm Payment"})]})]})})]}):null},uy=({billId:n})=>{const{setPage:o,user:c}=ve(),[d,u]=k.useState(null),[f,h]=k.useState(!0),{addToast:p}=_e();if(k.useEffect(()=>{(async()=>{if(c!=null&&c.khataId)try{const N=(await te.getBillsForRoom(c.khataId)).find(A=>A.id===n);u(N||null)}catch(j){console.error("Error fetching bill details:",j),p({type:"error",title:"Error",message:"Failed to load bill details"})}finally{h(!1)}})()},[n,c==null?void 0:c.khataId]),f)return l.jsx("div",{className:"p-8 text-center",children:"Loading bill details..."});if(!d)return l.jsx("div",{className:"p-8 text-center",children:"Bill not found"});const g=d.shares.filter(y=>y.status==="Paid").reduce((y,j)=>y+j.amount,0)/d.totalAmount*100;return l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>o("bills"),className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:l.jsx(rs,{className:"w-6 h-6 text-slate-600 dark:text-slate-300"})}),l.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:d.title})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-6",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Total Amount"}),l.jsxs("p",{className:"text-3xl font-bold text-primary-600 font-numeric",children:["",d.totalAmount.toFixed(2)]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Due Date"}),l.jsx("p",{className:"font-semibold text-slate-800 dark:text-white",children:new Date(d.dueDate).toLocaleDateString()})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[l.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:"Payment Progress"}),l.jsxs("span",{className:"font-semibold text-slate-800 dark:text-white",children:[Math.round(g),"%"]})]}),l.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:l.jsx("div",{className:"bg-success-500 h-2.5 rounded-full transition-all duration-500",style:{width:`${g}%`}})})]}),l.jsx("h3",{className:"font-bold text-lg mb-4 text-slate-800 dark:text-white",children:"Share Details"}),l.jsx("div",{className:"space-y-3",children:d.shares.map(y=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${y.status==="Paid"?"bg-success-500":y.status==="Pending Approval"?"bg-warning-500":"bg-danger-500"}`}),l.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:y.userName})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{className:"font-numeric font-semibold text-slate-700 dark:text-slate-200",children:["",y.amount.toFixed(2)]}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-semibold ${y.status==="Paid"?"bg-success-100 text-success-700 dark:bg-success-900/30 dark:text-success-400":y.status==="Pending Approval"?"bg-warning-100 text-warning-700 dark:bg-warning-900/30 dark:text-warning-400":"bg-danger-100 text-danger-700 dark:bg-danger-900/30 dark:text-danger-400"}`,children:y.status})]})]},y.userId))})]})]})},my=()=>{const{page:n}=ve(),o="bills-detail_";if(n.startsWith(o)){const c=n.substring(o.length);return l.jsx(uy,{billId:c})}switch(n){case"bills":return l.jsx(bf,{});case"bills-all":return l.jsx(dy,{});case"bills-rent":return l.jsx(ny,{});case"bills-electricity":return l.jsx(Wl,{category:"Electricity",icon:l.jsx(un,{className:"w-8 h-8 text-yellow-500"})});case"bills-water":return l.jsx(Wl,{category:"Water",icon:l.jsx(mn,{className:"w-8 h-8 text-blue-500"})});case"bills-gas":return l.jsx(Wl,{category:"Gas",icon:l.jsx(fn,{className:"w-8 h-8 text-orange-500"})});case"bills-wifi":return l.jsx(Wl,{category:"Wi-Fi",icon:l.jsx(hn,{className:"w-8 h-8 text-cyan-500"})});case"bills-maid":return l.jsx(Wl,{category:"Maid",icon:l.jsx(xn,{className:"w-8 h-8 text-purple-500"})});case"bills-others":return l.jsx(Wl,{category:"Others",icon:l.jsx(Va,{className:"w-8 h-8 text-gray-500"})});default:return l.jsx(bf,{})}},fy=()=>{const{theme:n,toggleTheme:o}=jb();return l.jsx("button",{onClick:o,className:"w-full flex items-center justify-center p-2 rounded-md text-slate-600 dark:text-slate-300 bg-slate-100 dark:bg-slate-700/50 hover:bg-slate-200 dark:hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 dark:focus:ring-offset-slate-800 transition-colors","aria-label":"Toggle theme",children:n==="dark"?l.jsxs(l.Fragment,{children:[l.jsx(Nb,{className:"w-5 h-5 mr-2 text-yellow-400"}),l.jsx("span",{className:"text-sm font-medium",children:"Light Mode"})]}):l.jsxs(l.Fragment,{children:[l.jsx(wb,{className:"w-5 h-5 mr-2 text-slate-700"}),l.jsx("span",{className:"text-sm font-medium",children:"Dark Mode"})]})})},hy=({type:n})=>{switch(n){case"bill":return l.jsx(Wr,{className:"w-5 h-5 text-blue-500"});case"payment":return l.jsx(Xt,{className:"w-5 h-5 text-green-500"});case"meal":return l.jsx(fl,{className:"w-5 h-5 text-orange-500"});case"room":return l.jsx(as,{className:"w-5 h-5 text-purple-500"});case"deposit":return l.jsx(rn,{className:"w-5 h-5 text-emerald-500"});case"expense":return l.jsx(on,{className:"w-5 h-5 text-red-500"});default:return null}},xy=({isOpen:n,onClose:o})=>{const{notifications:c,unreadCount:d,markAllAsRead:u,markAsRead:f}=_e(),{setPage:h}=ve(),[p,b]=k.useState("All"),g=c.filter(j=>p==="Unread"?!j.read:!0),y=j=>{f(j.id),j.link&&(h(j.link),o())};return l.jsxs("div",{className:`fixed inset-0 z-50 transition-transform transform duration-300 ease-in-out ${n?"translate-x-0":"translate-x-full"}`,children:[l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:o}),l.jsxs("div",{className:"relative w-full max-w-sm h-full bg-white dark:bg-slate-800 float-right flex flex-col",children:[l.jsxs("div",{className:"flex-shrink-0 p-4 border-b border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Notifications"}),l.jsx("button",{onClick:o,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:l.jsx(Yt,{className:"w-6 h-6 text-slate-500"})})]}),l.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>b("All"),className:`px-3 py-1 text-sm rounded-md ${p==="All"?"bg-primary-100 text-primary-600 dark:bg-primary-500/20":"hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:"All"}),l.jsxs("button",{onClick:()=>b("Unread"),className:`px-3 py-1 text-sm rounded-md ${p==="Unread"?"bg-primary-100 text-primary-600 dark:bg-primary-500/20":"hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:["Unread (",d,")"]})]}),l.jsx("button",{onClick:u,className:"text-sm font-medium text-primary-600 hover:underline",children:"Mark all as read"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:g.length===0?l.jsx("div",{className:"text-center py-10 text-slate-500 dark:text-slate-400",children:l.jsx("p",{children:"No notifications found."})}):g.map((j,N)=>l.jsxs("button",{className:"w-full text-left p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg flex gap-4 relative transition-colors hover:bg-slate-100 dark:hover:bg-slate-700 group animate-fade-in",style:{animationDelay:`${N*50}ms`},onClick:()=>y(j),children:[!j.read&&l.jsx("div",{className:"absolute left-1 top-1/2 -translate-y-1/2 w-2 h-2 bg-blue-500 rounded-full"}),l.jsx("div",{className:"flex-shrink-0 pt-1",children:l.jsx(hy,{type:j.type})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white",children:j.title}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:j.message}),j.actionText&&l.jsx("span",{className:"mt-2 inline-block text-sm font-semibold text-primary-600 group-hover:underline",children:j.actionText}),l.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-2",children:j.timestamp})]})]},j.id))})]})]})},gy=(n,o)=>{const[c,d]=k.useState(0);return k.useEffect(()=>{const u=async()=>{if(!n||!o){d(0);return}try{const[h,p]=await Promise.all([te.getDeposits(n),te.getExpenses(n)]),b=h.filter(y=>y.status==="Pending").length,g=p.filter(y=>y.status==="Pending").length;d(b+g)}catch(h){console.error("Error fetching pending count:",h),d(0)}};u();const f=setInterval(u,3e4);return()=>clearInterval(f)},[n,o]),c},We=({page:n,icon:o,children:c,isSublink:d=!1,badgeCount:u})=>{const{page:f,setPage:h}=ve(),p=f===n;return l.jsxs("button",{onClick:()=>h(n),className:`w-full flex items-center text-left ${d?"pl-12 pr-3 py-2":"px-3 py-2.5"} rounded-md text-sm font-medium transition-all group duration-200 active:scale-[0.98] ${p?"bg-primary-100 text-primary-600 dark:bg-primary-500/20 dark:text-primary-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-slate-100"}`,children:[kf.cloneElement(o,{className:`flex-shrink-0 w-6 h-6 mr-3 transition-colors ${p?"text-primary-500":"text-slate-400 dark:text-slate-500 group-hover:text-primary-500 dark:group-hover:text-primary-400"}`}),l.jsx("span",{className:"flex-grow font-semibold",children:c}),u&&u>0&&l.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${p?"bg-primary-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200"}`,children:u})]})},py=()=>{const[n,o]=k.useState(!1),{page:c,setPage:d}=ve(),u=c.startsWith("bills");return l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>{o(!n),c.startsWith("bills-")||d("bills")},className:`w-full flex items-center text-left px-3 py-2.5 rounded-md text-sm font-medium transition-all group duration-200 active:scale-[0.98] ${u?"bg-primary-100 text-primary-600 dark:bg-primary-500/20 dark:text-primary-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-slate-100"}`,children:[l.jsx(Wr,{className:`flex-shrink-0 w-6 h-6 mr-3 transition-colors ${u?"text-primary-500":"text-slate-400 dark:text-slate-500 group-hover:text-primary-500 dark:group-hover:text-primary-400"}`}),l.jsx("span",{className:"flex-grow font-semibold",children:"Bills"}),l.jsx(Cb,{className:`w-5 h-5 transition-transform duration-300 ${n?"rotate-180":""}`})]}),l.jsx("div",{className:`overflow-hidden transition-max-height duration-500 ease-in-out ${n?"max-h-96":"max-h-0"}`,children:l.jsxs("div",{className:"mt-1 space-y-1",children:[l.jsx(We,{page:"bills",icon:l.jsx(If,{}),isSublink:!0,children:"Overview"}),l.jsx(We,{page:"bills-all",icon:l.jsx(Db,{}),isSublink:!0,children:"All Bills"}),l.jsx(We,{page:"bills-rent",icon:l.jsx(cn,{}),isSublink:!0,children:"Rent Bills"}),l.jsx(We,{page:"bills-electricity",icon:l.jsx(un,{}),isSublink:!0,children:"Electricity"}),l.jsx(We,{page:"bills-water",icon:l.jsx(mn,{}),isSublink:!0,children:"Water"}),l.jsx(We,{page:"bills-gas",icon:l.jsx(fn,{}),isSublink:!0,children:"Gas"}),l.jsx(We,{page:"bills-wifi",icon:l.jsx(hn,{}),isSublink:!0,children:"Wi-Fi"}),l.jsx(We,{page:"bills-maid",icon:l.jsx(xn,{}),isSublink:!0,children:"Maid"}),l.jsx(We,{page:"bills-others",icon:l.jsx(Va,{}),isSublink:!0,children:"Others"})]})})]})},jf=()=>{const{user:n,logout:o}=ve(),c=gy(n==null?void 0:n.khataId,(n==null?void 0:n.role)===he.Manager);return l.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-slate-800/50 backdrop-blur-sm",children:[l.jsxs("div",{className:"h-16 flex items-center px-4 border-b border-slate-200 dark:border-slate-700",children:[l.jsx(dn,{className:"w-8 h-8 text-primary-500"}),l.jsx("span",{className:"ml-2 font-bold text-2xl text-slate-800 dark:text-white font-sans",children:"BillKhata"})]}),l.jsxs("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:[l.jsx(We,{page:"dashboard",icon:l.jsx(If,{}),children:"Dashboard"}),(n==null?void 0:n.role)===he.Manager&&l.jsx(We,{page:"pending-approvals",icon:l.jsx(Ob,{}),badgeCount:c,children:"Pending Approvals"}),l.jsx(py,{}),l.jsx(We,{page:"meals",icon:l.jsx(fl,{}),children:"Meal Management"}),l.jsx(We,{page:"shopping",icon:l.jsx(Wf,{}),children:"Shopping"}),l.jsx(We,{page:"calendar",icon:l.jsx(lh,{}),children:"Calendar"}),l.jsx(We,{page:"menu",icon:l.jsx(sh,{}),children:"Menu"}),l.jsx(We,{page:"members",icon:l.jsx(as,{}),children:"Room Members"}),l.jsx(We,{page:"history",icon:l.jsx(zb,{}),children:"History"}),(n==null?void 0:n.role)===he.Manager&&l.jsxs(l.Fragment,{children:[l.jsx(We,{page:"payment-dashboard",icon:l.jsx(Tb,{}),children:"Payment Dashboard"}),l.jsx(We,{page:"reports-analytics",icon:l.jsx(on,{}),children:"Reports & Analytics"})]}),l.jsx(We,{page:"settings",icon:l.jsx(zc,{}),children:"Settings"})]}),n&&l.jsxs("div",{className:"px-4 py-3 border-t border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3 transition-transform duration-200 hover:scale-105",children:[l.jsx(Ga,{className:"w-10 h-10 text-slate-500"}),l.jsxs("div",{className:"flex-grow",children:[l.jsx("p",{className:"font-semibold text-sm text-slate-800 dark:text-white",children:n.name}),l.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[n.role,"  Room 3B"]})]})]}),l.jsx("button",{onClick:o,className:"p-2 rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 transition-all active:scale-95 duration-200","aria-label":"Logout",children:l.jsx(kb,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"mt-3",children:l.jsx(fy,{})})]})]})},by=({children:n})=>{const[o,c]=k.useState(!1),[d,u]=k.useState(!1),{unreadCount:f}=_e();return l.jsxs("div",{className:"h-screen flex overflow-hidden bg-slate-100 dark:bg-slate-900",children:[o&&l.jsxs("div",{className:"fixed inset-0 flex z-40 md:hidden",role:"dialog","aria-modal":"true",children:[l.jsx("div",{className:"fixed inset-0 bg-slate-600 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:()=>c(!1)}),l.jsxs("div",{className:"relative flex-1 flex flex-col max-w-xs w-full animate-slide-in-right",children:[l.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:l.jsxs("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>c(!1),children:[l.jsx("span",{className:"sr-only",children:"Close sidebar"}),l.jsx(Yt,{className:"h-6 w-6 text-white"})]})}),l.jsx(jf,{})]}),l.jsx("div",{className:"flex-shrink-0 w-14","aria-hidden":"true"})]}),l.jsx("div",{className:"hidden md:flex md:flex-shrink-0",children:l.jsx("div",{className:"flex flex-col w-64",children:l.jsx("div",{className:"flex flex-col h-0 flex-1 border-r border-slate-200 dark:border-slate-700",children:l.jsx(jf,{})})})}),l.jsxs("div",{className:"flex flex-col w-0 flex-1 overflow-hidden",children:[l.jsxs("div",{className:"relative z-30 flex-shrink-0 flex h-16 bg-white dark:bg-slate-800 shadow-sm",children:[l.jsxs("button",{type:"button",className:"px-4 border-r border-slate-200 dark:border-slate-700 text-slate-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500 md:hidden",onClick:()=>c(!0),children:[l.jsx("span",{className:"sr-only",children:"Open sidebar"}),l.jsx(Sb,{className:"h-6 w-6"})]}),l.jsxs("div",{className:"flex-1 px-4 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center md:hidden",children:[l.jsx(dn,{className:"w-8 h-8 text-primary-500"}),l.jsx("span",{className:"ml-2 font-bold text-xl text-slate-800 dark:text-white font-sans",children:"BillKhata"})]}),l.jsx("div",{className:"hidden md:block"}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("button",{onClick:()=>u(!0),className:"relative p-2 rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 transition-all active:scale-95",children:[l.jsx("span",{className:"sr-only",children:"View notifications"}),l.jsx(Vc,{className:"h-6 w-6"}),f>0&&l.jsx("span",{className:"absolute top-0 right-0 block h-2.5 w-2.5 rounded-full bg-danger-500 ring-2 ring-white dark:ring-slate-800"})]})})]})]}),l.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:l.jsx("div",{className:"py-6",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:n})})})]}),l.jsx(xy,{isOpen:d,onClose:()=>u(!1)})]})},Ac=({icon:n,title:o,description:c})=>l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all",children:[l.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-full bg-primary-100 dark:bg-primary-900/50 mb-4",children:n}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:o}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:c})]}),yy=({onNavigateToLogin:n,onNavigateToSignUp:o})=>l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 text-slate-800 dark:text-slate-200",children:[l.jsxs("header",{className:"py-4 px-6 md:px-12 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(dn,{className:"w-8 h-8 text-primary-500"}),l.jsx("span",{className:"font-bold text-2xl",children:"BillKhata"})]}),l.jsxs("div",{className:"space-x-2",children:[l.jsx("button",{onClick:n,className:"px-4 py-2 text-sm font-semibold rounded-md hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Login"}),l.jsx("button",{onClick:o,className:"px-4 py-2 text-sm font-semibold rounded-md bg-primary-500 text-white hover:bg-primary-600 transition-colors",children:"Sign Up"})]})]}),l.jsx("main",{className:"py-20 px-6 md:px-12",children:l.jsxs("div",{className:"max-w-7xl mx-auto grid md:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{className:"text-center md:text-left",children:[l.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold tracking-tight text-slate-900 dark:text-white",children:["Split Bills,",l.jsx("br",{}),l.jsx("span",{className:"text-primary-500",children:"Share Meals,"}),l.jsx("br",{}),"Stay Friends."]}),l.jsx("p",{className:"mt-6 text-lg text-slate-600 dark:text-slate-400 max-w-lg mx-auto md:mx-0",children:"The ultimate app for managing shared living expenses. From rent and utilities to daily meals, BillKhata keeps everything fair and transparent."}),l.jsxs("div",{className:"mt-8 flex gap-4 justify-center md:justify-start",children:[l.jsx("button",{onClick:o,className:"px-8 py-3 font-semibold rounded-md bg-primary-500 text-white hover:bg-primary-600 transition-transform hover:scale-105 shadow-lg",children:"Create Your Khata"}),l.jsx("button",{className:"px-8 py-3 font-semibold rounded-md bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-slate-200 hover:bg-slate-300 dark:hover:bg-slate-600 transition-transform hover:scale-105",children:"See Demo"})]})]}),l.jsx("div",{className:"hidden md:block",children:l.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-2xl transform rotate-3",children:l.jsx("div",{className:"aspect-video bg-slate-200 dark:bg-slate-700 rounded-lg flex items-center justify-center",children:l.jsx("p",{className:"text-slate-400 font-medium",children:"[Dashboard Preview Animated Mockup]"})})})})]})}),l.jsx("section",{className:"py-24 bg-white dark:bg-slate-800/50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-12 text-center",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Everything you need in one place"}),l.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 mb-12 max-w-3xl mx-auto",children:"BillKhata is packed with features to make shared living easier, more transparent, and conflict-free."}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsx(Ac,{icon:l.jsx(Wr,{className:"w-6 h-6 text-primary-500"}),title:" Bill Splitting",description:"Easily add bills for rent, utilities, and more. Split them equally or assign custom amounts per person."}),l.jsx(Ac,{icon:l.jsx(fl,{className:"w-6 h-6 text-primary-500"}),title:" Meal Tracker",description:"Log daily meals to automatically calculate costs. Perfect for managing shared grocery funds fairly."}),l.jsx(Ac,{icon:l.jsx(on,{className:"w-6 h-6 text-primary-500"}),title:" Smart Analytics",description:"Get clear insights with per-member breakdowns, monthly trends, and payment history reports."})]})]})}),l.jsx("section",{className:"py-24",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-12 text-center",children:[l.jsx("h2",{className:"text-3xl font-bold mb-12",children:"Get Started in 4 Simple Steps"}),l.jsxs("div",{className:"grid md:grid-cols-4 gap-8 relative",children:[l.jsx("div",{className:"hidden md:block absolute top-1/2 left-0 w-full h-px -translate-y-8",children:l.jsx("svg",{width:"100%",height:"2",children:l.jsx("line",{x1:"0",y1:"1",x2:"100%",y2:"1",strokeWidth:"2",strokeDasharray:"8, 8",className:"stroke-current text-slate-300 dark:text-slate-600"})})}),l.jsxs("div",{className:"relative flex flex-col items-center",children:[l.jsx("div",{className:"h-16 w-16 bg-primary-500 text-white rounded-full flex items-center justify-center font-bold text-2xl z-10",children:"1"}),l.jsx("h3",{className:"mt-4 font-bold text-lg",children:"Create Room"}),l.jsx("p",{className:"mt-1 text-slate-600 dark:text-slate-400",children:"A manager sets up a new room and gets a unique code."})]}),l.jsxs("div",{className:"relative flex flex-col items-center",children:[l.jsx("div",{className:"h-16 w-16 bg-primary-500 text-white rounded-full flex items-center justify-center font-bold text-2xl z-10",children:"2"}),l.jsx("h3",{className:"mt-4 font-bold text-lg",children:"Add Members"}),l.jsx("p",{className:"mt-1 text-slate-600 dark:text-slate-400",children:"Members join the room using the shared 6-digit code."})]}),l.jsxs("div",{className:"relative flex flex-col items-center",children:[l.jsx("div",{className:"h-16 w-16 bg-primary-500 text-white rounded-full flex items-center justify-center font-bold text-2xl z-10",children:"3"}),l.jsx("h3",{className:"mt-4 font-bold text-lg",children:"Track Expenses"}),l.jsx("p",{className:"mt-1 text-slate-600 dark:text-slate-400",children:"Log all bills, meals, and deposits as they happen."})]}),l.jsxs("div",{className:"relative flex flex-col items-center",children:[l.jsx("div",{className:"h-16 w-16 bg-primary-500 text-white rounded-full flex items-center justify-center font-bold text-2xl z-10",children:"4"}),l.jsx("h3",{className:"mt-4 font-bold text-lg",children:"Settle Up"}),l.jsx("p",{className:"mt-1 text-slate-600 dark:text-slate-400",children:"View clear balances and settle dues with a single click."})]})]})]})}),l.jsx("footer",{className:"py-8 bg-white dark:bg-slate-800/50",children:l.jsx("div",{className:"max-w-7xl mx-auto px-6 md:px-12 text-center text-slate-500 dark:text-slate-400",children:l.jsx("p",{children:" 2024 BillKhata. All rights reserved."})})})]}),vy=()=>{const[n,o]=k.useState(""),[c,d]=k.useState(!1),[u,f]=k.useState(""),[h,p]=k.useState(!1),{user:b,setUser:g,logout:y}=ve(),{addToast:j}=_e(),N=async S=>{S.preventDefault(),d(!0);try{const w=Math.random().toString(36).substring(2,8).toUpperCase();await te.createRoom(n,w)?(f(w),j({type:"success",title:"Success!",message:"Room created successfully."})):j({type:"error",title:"Error",message:"Failed to create room. Please try again."})}catch(w){console.error("Create room error:",w),j({type:"error",title:"Error",message:"Failed to create room. Please try again."})}finally{d(!1)}},A=()=>{u&&(navigator.clipboard.writeText(u),p(!0),j({type:"success",title:"Copied!",message:"Room code copied to clipboard."}),setTimeout(()=>p(!1),2e3))},v=async()=>{if(b){const S=await te.getCurrentUser();S&&(g(S),localStorage.setItem("user",JSON.stringify(S)))}};return l.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-900 p-4",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-primary-600",children:"BillKhata"}),l.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:["Welcome, ",b==null?void 0:b.name,"!"]})]}),l.jsx("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-lg p-8 text-center",children:u?l.jsxs(l.Fragment,{children:[l.jsx(Xt,{className:"w-16 h-16 mx-auto text-green-500"}),l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mt-4",children:"Room Created!"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 mb-6",children:"Share this code with your members so they can join."}),l.jsxs("div",{className:"w-full flex items-center justify-between p-3 bg-slate-100 dark:bg-slate-700 rounded-lg border-2 border-dashed border-slate-300 dark:border-slate-600 cursor-pointer",onClick:A,children:[l.jsx("p",{className:"text-3xl font-mono tracking-widest text-slate-700 dark:text-slate-200",children:u}),h?l.jsx(Xt,{className:"w-6 h-6 text-green-500"}):l.jsx(Yc,{className:"w-6 h-6 text-slate-500"})]}),l.jsx("button",{onClick:v,className:"w-full mt-6 px-4 py-3 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600 transition-colors",children:"Go to Dashboard"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Ab,{className:"w-16 h-16 mx-auto text-primary-500 opacity-80"}),l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mt-4",children:"Create Your Room"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 mb-6",children:"Give your shared space a name to get started."}),l.jsxs("form",{onSubmit:N,children:[l.jsx("input",{type:"text",placeholder:'e.g., "Apartment 3B"',value:n,onChange:S=>o(S.target.value),className:"w-full px-4 py-3 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500 transition-colors dark:text-white",required:!0}),l.jsx("button",{type:"submit",disabled:c,className:"w-full mt-4 px-4 py-3 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600 disabled:opacity-50 transition-colors flex items-center justify-center",children:c?l.jsx(Ir,{className:"w-6 h-6"}):"Create Room"})]})]})}),l.jsx("button",{onClick:y,className:"mt-8 text-sm text-slate-500 hover:underline",children:"Logout"})]})},jy=()=>{const[n,o]=k.useState(Array(6).fill("")),[c,d]=k.useState(!1),{user:u,setUser:f,logout:h}=ve(),{addToast:p}=_e(),b=k.useRef([]),g=(N,A)=>{var S;const{value:v}=N.target;if(/^[a-zA-Z0-9]$/.test(v)||v===""){const w=[...n];w[A]=v.toUpperCase(),o(w),v&&A<5&&((S=b.current[A+1])==null||S.focus())}},y=(N,A)=>{var v;N.key==="Backspace"&&!n[A]&&A>0&&((v=b.current[A-1])==null||v.focus())},j=async N=>{N.preventDefault();const A=n.join("");if(A.length===6){d(!0);try{if(await te.joinRoom(A)){const S=await te.getCurrentUser();S&&(f(S),localStorage.setItem("user",JSON.stringify(S))),p({type:"success",title:"Request Sent",message:"Your join request is now pending manager approval."})}else p({type:"error",title:"Error",message:"Failed to join room. Please check the code and try again."})}catch(v){console.error("Join room error:",v),p({type:"error",title:"Error",message:"Failed to join room. Please try again."})}finally{d(!1)}}};return l.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-900 p-4",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-primary-600",children:"BillKhata"}),l.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:["Welcome, ",u==null?void 0:u.name,"!"]})]}),l.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-lg p-8 text-center",children:[l.jsx(Mb,{className:"w-16 h-16 mx-auto text-primary-500 opacity-80"}),l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mt-4",children:"Join a Room"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 mb-6",children:"Enter the 6-digit room code from your manager."}),l.jsxs("form",{onSubmit:j,children:[l.jsx("div",{className:"flex justify-center gap-2 mb-4",children:n.map((N,A)=>l.jsx("input",{ref:v=>{b.current[A]=v},type:"text",maxLength:1,value:N,onChange:v=>g(v,A),onKeyDown:v=>y(v,A),className:"w-12 h-14 text-center text-2xl font-bold bg-slate-100 dark:bg-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"},A))}),l.jsx("button",{type:"submit",disabled:c||n.join("").length<6,className:"w-full mt-4 px-4 py-3 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600 disabled:opacity-50 transition-colors flex items-center justify-center",children:c?l.jsx(Ir,{className:"w-6 h-6"}):"Request to Join"})]})]}),l.jsx("button",{onClick:h,className:"mt-8 text-sm text-slate-500 hover:underline",children:"Logout"})]})},Ny=()=>{const{user:n,setUser:o,logout:c}=ve(),{addToast:d}=_e(),[u,f]=k.useState(!1);k.useEffect(()=>{const b=async()=>{if(!u){f(!0);try{const y=await te.getCurrentUser();y&&y.roomStatus===es.Approved&&(o(y),localStorage.setItem("user",JSON.stringify(y)),d({type:"success",title:"Approved!",message:"Your request has been approved. Welcome to the room!"}))}catch(y){console.error("Error checking approval status:",y)}finally{f(!1)}}};b();const g=setInterval(b,5e3);return()=>clearInterval(g)},[u]);const h=()=>{if(n){const b={...n,roomStatus:es.NoRoom};o(b),localStorage.setItem("user",JSON.stringify(b)),d({type:"warning",title:"Request Withdrawn",message:"You have withdrawn your request to join the room."})}},p=async()=>{f(!0);try{const b=await te.getCurrentUser();b&&(o(b),localStorage.setItem("user",JSON.stringify(b)),b.roomStatus===es.Approved?d({type:"success",title:"Approved!",message:"Your request has been approved. Welcome to the room!"}):d({type:"info",title:"Still Pending",message:"Your request is still awaiting approval."}))}catch(b){console.error("Error refreshing status:",b),d({type:"error",title:"Error",message:"Failed to refresh status"})}finally{f(!1)}};return l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-900 p-4 text-center",children:l.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-lg p-10",children:[l.jsx("div",{className:"w-16 h-16 bg-yellow-100 dark:bg-yellow-500/20 rounded-full flex items-center justify-center mx-auto",children:l.jsx("svg",{className:"w-8 h-8 text-yellow-500 dark:text-yellow-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})}),l.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mt-6",children:"Request Sent!"}),l.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:["Your request to join the room is now pending approval from the manager.",u&&l.jsx("span",{className:"block mt-2 text-primary-500",children:"Checking for updates..."})]}),l.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-2",children:"Auto-refreshing every 5 seconds"}),l.jsxs("div",{className:"mt-8 space-y-3",children:[l.jsx("button",{onClick:p,disabled:u,className:"w-full px-4 py-2.5 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:u?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Checking..."]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Check Status Now"]})}),l.jsx("button",{onClick:h,className:"w-full px-4 py-2.5 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600 transition-colors",children:"Withdraw Request"}),l.jsx("button",{onClick:c,className:"w-full px-4 py-2.5 bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-slate-200 font-semibold rounded-lg hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:"Logout"})]})]})})},Cc=({meal:n,label:o,icon:c,value:d,onChange:u,disabled:f,note:h})=>l.jsxs("div",{children:[l.jsxs("label",{className:"font-semibold text-gray-800 dark:text-white",children:[c," ",o,":"]}),l.jsx("div",{className:"flex items-center gap-x-3 mt-2 flex-wrap",children:[0,.5,1,2].map(p=>l.jsx("button",{type:"button",onClick:()=>u(p),disabled:f,className:`w-10 h-10 rounded-full text-sm font-bold flex items-center justify-center border-2 transition-all ${d===p?"bg-primary-100 dark:bg-primary-500/20 border-primary text-primary":"bg-gray-100 dark:bg-gray-700 border-gray-200 dark:border-gray-600"} ${f?"opacity-50 cursor-not-allowed":"hover:border-primary-300"}`,children:p},p))}),h&&l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:h})]}),wy=({memberName:n,memberList:o,onClose:c,onSubmit:d,isFinalized:u})=>{const f=k.useMemo(()=>o.find(A=>A.name===n),[n,o]),h=k.useMemo(()=>(f==null?void 0:f.meals)||{breakfast:2,lunch:2,dinner:2},[f]),[p,b]=k.useState(h),[g,y]=k.useState(u?"Was out of town":""),j=()=>{d({memberName:n,newMeals:p,originalMeals:h,reason:g}),c()},N=A=>{if(p[A]!==h[A])return`(Changing from ${h[A]} to ${p[A]})`};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-sm",onClick:A=>A.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Edit Meal - ",n]}),l.jsx("button",{onClick:c,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:l.jsx(Yt,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"border-t my-4 border-gray-200 dark:border-gray-700"}),l.jsxs("div",{className:"space-y-4",children:[u&&l.jsx("p",{className:"p-2 text-sm text-yellow-800 bg-yellow-100 dark:text-yellow-200 dark:bg-yellow-900/50 rounded-md text-center",children:" Already finalized. Changes need member approval."}),l.jsx(Cc,{meal:"breakfast",icon:"",label:"Breakfast",value:p.breakfast,onChange:A=>b(v=>({...v,breakfast:A})),disabled:!1,note:N("breakfast")}),l.jsx(Cc,{meal:"lunch",icon:"",label:"Lunch",value:p.lunch,onChange:A=>b(v=>({...v,lunch:A})),disabled:!1,note:N("lunch")}),l.jsx(Cc,{meal:"dinner",icon:"",label:"Dinner",value:p.dinner,onChange:A=>b(v=>({...v,dinner:A})),disabled:!1,note:N("dinner")}),u&&l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold text-gray-800 dark:text-white text-sm",children:"Reason for Change:"}),l.jsx("input",{type:"text",value:g,onChange:A=>y(A.target.value),className:"w-full mt-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors"})]})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:c,className:"flex-1 py-2.5 bg-gray-200 dark:bg-gray-600 font-semibold rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:j,className:"flex-1 py-2.5 bg-primary text-white font-semibold rounded-lg hover:bg-primary-600 transition-colors",children:u?"Send for Approval":"Save Changes"})]})]})})},ky=({pendingEdit:n})=>{const o=[];return Object.keys(n.newMeals).forEach(c=>{n.newMeals[c]!==n.originalMeals[c]&&o.push(`${c} from ${n.originalMeals[c]} to ${n.newMeals[c]}`)}),o.length===0?null:l.jsxs("p",{className:"text-sm font-medium",children:["Manager changed meals for Oct ",n.date,": ",o.join(", "),"."]})},Sy=({isFinalized:n,meals:o,setMeals:c,pendingEdit:d,onApprovalAction:u,onSaveChanges:f})=>{const h=o.breakfast+o.lunch+o.dinner;return l.jsxs("div",{className:"space-y-6 pb-32",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Today's Meal Count"}),n?l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg mb-4",children:l.jsx("p",{className:"text-sm font-semibold text-yellow-800 dark:text-yellow-200",children:" Finalized by Manager - No changes allowed"})}),l.jsxs("div",{className:"space-y-2 text-gray-700 dark:text-gray-200",children:[l.jsxs("p",{className:"flex justify-between",children:[l.jsx("span",{children:" Breakfast:"})," ",l.jsx("span",{className:"font-bold",children:o.breakfast})]}),l.jsxs("p",{className:"flex justify-between",children:[l.jsx("span",{children:" Lunch:"})," ",l.jsx("span",{className:"font-bold",children:o.lunch})]}),l.jsxs("p",{className:"flex justify-between",children:[l.jsx("span",{children:" Dinner:"})," ",l.jsx("span",{className:"font-bold",children:o.dinner})]})]})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"font-medium text-gray-700 dark:text-gray-300",children:" Breakfast"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>c(p=>({...p,breakfast:Math.max(0,p.breakfast-1)})),className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 font-bold",children:""}),l.jsx("span",{className:"w-12 text-center font-bold text-xl",children:o.breakfast}),l.jsx("button",{onClick:()=>c(p=>({...p,breakfast:p.breakfast+1})),className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 font-bold",children:"+"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"font-medium text-gray-700 dark:text-gray-300",children:" Lunch"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>c(p=>({...p,lunch:Math.max(0,p.lunch-1)})),className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 font-bold",children:""}),l.jsx("span",{className:"w-12 text-center font-bold text-xl",children:o.lunch}),l.jsx("button",{onClick:()=>c(p=>({...p,lunch:p.lunch+1})),className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 font-bold",children:"+"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"font-medium text-gray-700 dark:text-gray-300",children:" Dinner"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>c(p=>({...p,dinner:Math.max(0,p.dinner-1)})),className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 font-bold",children:""}),l.jsx("span",{className:"w-12 text-center font-bold text-xl",children:o.dinner}),l.jsx("button",{onClick:()=>c(p=>({...p,dinner:p.dinner+1})),className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 font-bold",children:"+"})]})]})]})]}),d&&l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2 text-yellow-600 dark:text-yellow-400",children:" Manager Edit Pending Approval"}),l.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-3"}),l.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[l.jsx(ky,{pendingEdit:d}),l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:['Reason: "',d.reason,'"']}),l.jsxs("div",{className:"flex gap-2 mt-3 justify-end",children:[l.jsx("button",{onClick:()=>u("deny"),className:"px-3 py-1 text-sm font-semibold bg-red-100 text-red-700 rounded-md hover:bg-red-200 dark:bg-red-900/50 dark:text-red-300 dark:hover:bg-red-900",children:"Deny"}),l.jsx("button",{onClick:()=>u("approve"),className:"px-3 py-1 text-sm font-semibold bg-green-100 text-green-700 rounded-md hover:bg-green-200 dark:bg-green-900/50 dark:text-green-300 dark:hover:bg-green-900",children:"Approve Change"})]})]})]}),l.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-700 dark:bg-gray-900 text-white p-4 shadow-lg z-40",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-2",children:[l.jsxs("p",{className:"text-lg font-semibold",children:["Total Today: ",h," quantities"]}),l.jsx("button",{onClick:f,disabled:n,className:"w-full max-w-md mx-auto py-2.5 bg-white text-gray-900 font-semibold rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Save Changes"})]})})]})},My=({isFinalized:n,onFinalize:o,setIsEditingMember:c,memberList:d})=>{const u=d.reduce((f,h)=>f+h.meals.breakfast+h.meals.lunch+h.meals.dinner,0);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:" Today - October 8, 2025"}),l.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-3"}),l.jsx("p",{className:`font-semibold ${n?"text-green-600 dark:text-green-400":"text-yellow-600 dark:text-yellow-400"}`,children:n?" Status: Finalized":" Status: Not Finalized"}),!n&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:o,className:"mt-3 w-full py-2.5 bg-primary text-white font-semibold rounded-lg hover:bg-primary-600",children:" Finalize Today's Meals"}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 text-center",children:"(After this, members can't change)"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:" Today's Meal List"}),l.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-3"}),l.jsx("div",{className:"space-y-3",children:d.map(f=>{const h=f.meals.breakfast+f.meals.lunch+f.meals.dinner;return l.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[l.jsx("p",{className:"font-bold text-gray-800 dark:text-white",children:f.name}),l.jsx("div",{className:"text-sm mt-1 text-gray-600 dark:text-gray-300",children:l.jsxs("p",{children:[" B: ",f.meals.breakfast,",  L: ",f.meals.lunch,",  D: ",f.meals.dinner]})}),l.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 my-2"}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("p",{className:"text-sm font-semibold",children:["Total: ",h]}),l.jsx("div",{className:"flex gap-2",children:l.jsx("button",{onClick:()=>c(f.name),className:"text-xs font-semibold text-primary hover:underline",children:"Edit"})})]})]},f.id)})}),l.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-3"}),l.jsx("div",{className:"text-center font-semibold space-y-1",children:l.jsxs("p",{children:["Total Today: ",u," quantities"]})})]})]})},Ay=()=>{const{user:n,setPage:o}=ve(),{addToast:c}=_e(),[d,u]=k.useState(!1),[f,h]=k.useState({breakfast:0,lunch:0,dinner:0}),[p,b]=k.useState(null),[g,y]=k.useState(null),[j,N]=k.useState([]),[A,v]=k.useState(!0);if(!n)return null;k.useEffect(()=>{(async()=>{if(!(n!=null&&n.khataId)){v(!1);return}try{v(!0);const ae=new Date;ae.setHours(0,0,0,0);const J=ae.toISOString(),P=await te.getMeals(n.khataId,J,J),ee=await te.getFinalizationStatus(n.khataId,J);if(u(ee.isFinalized),n.role===he.Manager){const X=(await te.getMembersForRoom(n.khataId)).map(se=>{const H=P.find(re=>re.userId===se.id);return{id:se.id,name:se.name,meals:{breakfast:(H==null?void 0:H.breakfast)||0,lunch:(H==null?void 0:H.lunch)||0,dinner:(H==null?void 0:H.dinner)||0}}});N(X)}else{const ne=P.find(X=>X.userId===n.id);h(ne?{breakfast:ne.breakfast,lunch:ne.lunch,dinner:ne.dinner}:{breakfast:0,lunch:0,dinner:0})}}catch(ae){console.error("Error fetching meals:",ae),c({type:"error",title:"Error",message:"Failed to load meal data"})}finally{v(!1)}})()},[n==null?void 0:n.khataId,n==null?void 0:n.role,n==null?void 0:n.id]);const S=async()=>{if(n!=null&&n.khataId)try{const G=new Date;G.setHours(0,0,0,0),await te.finalizeMeals(n.khataId,G.toISOString())?(u(!0),c({type:"success",title:"Meals Finalized",message:"Today's meal counts are now locked."})):c({type:"error",title:"Error",message:"Failed to finalize meals"})}catch(G){console.error("Error finalizing meals:",G),c({type:"error",title:"Error",message:"Failed to finalize meals"})}},w=async G=>{const{memberName:ae,newMeals:J,originalMeals:P,reason:ee}=G;if(!(n!=null&&n.khataId))return;const ne=j.find(X=>X.name===ae);if(ne){try{const X=new Date;X.setHours(0,0,0,0),await te.submitMeal(n.khataId,{date:X.toISOString(),breakfast:J.breakfast,lunch:J.lunch,dinner:J.dinner,userId:ne.id,userName:ne.name}),N(se=>se.map(H=>H.id===ne.id?{...H,meals:J}:H)),c({type:"success",title:"Meals Updated",message:`${ae}'s meals have been updated.`})}catch(X){console.error("Error updating meal:",X),c({type:"error",title:"Error",message:"Failed to update meal"})}y(null)}},T=G=>{G==="approve"&&p?(h(p.newMeals),c({type:"success",title:"Change Approved",message:"Meal change has been applied."})):c({type:"warning",title:"Change Denied",message:"The meal change was not applied."}),b(null)},U=async()=>{if(n!=null&&n.khataId)try{const G=new Date;G.setHours(0,0,0,0),await te.submitMeal(n.khataId,{date:G.toISOString(),breakfast:f.breakfast,lunch:f.lunch,dinner:f.dinner}),c({type:"success",title:"Meals Updated",message:"Your meal plan for today has been saved."})}catch(G){console.error("Error saving meal:",G),c({type:"error",title:"Error",message:"Failed to save meal"})}};return A?l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-primary-500"})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>o("dashboard"),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 md:hidden",children:l.jsx(rs,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),l.jsx(fl,{className:"w-8 h-8 text-primary"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Meal Management"})]}),n.role===he.Member&&l.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:l.jsx(Vc,{className:"w-6 h-6"})})]}),n.role===he.Manager?l.jsx(My,{isFinalized:d,onFinalize:S,setIsEditingMember:y,memberList:j}):l.jsx(Sy,{isFinalized:d,meals:f,setMeals:h,pendingEdit:p,onApprovalAction:T,onSaveChanges:U})]}),n.role===he.Manager&&g&&l.jsx(wy,{memberName:g,memberList:j,onClose:()=>y(null),onSubmit:w,isFinalized:d})]})},Xr={Monday:{name:"",status:"Upcoming",amount:0},Tuesday:{name:"",status:"Upcoming",amount:0},Wednesday:{name:"",status:"Upcoming",amount:0},Thursday:{name:"",status:"Upcoming",amount:0},Friday:{name:"",status:"Upcoming",amount:0},Saturday:{name:"",status:"Upcoming",amount:0},Sunday:{name:"",status:"Upcoming",amount:0}},Cy={totalDeposits:0,totalShopping:0,balance:0,rate:0},Dy={totalDeposits:0,mealCost:0,refundable:0},Ey=({onClose:n,roster:o,members:c,onSave:d})=>{const[u,f]=k.useState(o),h=(b,g)=>{f(y=>{const j=y[b],N=g==="",A=j.name!==g;let v=j.status;return N?v="Upcoming":A&&(v="Assigned"),{...y,[b]:{...j,name:g,status:v,amount:A?0:j.amount}}})},p=()=>{d(u)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:n,children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-md",onClick:b=>b.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Shopping Roster"}),l.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:l.jsx(Yt,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"space-y-4",children:Object.entries(u).map(([b,g])=>{const y=g;return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("label",{className:"font-semibold text-gray-700 dark:text-gray-300",children:[b,":"]}),l.jsxs("select",{value:y.name,onChange:j=>h(b,j.target.value),className:"px-3 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors",children:[l.jsx("option",{value:"",children:"None"}),c.map(j=>l.jsx("option",{value:j.name,children:j.name},j.id))]})]},b)})}),l.jsxs("div",{className:"flex gap-3 mt-6 justify-end",children:[l.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 font-semibold rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),l.jsx("button",{onClick:p,className:"px-4 py-2 bg-primary text-white font-semibold rounded-lg hover:bg-primary-600",children:"Save Changes"})]})]})})},Ty=({onClose:n,onSubmit:o})=>{const{user:c}=ve(),{addToast:d}=_e(),[u,f]=k.useState("1500"),[h,p]=k.useState("bKash"),[b,g]=k.useState(""),[y,j]=k.useState(!1),N=async A=>{var v,S;if(A.preventDefault(),!(c!=null&&c.khataId)){d({type:"error",title:"Error",message:"User not found"});return}j(!0);try{await te.createDeposit(c.khataId,{amount:parseFloat(u),paymentMethod:h,transactionId:b,screenshotUrl:""}),d({type:"success",title:"Deposit Submitted",message:"Your deposit is now pending manager approval."}),o(),n()}catch(w){d({type:"error",title:"Error",message:((S=(v=w.response)==null?void 0:v.data)==null?void 0:S.message)||"Failed to submit deposit"})}finally{j(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-sm",onClick:A=>A.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Deposit to Meal Fund"}),l.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:l.jsx(Yt,{className:"w-5 h-5"})})]}),l.jsxs("form",{className:"space-y-4",onSubmit:N,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Amount:"}),l.jsxs("div",{className:"relative mt-1",children:[l.jsx("span",{className:"absolute inset-y-0 left-3 flex items-center text-gray-500",children:""}),l.jsx("input",{type:"number",value:u,onChange:A=>f(A.target.value),className:"w-full pl-8 pr-4 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Payment Method:"}),l.jsx("div",{className:"grid grid-cols-3 gap-2 mt-1",children:["bKash","Nagad","Rocket","Cash","Bank Transfer"].map(A=>l.jsx("button",{type:"button",onClick:()=>p(A),className:`px-2 py-2 text-xs font-semibold rounded-md border-2 ${h===A?"border-primary bg-primary-50 dark:bg-primary-500/20":"border-gray-200 dark:border-gray-600"}`,children:A},A))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Transaction ID (optional):"}),l.jsx("input",{type:"text",placeholder:"TRX12345678",value:b,onChange:A=>g(A.target.value),className:"w-full mt-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Upload Screenshot (optional):"}),l.jsxs("div",{className:"flex gap-2 mt-1",children:[l.jsxs("button",{type:"button",className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",children:[l.jsx(Pf,{className:"w-5 h-5"}),"Take Photo"]}),l.jsxs("button",{type:"button",className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",children:[l.jsx(eh,{className:"w-5 h-5"}),"Gallery"]})]})]}),l.jsx("button",{type:"submit",disabled:y,className:"w-full mt-2 py-2.5 bg-primary text-white font-semibold rounded-lg hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Submitting...":"Submit for Approval"})]})]})})},Oy=({onClose:n,onSubmit:o})=>{const{user:c}=ve(),{addToast:d}=_e(),[u,f]=k.useState(""),[h,p]=k.useState(""),[b,g]=k.useState(""),[y,j]=k.useState(!1),N=async A=>{var v,S;if(A.preventDefault(),!(c!=null&&c.khataId)){d({type:"error",title:"Error",message:"User not found"});return}j(!0);try{await te.createExpense(c.khataId,{amount:parseFloat(u),items:h,notes:b,receiptUrl:""}),d({type:"success",title:"Expense Submitted",message:"Your shopping expense is now pending manager approval."}),o(),n()}catch(w){d({type:"error",title:"Error",message:((S=(v=w.response)==null?void 0:v.data)==null?void 0:S.message)||"Failed to submit expense"})}finally{j(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:n,children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-sm",onClick:A=>A.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Add Shopping Expense"}),l.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:l.jsx(Yt,{className:"w-5 h-5"})})]}),l.jsxs("form",{className:"space-y-4",onSubmit:N,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Amount:"}),l.jsxs("div",{className:"relative mt-1",children:[l.jsx("span",{className:"absolute inset-y-0 left-3 flex items-center text-gray-500",children:""}),l.jsx("input",{type:"number",value:u,onChange:A=>f(A.target.value),className:"w-full pl-8 pr-4 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Items Purchased:"}),l.jsx("textarea",{value:h,onChange:A=>p(A.target.value),rows:3,placeholder:"e.g., Rice (5kg), Vegetables, Oil (1L)",className:"w-full mt-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Notes (optional):"}),l.jsx("input",{type:"text",value:b,onChange:A=>g(A.target.value),className:"w-full mt-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Upload Receipt (optional):"}),l.jsxs("div",{className:"flex gap-2 mt-1",children:[l.jsxs("button",{type:"button",className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",children:[l.jsx(Pf,{className:"w-5 h-5"}),"Take Photo"]}),l.jsxs("button",{type:"button",className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",children:[l.jsx(eh,{className:"w-5 h-5"}),"Gallery"]})]})]}),l.jsx("button",{type:"submit",disabled:y,className:"w-full mt-2 py-2.5 bg-primary text-white font-semibold rounded-lg hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Submitting...":"Submit for Approval"})]})]})})},Ry=()=>{const{user:n}=ve(),[o,c]=k.useState([]),[d,u]=k.useState([]),[f,h]=k.useState(!1),[p,b]=k.useState(Xr),[g,y]=k.useState([]),[j,N]=k.useState(Cy),{addToast:A}=_e();k.useEffect(()=>{n!=null&&n.khataId&&(te.getShoppingSummary(n.khataId).then(T=>{T&&T.fundStatus&&N(T.fundStatus)}),te.getShoppingRoster(n.khataId).then(T=>{if(T&&T.length>0){const U={...Xr};T.forEach(G=>{U[G.day]&&(U[G.day]={name:G.userName||"",status:G.status,amount:G.amount})}),b(U)}}),te.getShoppingMembers(n.khataId).then(T=>{y(T)}),te.getDeposits(n.khataId).then(T=>{const U=T.filter(G=>G.status==="Pending");c(U)}),te.getExpenses(n.khataId).then(T=>{const U=T.filter(G=>G.status==="Pending");u(U)}))},[n==null?void 0:n.khataId]);const v=async(T,U)=>{if(!(n!=null&&n.khataId))return;let G=!1;U==="approve"?G=await te.approveDeposit(n.khataId,T):G=await te.rejectDeposit(n.khataId,T,"Denied by manager"),G?(c(ae=>ae.filter(J=>J._id!==T)),A({type:U==="approve"?"success":"error",title:U==="approve"?"Approved":"Denied",message:`Deposit has been ${U==="approve"?"approved":"denied"}.`})):A({type:"error",title:"Error",message:"Failed to update deposit status."})},S=async(T,U)=>{if(!(n!=null&&n.khataId))return;let G=!1;U==="approve"?G=await te.approveExpense(n.khataId,T):G=await te.rejectExpense(n.khataId,T,"Denied by manager"),G?(u(ae=>ae.filter(J=>J._id!==T)),A({type:U==="approve"?"success":"error",title:U==="approve"?"Approved":"Denied",message:`Expense has been ${U==="approve"?"approved":"denied"}.`})):A({type:"error",title:"Error",message:"Failed to update expense status."})},w=async T=>{if(!(n!=null&&n.khataId))return;const U=Object.entries(T).map(([ae,J])=>{var P;return{day:ae,userName:J.name,status:J.status,amount:J.amount,userId:(P=g.find(ee=>ee.name===J.name))==null?void 0:P.id}});await te.saveShoppingRoster(n.khataId,U)?(b(T),A({type:"success",title:"Roster Updated",message:"The shopping duty roster has been saved."}),h(!1)):A({type:"error",title:"Error",message:"Failed to save roster."})};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"font-semibold text-lg mb-3",children:"This Week's Shopping Duty"}),l.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3 space-y-2 text-sm",children:Object.entries(p).map(([T,U])=>{const G=U,ae=G.name||"None";return l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:[T,": ",ae]}),l.jsx("span",{className:`${G.status==="Completed"?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:G.status==="Completed"?` Completed - ${G.amount}`:G.status==="Assigned"?" Assigned":""})]},T)})}),l.jsx("button",{onClick:()=>h(!0),className:"text-sm font-semibold text-primary hover:underline mt-4",children:"Edit Roster"})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Fund Status"}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3 grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-md",children:[l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Deposits"}),l.jsxs("p",{className:"font-bold text-lg text-gray-800 dark:text-white",children:["",j.totalDeposits.toLocaleString()]})]}),l.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-md",children:[l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Shopping"}),l.jsxs("p",{className:"font-bold text-lg text-gray-800 dark:text-white",children:["",j.totalShopping.toLocaleString()]})]}),l.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-500/10 rounded-md",children:[l.jsx("p",{className:"text-sm text-green-600 dark:text-green-300",children:"Fund Balance"}),l.jsxs("p",{className:"font-bold text-lg text-green-600 dark:text-green-300",children:[j.balance>=0?"+":"","",j.balance.toLocaleString()]})]}),l.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-md",children:[l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Current Rate"}),l.jsxs("p",{className:"font-bold text-lg text-gray-800 dark:text-white",children:["",j.rate,"/qty"]})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[l.jsxs("h3",{className:"font-semibold text-lg mb-3 text-yellow-600 dark:text-yellow-400",children:[" Pending Approvals (",o.length+d.length,")"]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3 space-y-4",children:[o.length>0&&l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold mb-2",children:[" Deposits (",o.length,")"]}),o.map(T=>l.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[l.jsxs("p",{className:"font-bold",children:[T.userName," - ",T.amount," - ",T.paymentMethod]}),l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(T.createdAt).toLocaleDateString(),"  ",T.transactionId||"No TRX ID"]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[l.jsx("button",{className:"text-xs font-semibold text-primary hover:underline",children:"View Screenshot"}),l.jsx("button",{onClick:()=>v(T._id,"deny"),className:"px-2 py-0.5 text-xs bg-red-100 text-red-700 rounded-md hover:bg-red-200 dark:bg-red-900/50 dark:text-red-300 dark:hover:bg-red-900",children:"Deny"}),l.jsx("button",{onClick:()=>v(T._id,"approve"),className:"px-2 py-0.5 text-xs bg-green-100 text-green-700 rounded-md hover:bg-green-200 dark:bg-green-900/50 dark:text-green-300 dark:hover:bg-green-900",children:"Approve"})]})]},T._id))]}),d.length>0&&l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold mb-2",children:[" Shopping Expenses (",d.length,")"]}),d.map(T=>l.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[l.jsxs("p",{className:"font-bold",children:[T.userName," - ",T.amount]}),l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(T.createdAt).toLocaleDateString(),"  ",T.items]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[l.jsx("button",{className:"text-xs font-semibold text-primary hover:underline",children:"View Receipt"}),l.jsx("button",{onClick:()=>S(T._id,"deny"),className:"px-2 py-0.5 text-xs bg-red-100 text-red-700 rounded-md hover:bg-red-200 dark:bg-red-900/50 dark:text-red-300 dark:hover:bg-red-900",children:"Deny"}),l.jsx("button",{onClick:()=>S(T._id,"approve"),className:"px-2 py-0.5 text-xs bg-green-100 text-green-700 rounded-md hover:bg-green-200 dark:bg-green-900/50 dark:text-green-300 dark:hover:bg-green-900",children:"Approve"})]})]},T._id))]})]})]})]}),f&&l.jsx(Ey,{onClose:()=>h(!1),roster:p,members:g,onSave:w})]})},By=()=>{var ne;const{user:n}=ve(),[o,c]=k.useState(!1),[d,u]=k.useState(!1),{addToast:f}=_e(),[h,p]=k.useState("deposits"),[b,g]=k.useState(Xr),[y,j]=k.useState([]),[N,A]=k.useState([]),[v,S]=k.useState(Dy);k.useEffect(()=>{n!=null&&n.khataId&&(te.getShoppingSummary(n.khataId).then(X=>{X&&X.memberSummary&&S(X.memberSummary)}),te.getShoppingRoster(n.khataId).then(X=>{if(X&&X.length>0){const se={...Xr};X.forEach(H=>{se[H.day]&&(se[H.day]={name:H.userName||"",status:H.status,amount:H.amount})}),g(se)}}),te.getDeposits(n.khataId).then(X=>{const se=X.filter(H=>{var oe;return(((oe=H.userId)==null?void 0:oe._id)||H.userId)===n.id});j(se)}),te.getExpenses(n.khataId).then(X=>{const se=X.filter(H=>{var oe;return(((oe=H.userId)==null?void 0:oe._id)||H.userId)===n.id});A(se)}))},[n==null?void 0:n.khataId,n==null?void 0:n.id]);const w=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],T=w[new Date().getDay()],U=(n==null?void 0:n.name)||"",G=((ne=b[T])==null?void 0:ne.name)===U,ae=Object.entries(b).find(([X,se])=>se.name===U&&w.indexOf(X)>w.indexOf(T)),J=G?"Today is your shopping day! ":ae?`Your next shopping duty is on ${ae[0]}.`:"You have no upcoming shopping duties this week.",P=()=>{n!=null&&n.khataId&&(te.getDeposits(n.khataId).then(X=>{const se=X.filter(H=>{var re;return(((re=H.userId)==null?void 0:re._id)||H.userId)===n.id});j(se)}),te.getShoppingSummary(n.khataId).then(X=>{X&&X.memberSummary&&S(X.memberSummary)}))},ee=()=>{n!=null&&n.khataId&&te.getExpenses(n.khataId).then(X=>{const se=X.filter(H=>{var re;return(((re=H.userId)==null?void 0:re._id)||H.userId)===n.id});A(se)})};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-primary-50 dark:bg-primary-500/10 p-4 rounded-lg text-center",children:l.jsx("p",{className:"font-semibold text-primary-700 dark:text-primary-300",children:J})}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"font-semibold text-lg mb-3",children:"This Week's Shopping Duty"}),l.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3 space-y-2 text-sm",children:Object.entries(b).map(([X,se])=>{const H=se,re=H.name||"None",oe=H.name===U;return l.jsxs("div",{className:`flex justify-between items-center p-2 rounded ${oe?"bg-primary-50 dark:bg-primary-500/10":""}`,children:[l.jsxs("span",{className:`font-medium ${oe?"text-primary-700 dark:text-primary-300":"text-gray-600 dark:text-gray-300"}`,children:[X,": ",re," ",oe?"(You)":""]}),l.jsx("span",{className:`${H.status==="Completed"?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:H.status==="Completed"?" Completed":H.status==="Assigned"?" Assigned":""})]},X)})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("button",{onClick:()=>c(!0),className:"py-4 text-center bg-white dark:bg-slate-800 rounded-xl shadow-md font-semibold text-slate-700 dark:text-slate-200 hover:scale-105 transition-transform active:scale-95",children:" Add Deposit"}),l.jsx("button",{onClick:()=>u(!0),className:"py-4 text-center bg-white dark:bg-slate-800 rounded-xl shadow-md font-semibold text-slate-700 dark:text-slate-200 hover:scale-105 transition-transform active:scale-95",children:" Add Expense"})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-6 grid grid-cols-2 divide-x dark:divide-slate-700 text-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Deposit Balance"}),l.jsxs("p",{className:"text-2xl font-bold text-slate-800 dark:text-white font-numeric",children:["",v.totalDeposits.toLocaleString()]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Due / Refund"}),l.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 font-numeric",children:[v.refundable>=0?"+":"","",v.refundable.toLocaleString()]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md",children:[l.jsx("div",{className:"p-4 border-b dark:border-slate-700",children:l.jsxs("div",{className:"flex gap-2 p-1 bg-slate-100 dark:bg-slate-700 rounded-lg",children:[l.jsx("button",{onClick:()=>p("deposits"),className:`flex-1 py-1.5 text-sm font-semibold rounded-md transition-colors ${h==="deposits"?"bg-white dark:bg-slate-600 shadow":""}`,children:"Deposit History"}),l.jsx("button",{onClick:()=>p("expenses"),className:`flex-1 py-1.5 text-sm font-semibold rounded-md transition-colors ${h==="expenses"?"bg-white dark:bg-slate-600 shadow":""}`,children:"Expense History"})]})}),l.jsxs("div",{className:"p-4 space-y-2",children:[h==="deposits"&&(y.length>0?y.map(X=>l.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-slate-50 dark:bg-slate-700/50 rounded-md",children:[l.jsxs("span",{children:[new Date(X.createdAt).toLocaleDateString()," - ",X.paymentMethod]}),l.jsxs("span",{className:"font-semibold flex items-center gap-1",children:["",X.amount.toLocaleString(),X.status==="Approved"&&l.jsx(Xt,{className:"w-4 h-4 text-green-500"}),X.status==="Pending"&&l.jsx("span",{className:"text-yellow-500 text-xs",children:" Pending"}),X.status==="Rejected"&&l.jsx("span",{className:"text-red-500 text-xs",children:" Rejected"})]})]},X._id)):l.jsx("p",{className:"text-center text-gray-500 py-4",children:"No deposit history found."})),h==="expenses"&&(N.length>0?N.map(X=>l.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-slate-50 dark:bg-slate-700/50 rounded-md",children:[l.jsx("span",{children:new Date(X.createdAt).toLocaleDateString()}),l.jsxs("span",{className:"font-semibold flex items-center gap-1",children:["",X.amount.toLocaleString(),X.status==="Approved"&&l.jsx("span",{className:"text-green-600 dark:text-green-400 text-xs",children:" Approved"}),X.status==="Pending"&&l.jsx("span",{className:"text-yellow-600 dark:text-yellow-400 text-xs",children:" Pending"}),X.status==="Rejected"&&l.jsx("span",{className:"text-red-600 dark:text-red-400 text-xs",children:" Rejected"})]})]},X._id)):l.jsx("p",{className:"text-center text-gray-500 py-4",children:"No expense history found."})),l.jsx("button",{className:"text-sm font-semibold text-primary hover:underline mt-2 w-full text-center p-2",children:"View All "})]})]})]}),o&&l.jsx(Ty,{onClose:()=>c(!1),onSubmit:P}),d&&l.jsx(Oy,{onClose:()=>u(!1),onSubmit:ee})]})},zy=()=>{const{user:n,setPage:o}=ve();return n?l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>o("dashboard"),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 md:hidden",children:l.jsx(rs,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),l.jsx(Wf,{className:"w-8 h-8 text-primary"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Shopping & Funds"})]}),n.role===he.Manager&&l.jsx("button",{className:"px-4 py-2 text-sm bg-primary text-white font-semibold rounded-lg hover:bg-primary-600",children:"Assign Duty"})]}),n.role===he.Manager?l.jsx(Ry,{}):l.jsx(By,{})]}):null},Uy=({member:n,onClose:o})=>n?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:o,children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",onClick:c=>c.stopPropagation(),children:[l.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-800 z-10 p-4 border-b dark:border-gray-700",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[l.jsx("button",{onClick:o,className:"mr-2 p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:l.jsx(rs,{className:"w-5 h-5"})}),n.name,"'s Profile"]}),l.jsx("button",{onClick:o,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:l.jsx(Yt,{className:"w-5 h-5"})})]})}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"p-4 border rounded-lg dark:border-gray-700",children:[l.jsx("h4",{className:"font-bold text-lg mb-2",children:"Member Information"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Name:"})," ",n.name]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Email:"})," ",n.email]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Role:"})," ",n.role]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Room Status:"})," ",n.roomStatus]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Room ID:"})," ",n.khataId||"N/A"]})]})]}),l.jsxs("div",{className:"p-4 border rounded-lg dark:border-gray-700",children:[l.jsx("h4",{className:"font-bold text-lg mb-2",children:"Contact Details"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Phone:"})," ",n.phone||"Not added"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"WhatsApp:"})," ",n.whatsapp||"Not added"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Facebook:"})," ",n.facebook||"Not added"]})]})]})]})]})}):null,_y=({member:n,onHistoryClick:o})=>{const{user:c}=ve(),d=n.role===he.Manager,u=()=>{if(n.whatsapp&&n.whatsapp!=="Available"&&n.whatsapp!=="Not available"){const h=n.whatsapp.replace(/[^0-9]/g,"");window.open(`https://wa.me/${h}`,"_blank")}},f=()=>{if(n.phone){const h=n.phone.replace(/[^0-9+]/g,"");window.open(`tel:${h}`)}};return l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-5",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Ga,{className:"w-12 h-12 text-gray-400 flex-shrink-0"}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-bold text-lg text-gray-900 dark:text-white flex items-center gap-2",children:[n.name," ",d&&l.jsx(Rb,{className:"w-5 h-5 text-yellow-500"})]}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:n.email})]})]}),l.jsx("div",{className:"border-t my-3 border-gray-200 dark:border-gray-700"}),l.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-300",children:[l.jsxs("p",{children:[" ",n.phone||"Not added"]}),l.jsxs("p",{children:[" WhatsApp: ",n.whatsapp||"Not added"]}),l.jsxs("p",{children:[" Facebook: ",n.facebook||"Not added"]})]}),l.jsx("div",{className:"border-t my-3 border-gray-200 dark:border-gray-700"}),l.jsxs("div",{className:"space-y-1 text-sm text-gray-500 dark:text-gray-400",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Role:"})," ",n.role]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Status:"})," ",n.roomStatus]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Room:"})," ",n.room||n.khataId||"N/A"]})]}),l.jsx("div",{className:"border-t my-3 border-gray-200 dark:border-gray-700"}),l.jsx("div",{className:"flex flex-wrap gap-2 text-sm font-semibold",children:(c==null?void 0:c.role)===he.Manager&&n.id!==c.id?l.jsx(l.Fragment,{children:l.jsx("button",{onClick:o,className:"text-primary hover:underline",children:"View Profile"})}):l.jsxs(l.Fragment,{children:[n.whatsapp&&n.whatsapp!=="Not added"&&l.jsxs("button",{onClick:u,className:"flex-1 px-3 py-2 bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 rounded-md flex items-center justify-center gap-2 transition-colors hover:bg-green-200 dark:hover:bg-green-900",children:[l.jsx(Bb,{className:"w-4 h-4"})," WhatsApp"]}),n.phone&&n.phone!=="Not added"&&l.jsxs("button",{onClick:f,className:"flex-1 px-3 py-2 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-md flex items-center justify-center gap-2 transition-colors hover:bg-blue-200 dark:hover:bg-blue-900",children:[l.jsx(ah,{className:"w-4 h-4"})," Call"]}),l.jsx("button",{onClick:o,className:"w-full text-left mt-1 text-primary hover:underline p-1",children:"View Profile "})]})})]})},Ly=()=>{const{user:n}=ve(),{addToast:o}=_e(),[c,d]=k.useState(null),[u,f]=k.useState([]),[h,p]=k.useState([]),[b,g]=k.useState(!0),[y,j]=k.useState(!1);k.useEffect(()=>{(async()=>{if(!(n!=null&&n.khataId)){g(!1);return}try{const S=await te.getMembersForRoom(n.khataId);if(f(S),n.role===he.Manager){const w=await te.getPendingApprovals(n.khataId);p(w)}}catch(S){console.error("Error fetching room data:",S),o({type:"error",title:"Error",message:"Failed to load room members"})}finally{g(!1)}})()},[n==null?void 0:n.khataId,n==null?void 0:n.role]);const N=()=>{n!=null&&n.khataId&&(navigator.clipboard.writeText(n.khataId),j(!0),o({type:"success",title:"Copied!",message:"Room code copied to clipboard."}),setTimeout(()=>j(!1),2e3))},A=async v=>{if(n!=null&&n.khataId)try{if(await te.approveMember(n.khataId,v)){o({type:"success",title:"Success",message:"Member approved successfully!"});const w=await te.getPendingApprovals(n.khataId);p(w);const T=await te.getMembersForRoom(n.khataId);f(T)}else o({type:"error",title:"Error",message:"Failed to approve member"})}catch(S){console.error("Error approving member:",S),o({type:"error",title:"Error",message:"Failed to approve member"})}};return b?l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-primary-500"})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsx("div",{className:"flex flex-wrap justify-between items-center gap-4",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(as,{className:"w-8 h-8 text-primary"}),l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["Room Members (",u.length,")"]})]})}),(n==null?void 0:n.role)===he.Manager&&l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-4 flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{className:"font-semibold",children:[l.jsx("span",{children:" Room Code: "}),l.jsx("span",{className:"font-mono text-lg bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-md",children:n.khataId})]}),l.jsx("div",{className:"flex gap-2",children:l.jsxs("button",{onClick:N,className:"flex items-center gap-1.5 px-3 py-1 text-sm bg-gray-200 dark:bg-gray-600 rounded-md font-semibold hover:bg-gray-300 dark:hover:bg-gray-500",children:[y?l.jsx(Xt,{className:"w-4 h-4 text-green-600"}):l.jsx(Yc,{className:"w-4 h-4"}),y?"Copied!":"Copy"]})})]}),u.length===0?l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-8 text-center",children:[l.jsx(as,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No members yet"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:(n==null?void 0:n.role)===he.Manager?"Share your room code to invite members":"Waiting for members to join"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(v=>l.jsx(_y,{member:v,onHistoryClick:()=>d(v)},v.id))}),(n==null?void 0:n.role)===he.Manager&&h.length>0&&l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold mb-3 text-gray-800 dark:text-white",children:[" Pending Join Requests (",h.length,")"]}),l.jsx("div",{className:"space-y-4",children:h.map(v=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-5",children:[l.jsx("h4",{className:"font-bold text-lg text-gray-900 dark:text-white",children:v.name}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:v.email}),l.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:["Requested: ",new Date(v.requestedAt).toLocaleString()]}),l.jsx("div",{className:"flex gap-2 justify-end mt-3",children:l.jsx("button",{onClick:()=>A(v.id),className:"px-4 py-1.5 text-sm font-semibold bg-green-100 text-green-700 rounded-md hover:bg-green-200 dark:bg-green-900/50 dark:text-green-300 dark:hover:bg-green-900",children:"Approve & Add"})})]},v.id))})]})]}),l.jsx(Uy,{member:c,onClose:()=>d(null)})]})},Hy=()=>{const{user:n,setPage:o}=ve(),{addToast:c}=_e(),[d,u]=k.useState(!0),[f,h]=k.useState(new Date),[p,b]=k.useState("all"),[g,y]=k.useState("all"),[j,N]=k.useState([]),[A,v]=k.useState([]),[S,w]=k.useState([]),[T,U]=k.useState([]),[G,ae]=k.useState([]);k.useEffect(()=>{(async()=>{if(n!=null&&n.khataId){u(!0);try{const re=f.getFullYear(),oe=f.getMonth(),W=new Date(re,oe,1),ie=new Date(re,oe+1,0),[E,Y,I,de,xe]=await Promise.all([te.getMeals(n.khataId,W.toISOString(),ie.toISOString()),te.getDeposits(n.khataId),te.getExpenses(n.khataId),te.getBillsForRoom(n.khataId),te.getMembersForRoom(n.khataId)]),C=Y.filter(K=>{const z=new Date(K.createdAt);return z.getMonth()===oe&&z.getFullYear()===re}),q=I.filter(K=>{const z=new Date(K.createdAt);return z.getMonth()===oe&&z.getFullYear()===re}),_=de.filter(K=>{const z=new Date(K.dueDate);return z.getMonth()===oe&&z.getFullYear()===re});N(E),v(C),w(q),U(_),ae(xe)}catch(re){console.error("Error fetching history data:",re),c({type:"error",title:"Error",message:"Failed to load history data"})}finally{u(!1)}}})()},[n==null?void 0:n.khataId,f,c]);const J=k.useMemo(()=>{const H=T.reduce((z,le)=>z+le.totalAmount,0);let re=0,oe=0;T.forEach(z=>{z.shares.forEach(le=>{le.status==="Paid"?re+=le.amount:oe+=le.amount})});const W=A.filter(z=>z.status==="Approved").reduce((z,le)=>z+le.amount,0),ie=S.filter(z=>z.status==="Approved").reduce((z,le)=>z+le.amount,0),E=j.reduce((z,le)=>z+(le.totalMeals||0),0),Y=E>0?ie/E:0,I=W-ie,de=new Date(f.getFullYear(),f.getMonth()+1,0).getDate(),xe=E>0?ie/de:0,C={};j.forEach(z=>{const le=z.userId,je=z.userName||"Unknown";C[le]||(C[le]={name:je,count:0}),C[le].count+=z.totalMeals||0});const q=Object.values(C),_=q.length>0?q.reduce((z,le)=>le.count<z.count?le:z):{name:"N/A"},K=q.length>0?q.reduce((z,le)=>le.count>z.count?le:z):{name:"N/A"};return{totalBills:H,totalPaid:re,totalPending:oe,totalDeposits:W,totalMealCost:ie,totalDue:I,totalMeals:E,avgMealCostPerDay:xe,minMealTaker:_.name,maxMealTaker:K.name,mealRate:Y}},[j,A,T,S,f]),P=k.useMemo(()=>{const H=[],re=J.mealRate;return G.forEach(oe=>{let W=0,ie=0,E=0;T.forEach(q=>{const _=q.shares.find(K=>K.userId===oe.id);_&&(W+=_.amount,_.status==="Paid"?ie+=_.amount:E+=_.amount)});const de=j.filter(q=>{var K;const _=((K=q.userId)==null?void 0:K._id)||q.userId;return String(_)===String(oe.id)}).reduce((q,_)=>q+(_.totalMeals||0),0)*re,xe=A.filter(q=>{var K;const _=((K=q.userId)==null?void 0:K._id)||q.userId;return String(_)===String(oe.id)&&q.status==="Approved"}).reduce((q,_)=>q+_.amount,0),C=xe-de;H.push({memberId:oe.id,memberName:oe.name,billsDue:W,paid:ie,pending:E,deposits:xe,refundOrDue:C})}),H},[G,j,A,T,J.mealRate]),ee=k.useMemo(()=>p==="all"?P:P.filter(H=>H.memberId===p),[P,p]),ne=H=>`${H.toFixed(2)}`,X=()=>f.toLocaleDateString("en-US",{month:"long",year:"numeric"}),se=k.useMemo(()=>{const H=[];for(let re=0;re<12;re++){const oe=new Date;oe.setMonth(oe.getMonth()-re),H.push(oe)}return H},[]);return n?d?l.jsx("div",{className:"flex items-center justify-center min-h-[400px] bg-slate-900",children:l.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-emerald-500"})}):l.jsxs("div",{className:"space-y-8 animate-fade-in text-slate-300 pb-12",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-slate-800 rounded-xl shadow-lg border border-slate-700/50",children:l.jsx("span",{className:"text-3xl",children:""})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"History & Reports"}),l.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Financial overview and member insights"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"relative group",children:[l.jsx("select",{value:f.toISOString(),onChange:H=>h(new Date(H.target.value)),className:"appearance-none pl-4 pr-10 py-2.5 bg-slate-800 border border-slate-600 text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500/50 hover:bg-slate-700 transition-all cursor-pointer shadow-lg",children:se.map(H=>l.jsx("option",{value:H.toISOString(),children:H.toLocaleDateString("en-US",{month:"long",year:"numeric"})},H.toISOString()))}),l.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:""})]}),l.jsxs("button",{className:"px-5 py-2.5 bg-emerald-600 hover:bg-emerald-500 text-white font-semibold rounded-xl transition-all shadow-lg hover:shadow-emerald-500/20 flex items-center gap-2 active:scale-95",children:[l.jsx("span",{children:""})," Export"]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 bg-slate-800/50 p-2 rounded-2xl border border-slate-700/30 backdrop-blur-sm w-fit",children:[l.jsxs("select",{value:p,onChange:H=>b(H.target.value),className:"px-4 py-2 bg-slate-800 border-0 text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500/50 hover:bg-slate-700 transition-colors cursor-pointer min-w-[150px]",children:[l.jsx("option",{value:"all",children:"All Members"}),G.map(H=>l.jsx("option",{value:H.id,children:H.name},H.id))]}),l.jsx("div",{className:"w-px bg-slate-700 my-1"}),l.jsxs("select",{value:g,onChange:H=>y(H.target.value),className:"px-4 py-2 bg-slate-800 border-0 text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500/50 hover:bg-slate-700 transition-colors cursor-pointer min-w-[150px]",children:[l.jsx("option",{value:"all",children:"All Costs"}),l.jsx("option",{value:"bills",children:"Bills Only"}),l.jsx("option",{value:"meals",children:"Meals Only"}),l.jsx("option",{value:"deposits",children:"Deposits Only"})]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl shadow-xl border border-slate-700/50 p-8 relative overflow-hidden group",children:[l.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-emerald-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 group-hover:bg-emerald-500/10 transition-colors duration-500"}),l.jsxs("div",{className:"flex items-center justify-between mb-8 relative z-10",children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx("span",{className:"w-1 h-6 bg-emerald-500 rounded-full"}),X()," Summary"]}),l.jsx("div",{className:"px-3 py-1 bg-slate-700/50 rounded-full border border-slate-600/50 text-xs font-medium text-slate-400",children:"Real-time Data"})]}),l.jsxs("div",{className:"space-y-8 relative z-10",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-800/50 rounded-xl border border-slate-700/30 hover:border-slate-600 transition-colors",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Total Bills"}),l.jsx("span",{className:"text-2xl font-bold text-white mt-1",children:ne(J.totalBills)})]}),l.jsx("span",{className:"text-2xl opacity-50",children:""})]}),l.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-800/50 rounded-xl border border-slate-700/30 hover:border-slate-600 transition-colors",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Total Paid"}),l.jsx("span",{className:"text-2xl font-bold text-emerald-400 mt-1",children:ne(J.totalPaid)})]}),l.jsx("span",{className:"text-2xl opacity-50",children:""})]}),l.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-800/50 rounded-xl border border-slate-700/30 hover:border-slate-600 transition-colors",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Total Pending"}),l.jsx("span",{className:"text-2xl font-bold text-red-400 mt-1",children:ne(J.totalPending)})]}),l.jsx("span",{className:"text-2xl opacity-50",children:""})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 border-t border-slate-700/50 pt-8",children:[l.jsxs("div",{className:"flex justify-between items-center group/item",children:[l.jsx("p",{className:"text-slate-400 group-hover/item:text-slate-300 transition-colors",children:"Total Deposits:"}),l.jsx("p",{className:"text-xl font-bold text-white",children:ne(J.totalDeposits)})]}),l.jsxs("div",{className:"flex justify-between items-center group/item",children:[l.jsx("p",{className:"text-slate-400 group-hover/item:text-slate-300 transition-colors",children:"Total Meal Cost:"}),l.jsx("p",{className:"text-xl font-bold text-white",children:ne(J.totalMealCost)})]}),l.jsxs("div",{className:"flex justify-between items-center group/item",children:[l.jsx("p",{className:"text-slate-400 group-hover/item:text-slate-300 transition-colors",children:"Total Due:"}),l.jsx("p",{className:`text-xl font-bold ${J.totalDue<0?"text-red-400":"text-emerald-400"}`,children:ne(J.totalDue)})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 border-t border-slate-700/50 pt-8",children:[l.jsxs("div",{className:"flex justify-between items-center group/item",children:[l.jsx("p",{className:"text-slate-400 group-hover/item:text-slate-300 transition-colors",children:"Total Meals:"}),l.jsx("p",{className:"text-xl font-bold text-white",children:J.totalMeals})]}),l.jsxs("div",{className:"flex justify-between items-center group/item",children:[l.jsx("p",{className:"text-slate-400 group-hover/item:text-slate-300 transition-colors",children:"Meal Rate:"}),l.jsx("p",{className:"text-xl font-bold text-emerald-400",children:ne(J.mealRate)})]}),l.jsxs("div",{className:"flex justify-between items-center group/item",children:[l.jsx("p",{className:"text-slate-400 group-hover/item:text-slate-300 transition-colors",children:"Max Meal Taker:"}),l.jsx("p",{className:"text-xl font-bold text-white",children:J.maxMealTaker})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 border-t border-slate-700/50 pt-8",children:[l.jsxs("div",{className:"flex justify-between items-center group/item",children:[l.jsx("p",{className:"text-slate-400 group-hover/item:text-slate-300 transition-colors",children:"Min Meal Taker:"}),l.jsx("p",{className:"text-xl font-bold text-white",children:J.minMealTaker})]}),l.jsx("div",{className:"hidden md:block"}),l.jsx("div",{className:"hidden md:block"})]})]}),l.jsx("div",{className:"mt-8 pt-6 border-t border-slate-700/30 flex justify-end",children:l.jsxs("button",{onClick:()=>o("reports-analytics"),className:"text-emerald-400 hover:text-emerald-300 font-semibold flex items-center gap-2 transition-all hover:translate-x-1 group/btn",children:["View Detailed Report",l.jsx("span",{className:"group-hover/btn:translate-x-1 transition-transform",children:""})]})})]}),l.jsxs("div",{className:"bg-slate-800 rounded-2xl shadow-xl border border-slate-700/50 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-slate-700/50 flex items-center justify-between",children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx("span",{className:"w-1 h-6 bg-emerald-500 rounded-full"}),"Member Breakdown"]}),l.jsxs("span",{className:"text-sm text-slate-400",children:[ee.length," Members"]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-slate-900/50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-8 py-5 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Member"}),l.jsx("th",{className:"px-8 py-5 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Bills Due"}),l.jsx("th",{className:"px-8 py-5 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Paid"}),l.jsx("th",{className:"px-8 py-5 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Pending"}),l.jsx("th",{className:"px-8 py-5 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Deposits"}),l.jsx("th",{className:"px-8 py-5 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Refund/Due"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-700/50",children:ee.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-8 py-12 text-center text-slate-500",children:l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("span",{className:"text-3xl opacity-50",children:""}),l.jsx("p",{children:"No data available for this period"})]})})}):ee.map((H,re)=>l.jsxs("tr",{className:"hover:bg-slate-700/30 transition-colors group",style:{animationDelay:`${re*50}ms`},children:[l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-emerald-400 border border-slate-600",children:H.memberName.charAt(0)}),l.jsx("span",{className:"font-semibold text-white group-hover:text-emerald-400 transition-colors",children:H.memberName})]})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap text-slate-300 font-medium",children:ne(H.billsDue)}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap text-emerald-400 font-bold",children:ne(H.paid)}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap text-red-400 font-bold",children:ne(H.pending)}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap text-slate-300 font-medium",children:ne(H.deposits)}),l.jsx("td",{className:`px-8 py-5 whitespace-nowrap font-bold ${H.refundOrDue<0?"text-red-400":"text-emerald-400"}`,children:ne(H.refundOrDue)})]},H.memberId))})]})})]})]}):null},qy=({icon:n,label:o,isActive:c,onClick:d})=>l.jsxs("button",{onClick:d,className:`w-full flex items-center text-left px-3 py-2.5 rounded-md text-sm font-medium transition-colors group ${c?"bg-primary-50 text-primary dark:bg-primary-500/20":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[n,l.jsx("span",{className:"flex-grow",children:o})]}),ls=({title:n})=>l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n}),l.jsx("div",{className:"border-t my-4 border-gray-200 dark:border-gray-700"})]}),ut=({label:n,children:o})=>l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:n}),o]}),Wt=({value:n,onChange:o,placeholder:c})=>l.jsx("input",{type:"text",value:n,onChange:d=>o(d.target.value),placeholder:c,className:"block w-full appearance-none rounded-md border border-gray-300 dark:border-gray-600 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-primary focus:outline-none focus:ring-primary sm:text-sm bg-white dark:bg-gray-700"}),it=({label:n,checked:o})=>l.jsxs("label",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"checkbox",defaultChecked:o,className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:n})]}),Pl=({label:n,name:o,checked:c})=>l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"radio",name:o,defaultChecked:c,className:"h-4 w-4 text-primary focus:ring-primary border-gray-300"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:n})]}),Yy=()=>{const{user:n}=ve(),{addToast:o}=_e(),[c,d]=k.useState((n==null?void 0:n.name)||""),[u,f]=k.useState((n==null?void 0:n.email)||"");k.useEffect(()=>{d((n==null?void 0:n.name)||""),f((n==null?void 0:n.email)||"")},[n]);const h=()=>{o({type:"success",title:"Profile Saved",message:"Your profile information has been updated."})},p=()=>{window.confirm("Are you sure you want to delete your account? This action is irreversible.")&&o({type:"error",title:"Account Deleted",message:"Your account has been permanently deleted."})};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(ls,{title:"Profile Settings"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-24 h-24 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center",children:l.jsx(Ga,{className:"w-16 h-16 text-gray-400"})}),l.jsx("button",{className:"px-4 py-2 text-sm font-semibold bg-gray-100 dark:bg-gray-600 rounded-md hover:bg-gray-200 dark:hover:bg-gray-500",children:" Change Photo"})]}),l.jsx(ut,{label:"Full Name:",children:l.jsx(Wt,{value:c,onChange:d})}),l.jsx(ut,{label:"Email:",children:l.jsx(Wt,{value:u,onChange:f})}),l.jsx(ut,{label:"Role:",children:l.jsx("div",{className:"bg-gray-100 dark:bg-gray-700/50 p-3 rounded-lg",children:l.jsx("span",{className:"font-semibold",children:(n==null?void 0:n.role)===he.Manager?"Manager":"Member"})})}),(n==null?void 0:n.khataId)&&l.jsx(ut,{label:"Room Code:",children:l.jsx("div",{className:"bg-gray-100 dark:bg-gray-700/50 p-3 rounded-lg",children:l.jsx("span",{className:"font-mono text-lg tracking-widest",children:n.khataId})})}),l.jsx("button",{onClick:h,className:"px-6 py-2 bg-primary text-white font-semibold rounded-lg hover:bg-primary-600",children:"Save Changes"}),l.jsxs("div",{className:"border-t pt-6 mt-6 border-red-500/30",children:[l.jsx("h3",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:"Danger Zone"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"This action is permanent and cannot be undone."}),l.jsx("button",{onClick:p,className:"mt-3 px-4 py-2 text-sm font-semibold text-red-700 bg-red-100 dark:text-red-200 dark:bg-red-500/20 rounded-md hover:bg-red-200 dark:hover:bg-red-500/30",children:"Delete My Account"})]})]})},Gy=()=>{const{addToast:n}=_e(),o=()=>n({type:"success",title:"Contacts Saved",message:"Your contact information has been updated."});return l.jsxs("div",{className:"space-y-6",children:[l.jsx(ls,{title:"Contact Information"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 -mt-2",children:"Other members can see this info. (Coming Soon)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(ut,{label:"Phone Number:",children:l.jsx(Wt,{value:"",onChange:()=>{}})}),l.jsx(ut,{label:"WhatsApp Number:",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(Pl,{name:"whatsapp",label:"Same as phone",checked:!0}),l.jsx(Pl,{name:"whatsapp",label:"Different: +880 [________]"})]})}),l.jsx(ut,{label:"Facebook Profile:",children:l.jsx(Wt,{value:"",onChange:()=>{}})}),l.jsx(ut,{label:"Bkash Number (for payments):",children:l.jsx(Wt,{value:"",onChange:()=>{}})}),l.jsx(ut,{label:"Nagad Number:",children:l.jsx(Wt,{value:"",onChange:()=>{}})}),l.jsx(ut,{label:"Emergency Contact:",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(Wt,{value:"",onChange:()=>{},placeholder:"Name"}),l.jsx(Wt,{value:"",onChange:()=>{},placeholder:"Phone"})]})})]}),l.jsx("button",{onClick:o,className:"px-6 py-2 bg-primary text-white font-semibold rounded-lg hover:bg-primary-600",children:"Save Contact Info"})]})},Vy=()=>{const{user:n}=ve(),{addToast:o}=_e(),c=(n==null?void 0:n.role)===he.Manager,d=()=>o({type:"success",title:"Preferences Saved",message:"Your notification settings have been updated (Coming Soon)."});return l.jsxs("div",{className:"space-y-8",children:[l.jsx(ls,{title:"Notification Settings"}),l.jsx("p",{className:"text-sm text-yellow-600 dark:text-yellow-400 -mt-6",children:" Notification settings will be implemented in a future update."}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Notification Channels:"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(it,{label:"Email Notifications",checked:!0}),l.jsx(it,{label:"In-App Notifications",checked:!0}),l.jsx(it,{label:"SMS Notifications (Coming Soon)",checked:!1})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Notify me about:"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Bills & Payments:"}),l.jsxs("div",{className:"pl-4 space-y-2 mt-1",children:[l.jsx(it,{label:"New bills assigned to me",checked:!0}),l.jsx(it,{label:"Payment reminders (3 days before)",checked:!0}),l.jsx(it,{label:"Payment approval updates",checked:!0}),l.jsx(it,{label:"Overdue bill alerts",checked:!0})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Meals & Shopping:"}),l.jsxs("div",{className:"pl-4 space-y-2 mt-1",children:[l.jsx(it,{label:"Daily meal logging reminders",checked:!0}),l.jsx(it,{label:"Shopping duty reminders",checked:!0}),l.jsx(it,{label:"Shopping approval updates",checked:!0}),l.jsx(it,{label:"Meal rate changes",checked:!0})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Deposits & Refunds:"}),l.jsxs("div",{className:"pl-4 space-y-2 mt-1",children:[l.jsx(it,{label:"Deposit approval updates",checked:!0}),l.jsx(it,{label:"Monthly refund calculations",checked:!0})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Room Updates:"}),l.jsxs("div",{className:"pl-4 space-y-2 mt-1",children:[l.jsx(it,{label:"New member joins",checked:!0}),l.jsx(it,{label:"Member leaves",checked:!0}),l.jsx(it,{label:"Room announcements",checked:!1})]})]}),c&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Manager-Specific:"}),l.jsx("div",{className:"pl-4 space-y-2 mt-1",children:l.jsx(it,{label:"Manager approval requests",checked:!0})})]})]})]}),l.jsx("div",{className:"flex flex-wrap gap-4 items-center",children:l.jsx("button",{onClick:d,className:"px-6 py-2 bg-primary text-white font-semibold rounded-lg hover:bg-primary-600",children:"Save Preferences"})})]})},Zy=()=>{const{user:n}=ve(),{addToast:o}=_e(),[c,d]=k.useState(null),[u,f]=k.useState(!0);k.useEffect(()=>{n!=null&&n.khataId&&(d({khataId:n.khataId,name:n.khataId}),f(!1))},[n]);const h=()=>{n!=null&&n.khataId&&(navigator.clipboard.writeText(n.khataId),o({type:"success",title:"Copied",message:"Room code copied to clipboard"}))},p=()=>o({type:"success",title:"Settings Saved",message:"Room management settings have been updated."}),b=()=>{window.confirm("Are you sure you want to delete this room? This will erase all data for all members and cannot be undone.")&&o({type:"error",title:"Room Deleted",message:"The room and all its data have been permanently deleted."})};return u?l.jsx("div",{className:"text-center py-8",children:"Loading room details..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsx(ls,{title:"Room Management"}),l.jsxs(ut,{label:"Room Code:",children:[l.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700/50 p-3 rounded-lg flex items-center justify-between",children:[l.jsx("span",{className:"font-mono text-xl tracking-widest",children:c==null?void 0:c.khataId}),l.jsx("div",{className:"flex gap-2",children:l.jsxs("button",{onClick:h,className:"flex items-center gap-1 text-sm font-semibold text-primary hover:underline",children:[l.jsx(Yc,{className:"w-4 h-4"}),"Copy Code"]})})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Share this code with others to invite them to your room"})]}),l.jsx(ls,{title:"Default Settings"}),l.jsx("p",{className:"text-sm text-yellow-600 dark:text-yellow-400 -mt-4",children:" Room configuration settings will be available in a future update."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(ut,{label:"Currency:",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx(Pl,{name:"currency",label:"BDT ()",checked:!0}),l.jsx(Pl,{name:"currency",label:"USD ($)"})]})}),l.jsx(ut,{label:"Default Meal Quantity:",children:l.jsx(Wt,{value:"2",onChange:()=>{}})}),l.jsx(ut,{label:"Meal Rate Calculation:",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(Pl,{name:"mealRate",label:"Auto (Total Shopping  Meals)",checked:!0}),l.jsx(Pl,{name:"mealRate",label:"Fixed Rate:  [____]"})]})}),l.jsx(ut,{label:"Bill Due Date Reminder:",children:l.jsx(Wt,{value:"3",onChange:()=>{}})})]}),l.jsx("button",{onClick:p,className:"px-6 py-2 bg-primary text-white font-semibold rounded-lg hover:bg-primary-600",children:"Save Settings"}),l.jsxs("div",{className:"border-t pt-6 mt-6 border-red-500/30",children:[l.jsx("h3",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:"Danger Zone"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"This will permanently delete all room data, including bills, meals, and member information."}),l.jsx("button",{onClick:b,className:"mt-3 px-4 py-2 text-sm font-semibold text-red-700 bg-red-100 dark:text-red-200 dark:bg-red-500/20 rounded-md hover:bg-red-200 dark:hover:bg-red-500/30",children:"Delete Room & All Data"})]})]})},Xy=()=>{const{user:n,setPage:o}=ve(),[c,d]=k.useState([]),[u,f]=k.useState(!0);return k.useEffect(()=>{n!=null&&n.khataId&&te.getMembersForRoom(n.khataId).then(h=>{d(h),f(!1)})},[n]),u?l.jsx("div",{className:"text-center py-8",children:"Loading members..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsx(ls,{title:"Member Management"}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg",children:[l.jsxs("h3",{className:"font-semibold mb-2",children:["Current Members (",c.length,")"]}),l.jsx("div",{className:"space-y-2 mt-3",children:c.map((h,p)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-gray-800 rounded",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:h.name}),l.jsx("p",{className:"text-xs text-gray-500",children:h.email})]}),l.jsx("span",{className:`text-xs px-2 py-1 rounded ${h.role==="Manager"?"bg-primary-100 text-primary-700 dark:bg-primary-500/20 dark:text-primary-300":"bg-gray-100 text-gray-700 dark:bg-gray-600 dark:text-gray-300"}`,children:h.role})]},h.id||p))})]}),l.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Quick links to manage your room members:"}),l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsx("button",{onClick:()=>o("members"),className:"font-semibold text-primary hover:underline",children:"View All Members "}),l.jsx("button",{onClick:()=>o("pending-approvals"),className:"block font-semibold text-primary hover:underline",children:"Manage Join Requests "})]})]})]})},Qy=()=>{const{user:n}=ve(),o=(n==null?void 0:n.role)===he.Manager,c=[{id:"Profile",icon:l.jsx(Ga,{className:"w-6 h-6 mr-3"}),label:"Profile"},{id:"Contacts",icon:l.jsx(ah,{className:"w-6 h-6 mr-3"}),label:"Contacts"},{id:"Notifications",icon:l.jsx(Vc,{className:"w-6 h-6 mr-3"}),label:"Notifications"}],d=[...c,{id:"Room Management",icon:l.jsx(zc,{className:"w-6 h-6 mr-3"}),label:"Room Management"},{id:"Member Management",icon:l.jsx(as,{className:"w-6 h-6 mr-3"}),label:"Member Management"}],u=o?d:c,[f,h]=k.useState("Profile"),p=()=>{switch(f){case"Profile":return l.jsx(Yy,{});case"Contacts":return l.jsx(Gy,{});case"Notifications":return l.jsx(Vy,{});case"Room Management":return o?l.jsx(Zy,{}):null;case"Member Management":return o?l.jsx(Xy,{}):null;default:return null}};return l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(zc,{className:"w-8 h-8 text-primary"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Settings"})]}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[l.jsx("aside",{className:"md:w-1/4 lg:w-1/5",children:l.jsx("nav",{className:"space-y-1",children:u.map(b=>l.jsx(qy,{label:b.label,icon:b.icon,isActive:f===b.id,onClick:()=>h(b.id)},b.id))})}),l.jsx("main",{className:"flex-1 bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md animate-fade-in",children:p()},f)]})]})},Hr=({title:n,value:o,subtitle:c,children:d})=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-xl shadow-md",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400",children:n}),l.jsx("p",{className:"text-3xl font-bold text-gray-800 dark:text-white mt-1",children:o}),l.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:c}),d]}),Fy=({name:n,percent:o})=>{const c=()=>o>=90?"bg-green-500":o>=70?"bg-yellow-500":"bg-red-500";return l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"w-12 font-medium truncate",title:n,children:n}),l.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-4",children:l.jsx("div",{className:`${c()} h-4 rounded-full`,style:{width:`${o}%`}})}),l.jsxs("span",{className:"w-12 text-right font-semibold",children:[o,"%"]})]})},Ky=()=>{const{user:n}=ve(),{addToast:o}=_e(),[c,d]=k.useState(new Date),[u,f]=k.useState("Last 3 Months"),[h,p]=k.useState(!0),[b,g]=k.useState([]),[y,j]=k.useState([]);k.useEffect(()=>{(async()=>{if(n!=null&&n.khataId){p(!0);try{const[w,T]=await Promise.all([te.getBillsForRoom(n.khataId),te.getMembersForRoom(n.khataId)]);g(w),j(T)}catch(w){console.error("Error fetching payment data:",w),o({type:"error",title:"Error",message:"Failed to load payment data"})}finally{p(!1)}}})()},[n==null?void 0:n.khataId,o]);const N=k.useMemo(()=>{const S=[];for(let w=0;w<12;w++){const T=new Date;T.setMonth(T.getMonth()-w),S.push(T)}return S},[]),A=k.useMemo(()=>{if(h)return null;const S=c.getFullYear(),w=c.getMonth(),T=b.filter(se=>{const H=new Date(se.dueDate);return H.getMonth()===w&&H.getFullYear()===S}),U=T.reduce((se,H)=>se+H.totalAmount,0),G=T.length;let ae=0;T.forEach(se=>{se.shares.every(re=>re.status==="Paid")&&ae++});const J=G-ae,P=G>0?Math.round(ae/G*100):0,ee=G>0?Math.round(J/G*100):0,ne=y.map(se=>{let H=0,re=0,oe=0,W=0;return T.forEach(ie=>{const E=ie.shares.find(Y=>String(Y.userId)===String(se.id));E&&(H+=E.amount,E.status==="Paid"?re+=E.amount:(oe+=E.amount,W++))}),{name:se.name,totalDue:`${H.toFixed(2)}`,paid:`${re.toFixed(2)}`,pending:`${oe.toFixed(2)}`,status:W===0?" All Paid":` ${W} Pending`}}),X=T.map(se=>{const H=se.shares||[],re=y.map(Y=>{const I=H.find(de=>String(de.userId)===String(Y.id));return I?I.status==="Paid"?"":"":"-"}),oe=H.filter(Y=>Y.status==="Paid").length,W=H.length,ie=W>0?Math.round(oe/W*100)+"%":"0%",E=H.length>0?H[0].amount:0;return{bill:se.title,amount:se.totalAmount,split:E,dueDate:new Date(se.dueDate).toLocaleDateString("en-US",{day:"numeric",month:"short"}),statuses:re,progress:ie}});return{overviewData:{totalAmount:`${U.toFixed(0)}`,totalBills:G,billsPaid:{count:ae,percent:`${P}%`},billsPending:{count:J,percent:`${ee}%`}},memberSummaryData:ne,billDetailsData:X}},[b,y,c,h]),v=k.useMemo(()=>{if(h)return[];const S=new Date;let w=new Date;u==="Last Month"?w.setMonth(S.getMonth()-1):u==="Last 3 Months"?w.setMonth(S.getMonth()-3):u==="Last 6 Months"?w.setMonth(S.getMonth()-6):u==="Last 1 Year"?w.setFullYear(S.getFullYear()-1):u==="Last 2 Years"&&w.setFullYear(S.getFullYear()-2);const T=b.filter(U=>new Date(U.dueDate)>=w);return y.map(U=>{let G=0,ae=0;T.forEach(P=>{const ee=P.shares.find(ne=>String(ne.userId)===String(U.id));ee&&(G++,ee.status==="Paid"&&ae++)});const J=G>0?Math.round(ae/G*100):100;return{name:U.name,percent:J}}).sort((U,G)=>G.percent-U.percent)},[b,y,u,h]);return(n==null?void 0:n.role)!==he.Manager?l.jsxs("div",{className:"text-center p-8",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Access Denied"}),l.jsx("p",{className:"text-gray-500",children:"This page is only available for managers."})]}):h||!A?l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-primary-500"})}):l.jsxs("div",{className:"space-y-8 animate-fade-in",children:[l.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Payment Dashboard"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("select",{value:c.toISOString(),onChange:S=>d(new Date(S.target.value)),className:"px-4 py-2 text-sm font-semibold bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm",children:N.map(S=>l.jsx("option",{value:S.toISOString(),children:S.toLocaleDateString("en-US",{month:"long",year:"numeric"})},S.toISOString()))}),l.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold bg-primary text-white rounded-md shadow-sm hover:bg-primary-600",children:[l.jsx(th,{className:"w-4 h-4"}),"Export"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(Hr,{title:" Total Bills Amount",value:A.overviewData.totalAmount,subtitle:"This Month"}),l.jsx(Hr,{title:" Total Bills",value:A.overviewData.totalBills,subtitle:"Categories"}),l.jsx(Hr,{title:" Bills Fully Paid",value:A.overviewData.billsPaid.count,subtitle:`${A.overviewData.billsPaid.percent} Collected`}),l.jsx(Hr,{title:" Bills Pending",value:A.overviewData.billsPending.count,subtitle:`${A.overviewData.billsPending.percent} Outstanding`})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-x-auto",children:[l.jsx("h3",{className:"p-5 text-lg font-semibold text-gray-800 dark:text-white",children:"Member-wise Bill Status"}),l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-xs text-gray-600 dark:text-gray-300 uppercase",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3",children:"Member"}),l.jsx("th",{className:"px-6 py-3 text-right",children:"Total Due"}),l.jsx("th",{className:"px-6 py-3 text-right",children:"Paid"}),l.jsx("th",{className:"px-6 py-3 text-right",children:"Pending"}),l.jsx("th",{className:"px-6 py-3",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:A.memberSummaryData.map(S=>l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30",children:[l.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white",children:S.name}),l.jsx("td",{className:"px-6 py-4 text-right",children:S.totalDue}),l.jsx("td",{className:"px-6 py-4 text-right text-green-600 dark:text-green-400 font-semibold",children:S.paid}),l.jsx("td",{className:"px-6 py-4 text-right text-red-600 dark:text-red-400 font-semibold",children:S.pending}),l.jsx("td",{className:"px-6 py-4 font-medium",children:S.status})]},S.name))})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-x-auto",children:[l.jsx("h3",{className:"p-5 text-lg font-semibold text-gray-800 dark:text-white",children:"Bill Details"}),l.jsx("p",{className:"px-5 pb-3 text-xs text-gray-500 dark:text-gray-400",children:"Legend:  Paid |  Pending"}),l.jsxs("table",{className:"w-full text-sm text-center",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-xs text-gray-600 dark:text-gray-300 uppercase",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left",children:"Bill"}),l.jsx("th",{className:"px-4 py-3",children:"Amount"}),l.jsx("th",{className:"px-4 py-3",children:"Split"}),l.jsx("th",{className:"px-4 py-3",children:"Due Date"}),y.map(S=>l.jsx("th",{className:"px-4 py-3",children:S.name.split(" ")[0]},S.id)),l.jsx("th",{className:"px-4 py-3",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:A.billDetailsData.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:5+y.length,className:"px-4 py-8 text-center text-gray-500",children:"No bills found for this month"})}):A.billDetailsData.map(S=>l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30",children:[l.jsx("td",{className:"px-4 py-3 text-left font-medium text-gray-900 dark:text-white",children:S.bill}),l.jsxs("td",{className:"px-4 py-3",children:["",S.amount.toLocaleString()]}),l.jsxs("td",{className:"px-4 py-3",children:["",S.split.toLocaleString()]}),l.jsx("td",{className:"px-4 py-3",children:S.dueDate}),S.statuses.map((w,T)=>l.jsx("td",{className:"px-4 py-3",children:w},T)),l.jsx("td",{className:"px-4 py-3 font-semibold",children:S.progress})]},S.bill))})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-5",children:[l.jsxs("div",{className:"flex flex-wrap gap-4 justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Payment Punctuality"}),l.jsx("div",{className:"flex flex-wrap items-center gap-1 bg-gray-100 dark:bg-gray-700 p-1 rounded-md",children:["Last Month","Last 3 Months","Last 6 Months","Last 1 Year"].map(S=>l.jsx("button",{onClick:()=>f(S),className:`px-2 py-1 text-xs font-semibold rounded ${u===S?"bg-white dark:bg-gray-600 shadow":"text-gray-500 dark:text-gray-300"}`,children:S},S))})]}),l.jsx("div",{className:"mt-4 space-y-3 text-sm",children:v.map(S=>l.jsx(Fy,{name:S.name,percent:S.percent},S.name))}),l.jsx("p",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:"Green: >90% | Yellow: 70-90% | Red: <70%"})]})]})},Jy={Rent:l.jsx(cn,{className:"w-5 h-5 text-danger-500"}),Electricity:l.jsx(un,{className:"w-5 h-5 text-yellow-500"}),Water:l.jsx(mn,{className:"w-5 h-5 text-blue-500"}),Gas:l.jsx(fn,{className:"w-5 h-5 text-orange-500"}),"Wi-Fi":l.jsx(hn,{className:"w-5 h-5 text-cyan-500"}),Maid:l.jsx(xn,{className:"w-5 h-5 text-purple-500"}),Others:l.jsx(Va,{className:"w-5 h-5 text-slate-500"})},$y=()=>{const{user:n}=ve(),{addToast:o}=_e(),[c,d]=k.useState("bill-payments"),[u,f]=k.useState([]),[h,p]=k.useState([]),[b,g]=k.useState(!0),y=async()=>{if(n!=null&&n.khataId&&n.role===he.Manager){g(!0);try{const w=await te.getPendingApprovals(n.khataId);f(w);const T=await te.getBillsForRoom(n.khataId),U=[];T.forEach(G=>{G.shares.forEach(ae=>{ae.status==="Pending Approval"&&U.push({bill:G,share:ae})})}),p(U)}catch(w){console.error("Error fetching pending approvals:",w),o({type:"error",title:"Error",message:"Failed to load pending approvals."})}finally{g(!1)}}else g(!1)};k.useEffect(()=>{y()},[n]);const j=async w=>{if(n!=null&&n.khataId)try{await te.approveMember(n.khataId,w)?(f(U=>U.filter(G=>G.id!==w)),o({type:"success",title:"Approved",message:"Member approved successfully"})):o({type:"error",title:"Error",message:"Failed to approve member"})}catch{o({type:"error",title:"Error",message:"Failed to approve member"})}},N=async(w,T)=>{await te.updateBillShareStatus(w,T,"Paid")?(p(G=>G.filter(ae=>!(ae.bill.id===w&&ae.share.userId===T))),o({type:"success",title:"Approved",message:"Payment approved successfully."})):o({type:"error",title:"Error",message:"Failed to approve payment."})},A=async(w,T)=>{await te.updateBillShareStatus(w,T,"Unpaid")?(p(G=>G.filter(ae=>!(ae.bill.id===w&&ae.share.userId===T))),o({type:"info",title:"Denied",message:"Payment rejected. Status reset to Unpaid."})):o({type:"error",title:"Error",message:"Failed to deny payment."})};if(b)return l.jsx("div",{className:"p-8 text-center",children:"Loading pending requests..."});if((n==null?void 0:n.role)!==he.Manager)return l.jsx("div",{className:"p-8 text-center text-red-500",children:"Access Denied. Managers only."});const v=u.length+h.length,S=[{id:"bill-payments",label:"Bill Payments",count:h.length},{id:"shopping",label:"Shopping",count:0},{id:"deposits",label:"Deposits",count:0},{id:"meal-entries",label:"Meal Entries",count:0},{id:"join-requests",label:"Join Requests",count:u.length}];return l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white font-sans",children:"Pending Approvals"}),l.jsxs("div",{className:"px-4 py-2 bg-warning-500/10 text-warning-600 dark:text-warning-400 rounded-lg font-semibold",children:[" ",v," Tasks"]})]}),l.jsx("div",{className:"bg-slate-100 dark:bg-slate-800/50 p-1 rounded-lg flex gap-1 overflow-x-auto",children:S.map(w=>l.jsxs("button",{onClick:()=>d(w.id),className:`flex-1 min-w-fit px-4 py-2.5 rounded-md font-semibold text-sm transition-all ${c===w.id?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white"}`,children:[w.label," ",w.count>0&&l.jsx("span",{className:"ml-1 text-xs",children:w.count})]},w.id))}),l.jsxs("div",{className:"space-y-4",children:[c==="bill-payments"&&l.jsx(l.Fragment,{children:h.length===0?l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm p-12 text-center",children:[l.jsx(Xt,{className:"w-16 h-16 mx-auto text-slate-300 dark:text-slate-600 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-slate-600 dark:text-slate-400",children:"No Pending Bill Payments"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500 mt-2",children:"All bill payments have been processed."})]}):h.map(({bill:w,share:T})=>l.jsx("div",{className:"bg-slate-800 dark:bg-slate-800/80 rounded-lg p-5 border border-slate-700",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"p-2 bg-slate-700 rounded-lg",children:Jy[w.category]||l.jsx(Va,{className:"w-5 h-5 text-slate-400"})}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[w.category," Bill - ",T.userName]}),l.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:["Amount: ",l.jsxs("span",{className:"font-bold text-white font-numeric",children:["",T.amount.toFixed(0)]})]}),l.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Marked as paid ",new Date(w.dueDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," (",Math.ceil((new Date().getTime()-new Date(w.dueDate).getTime())/(1e3*60*60*24))," days ago)"]}),l.jsx("p",{className:"text-xs text-warning-500 mt-1",children:"Status: Waiting for your approval"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>A(w.id,T.userId),className:"px-4 py-2 bg-danger-500/20 text-danger-400 rounded-lg font-semibold hover:bg-danger-500/30 transition-colors text-sm",children:"Deny"}),l.jsx("button",{onClick:()=>N(w.id,T.userId),className:"px-4 py-2 bg-success-500/20 text-success-400 rounded-lg font-semibold hover:bg-success-500/30 transition-colors text-sm",children:"Approve Payment"})]})]})},`${w.id}-${T.userId}`))}),c==="shopping"&&l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm p-12 text-center",children:[l.jsx(Xt,{className:"w-16 h-16 mx-auto text-slate-300 dark:text-slate-600 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-slate-600 dark:text-slate-400",children:"No Pending Shopping Expenses"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500 mt-2",children:"All shopping expenses have been processed."})]}),c==="deposits"&&l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm p-12 text-center",children:[l.jsx(Xt,{className:"w-16 h-16 mx-auto text-slate-300 dark:text-slate-600 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-slate-600 dark:text-slate-400",children:"No Pending Deposits"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500 mt-2",children:"All deposits have been processed."})]}),c==="meal-entries"&&l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm p-12 text-center",children:[l.jsx(Xt,{className:"w-16 h-16 mx-auto text-slate-300 dark:text-slate-600 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-slate-600 dark:text-slate-400",children:"No Pending Meal Entries"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500 mt-2",children:"All meal entries have been processed."})]}),c==="join-requests"&&l.jsx(l.Fragment,{children:u.length===0?l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm p-12 text-center",children:[l.jsx(Xt,{className:"w-16 h-16 mx-auto text-slate-300 dark:text-slate-600 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-slate-600 dark:text-slate-400",children:"No Pending Join Requests"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500 mt-2",children:"All join requests have been processed."})]}):u.map(w=>l.jsx("div",{className:"bg-slate-800 dark:bg-slate-800/80 rounded-lg p-5 border border-slate-700",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-primary-500/20 rounded-full flex items-center justify-center text-primary-400 font-bold text-lg",children:w.name.charAt(0)}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-white",children:w.name}),l.jsx("p",{className:"text-sm text-slate-400 mt-1",children:w.email}),l.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Requested: ",new Date(w.requestedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"px-4 py-2 bg-danger-500/20 text-danger-400 rounded-lg font-semibold hover:bg-danger-500/30 transition-colors text-sm",children:"Deny"}),l.jsx("button",{onClick:()=>j(w.id),className:"px-4 py-2 bg-success-500/20 text-success-400 rounded-lg font-semibold hover:bg-success-500/30 transition-colors text-sm",children:"Approve"})]})]})},w.id))})]})]})},qr=({icon:n,title:o,value:c,subtitle:d})=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-xl shadow-md flex items-start gap-4",children:[l.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center bg-primary-100 dark:bg-primary-500/20 rounded-lg",children:n}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400",children:o}),l.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white mt-1",children:c}),l.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:d})]})]}),Dc=({title:n,children:o,footer:c})=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-xl shadow-md h-full flex flex-col",children:[l.jsx("h3",{className:"font-bold text-lg text-gray-800 dark:text-white mb-4",children:n}),l.jsx("div",{className:"flex-grow flex items-center justify-center",children:o}),c&&l.jsx("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400 mt-2",children:c})]}),Iy=({data:n})=>{if(!n||n.length===0)return l.jsx("div",{className:"text-gray-400 text-sm",children:"No data available"});const o=n.reduce((c,d)=>c+d.value,0);return l.jsxs("div",{className:"w-full flex flex-col md:flex-row items-center justify-center gap-6",children:[l.jsxs("div",{className:"relative w-36 h-36",children:[l.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`conic-gradient(${n.map((c,d)=>{const u=n.slice(0,d).reduce((h,p)=>h+p.value,0)/o*100,f=n.slice(0,d+1).reduce((h,p)=>h+p.value,0)/o*100;return`${c.color} ${u}% ${f}%`}).join(", ")})`}}),l.jsxs("div",{className:"absolute inset-2 bg-white dark:bg-gray-800 rounded-full flex flex-col items-center justify-center",children:[l.jsx("span",{className:"text-xs text-gray-400",children:"Total"}),l.jsxs("span",{className:"text-sm font-bold",children:["",o.toFixed(0)]})]})]}),l.jsx("div",{className:"space-y-2 text-sm text-center md:text-left",children:n.map((c,d)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:c.color}}),l.jsxs("div",{children:[c.label,": ",(c.value/o*100).toFixed(1),"%"]})]},d))})]})},Wy=({data:n})=>{var j;if(!n||n.length===0)return l.jsx("div",{className:"text-gray-400 text-sm",children:"No data available"});const o=n.flatMap(N=>N.values.map(A=>A.value)),c=Math.max(...o,100),d=100,u=60,f=50,h=u-5,p=N=>h-N/c*f,b=(N,A)=>N/(A-1)*d,g=N=>{if(N.length===0)return"";let A=`M ${b(0,N.length)} ${p(N[0])}`;for(let v=1;v<N.length;v++){const S=b(v-1,N.length),w=b(v,N.length),T=p(N[v-1]),U=p(N[v]),G=(S+w)/2;A+=` Q ${G} ${T}, ${G} ${(T+U)/2} Q ${G} ${U}, ${w} ${U}`}return A},y=((j=n[0])==null?void 0:j.values)||[];return l.jsxs("div",{className:"w-full space-y-4",children:[l.jsxs("svg",{viewBox:`0 0 ${d} ${u}`,className:"w-full h-40",children:[[0,.25,.5,.75,1].map(N=>{const A=h-N*f;return l.jsx("line",{x1:"0",y1:A,x2:d,y2:A,stroke:"currentColor",className:"text-gray-200 dark:text-gray-700",strokeWidth:"0.3"},N)}),y.map((N,A)=>{const v=n.map(w=>{var T;return((T=w.values[A])==null?void 0:T.value)||0}),S=g(v);return l.jsxs("g",{children:[l.jsx("path",{d:S,fill:"none",stroke:N.color,strokeWidth:"2",strokeLinecap:"round"}),v.map((w,T)=>l.jsx("circle",{cx:b(T,v.length),cy:p(w),r:"2",fill:N.color},T))]},A)}),n.map((N,A)=>l.jsx("text",{x:b(A,n.length),y:u-1,textAnchor:"middle",className:"text-[3px] fill-gray-500 dark:fill-gray-400",children:N.label},A))]}),l.jsx("div",{className:"flex flex-wrap justify-center gap-4 text-xs",children:y.map((N,A)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-0.5 rounded",style:{backgroundColor:N.color}}),l.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:N.name})]},A))})]})},Py=()=>{const{user:n}=ve(),{addToast:o}=_e(),[c,d]=k.useState("This Month"),[u,f]=k.useState(!0),[h,p]=k.useState([]),[b,g]=k.useState([]),[y,j]=k.useState([]),[N,A]=k.useState([]),[v,S]=k.useState([]);k.useEffect(()=>{(async()=>{if(!(n!=null&&n.khataId)){f(!1);return}f(!0);try{const[U,G,ae,J,P]=await Promise.all([te.getExpenses(n.khataId),te.getBillsForRoom(n.khataId),te.getMeals(n.khataId),te.getDeposits(n.khataId),te.getMembersForRoom(n.khataId)]);p(U||[]),g(G||[]),j(ae||[]),A(J||[]),S(P||[])}catch(U){console.error("Error fetching report data:",U),o({type:"error",title:"Error",message:"Failed to load report data"})}finally{f(!1)}})()},[n==null?void 0:n.khataId]);const w=k.useMemo(()=>{const T=new Date;let U=new Date;c==="This Month"?U=new Date(T.getFullYear(),T.getMonth(),1):c==="Last 30 Days"&&(U=new Date(T.getTime()-720*60*60*1e3));const G=h.filter(Y=>Y.createdAt&&new Date(Y.createdAt)>=U&&Y.status==="Approved"),ae=b.filter(Y=>Y.dueDate&&new Date(Y.dueDate)>=U),J=N.filter(Y=>Y.createdAt&&new Date(Y.createdAt)>=U&&Y.status==="Approved"),P=y.filter(Y=>Y.date&&new Date(Y.date)>=U),ee=ae.reduce((Y,I)=>Y+(I.totalAmount||0),0),ne=G.reduce((Y,I)=>Y+(I.amount||0),0),X=ee+ne,se=P.reduce((Y,I)=>Y+(I.totalMeals||0),0),H=se>0?ne/se:0,re=J.reduce((Y,I)=>Y+(I.amount||0),0),oe=re-X,W={};ae.forEach(Y=>{const I=Y.category||"Other";W[I]=(W[I]||0)+(Y.totalAmount||0)});const ie=Object.entries(W).map(([Y,I],de)=>({label:Y,value:I,color:["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#ec4899"][de%6]})),E=[];for(let Y=5;Y>=0;Y--){const I=new Date;I.setMonth(I.getMonth()-Y);const de=I.getMonth(),xe=I.getFullYear(),C=I.toLocaleDateString("en-US",{month:"short"}),q=h.filter(z=>{if(!z.createdAt)return!1;const le=new Date(z.createdAt);return le.getMonth()===de&&le.getFullYear()===xe&&z.status==="Approved"}).reduce((z,le)=>z+(le.amount||0),0),_=N.filter(z=>{if(!z.createdAt)return!1;const le=new Date(z.createdAt);return le.getMonth()===de&&le.getFullYear()===xe&&z.status==="Approved"}).reduce((z,le)=>z+(le.amount||0),0),K=b.filter(z=>{if(!z.dueDate)return!1;const le=new Date(z.dueDate);return le.getMonth()===de&&le.getFullYear()===xe}).reduce((z,le)=>z+(le.totalAmount||0),0);E.push({label:C,values:[{name:"Deposits",value:_,color:"#10b981"},{name:"Expenses",value:q,color:"#ef4444"},{name:"Bills",value:K,color:"#3b82f6"}]})}return{totalExpenses:X,avgMealCost:H,totalDeposits:re,fundHealth:oe,billCategoryData:ie,trendData:E}},[h,b,y,N,c]);return(n==null?void 0:n.role)!==he.Manager?l.jsxs("div",{className:"text-center p-8",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Access Denied"}),l.jsx("p",{className:"text-gray-500",children:"This page is only available for managers."})]}):u?l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-primary-500"})}):l.jsxs("div",{className:"space-y-8 animate-fade-in",children:[l.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Reports & Analytics"}),l.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[["This Month","Last 30 Days"].map(T=>l.jsx("button",{onClick:()=>d(T),className:`px-4 py-2 text-sm font-semibold rounded-md shadow-sm transition-colors ${c===T?"bg-primary text-white":"bg-white dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:T},T)),l.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm",children:[l.jsx(th,{className:"w-4 h-4"}),"Export"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(qr,{icon:l.jsx(Ub,{className:"w-6 h-6 text-primary"}),title:"Total Expenses",value:`${w.totalExpenses.toLocaleString()}`,subtitle:c}),l.jsx(qr,{icon:l.jsx(fl,{className:"w-6 h-6 text-primary"}),title:"Avg Meal Cost",value:`${w.avgMealCost.toFixed(2)}`,subtitle:"Per Meal"}),l.jsx(qr,{icon:l.jsx(_b,{className:"w-6 h-6 text-primary"}),title:"Total Deposits",value:`${w.totalDeposits.toLocaleString()}`,subtitle:"Collected"}),l.jsx(qr,{icon:l.jsx(Yb,{className:"w-6 h-6 text-primary"}),title:"Fund Health",value:`${w.fundHealth.toLocaleString()}`,subtitle:w.fundHealth>=0?"Surplus":"Deficit"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(Dc,{title:"Bill Category Breakdown",footer:"Distribution by category",children:l.jsx(Iy,{data:w.billCategoryData})}),l.jsx(Dc,{title:"6-Month Financial Trend",footer:"Deposits, Expenses & Bills over time",children:l.jsx(Wy,{data:w.trendData})})]}),l.jsx("div",{className:"grid grid-cols-1 gap-6",children:l.jsx(Dc,{title:"Financial Summary",children:l.jsxs("div",{className:"w-full space-y-4 text-sm",children:[l.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[l.jsx("span",{children:"Total Bills:"}),l.jsx("span",{className:"font-semibold",children:b.length})]}),l.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[l.jsx("span",{children:"Total Meals:"}),l.jsx("span",{className:"font-semibold",children:y.length})]}),l.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[l.jsx("span",{children:"Active Members:"}),l.jsx("span",{className:"font-semibold",children:v.length})]})]})})})]})},e1={success:{icon:Lb,bgColor:"bg-green-100 dark:bg-green-800",borderColor:"border-l-4 border-green-600 dark:border-green-400",iconColor:"text-green-700 dark:text-green-300",titleColor:"text-green-900 dark:text-green-100",messageColor:"text-green-800 dark:text-green-200"},warning:{icon:Hb,bgColor:"bg-yellow-100 dark:bg-yellow-800",borderColor:"border-l-4 border-yellow-600 dark:border-yellow-400",iconColor:"text-yellow-700 dark:text-yellow-300",titleColor:"text-yellow-900 dark:text-yellow-100",messageColor:"text-yellow-800 dark:text-yellow-200"},error:{icon:qb,bgColor:"bg-red-100 dark:bg-red-800",borderColor:"border-l-4 border-red-600 dark:border-red-400",iconColor:"text-red-700 dark:text-red-300",titleColor:"text-red-900 dark:text-red-100",messageColor:"text-red-800 dark:text-red-200"}},t1=({toast:n,onClose:o})=>{const{type:c,title:d,message:u}=n,f=e1[c],h=f.icon,[p,b]=k.useState(!1);k.useEffect(()=>{const y=setTimeout(()=>b(!0),10);return()=>clearTimeout(y)},[]);const g=()=>{b(!1),setTimeout(o,300)};return l.jsx("div",{className:`w-full max-w-md rounded-xl shadow-2xl pointer-events-auto overflow-hidden transition-all duration-300 ease-in-out ${f.bgColor} ${f.borderColor} ${p?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}`,children:l.jsx("div",{className:"p-5",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(h,{className:`h-7 w-7 ${f.iconColor}`,"aria-hidden":"true"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`text-base font-bold font-sans ${f.titleColor}`,children:d}),l.jsx("p",{className:`mt-1.5 text-sm leading-relaxed ${f.messageColor}`,children:u})]}),l.jsx("div",{className:"flex-shrink-0",children:l.jsxs("button",{className:`inline-flex rounded-lg p-1.5 ${f.iconColor} hover:bg-black/5 dark:hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors ${f.iconColor.replace("text-","focus:ring-")}`,onClick:g,children:[l.jsx("span",{className:"sr-only",children:"Close"}),l.jsx(Yt,{className:"h-5 w-5"})]})})]})})})},a1=()=>{const{toasts:n,addToast:o}=_e();return n[n.length-1],l.jsx("div",{"aria-live":"assertive",className:"fixed inset-0 flex items-end px-4 py-6 pointer-events-none sm:p-6 sm:items-start z-[100]",children:l.jsx("div",{className:"w-full flex flex-col items-center space-y-4 sm:items-end",children:n.map(c=>l.jsx(t1,{toast:c,onClose:()=>{}},c.id))})})},Nf=45.5,l1=({date:n,onClose:o,onSubmit:c,initialData:d})=>{const[u,f]=k.useState({breakfast:(d==null?void 0:d.breakfast)||0,lunch:(d==null?void 0:d.lunch)||0,dinner:(d==null?void 0:d.dinner)||0}),[h,p]=k.useState(""),b=u.breakfast+u.lunch+u.dinner,g=b*Nf,y=()=>{c({date:n,meals:u,notes:h,totalMeals:b}),o()},j=({label:N,icon:A,value:v,onChange:S})=>l.jsxs("div",{children:[l.jsxs("label",{className:"font-semibold text-lg",children:[A," ",N]}),l.jsx("div",{className:"flex items-center gap-x-4 mt-2",children:[0,.5,1,2].map(w=>l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:N,value:w,checked:v===w,onChange:()=>S(w),className:"w-5 h-5 text-primary focus:ring-primary"}),l.jsx("span",{children:w})]},w))})]});return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:o,children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-sm",onClick:N=>N.stopPropagation(),children:[l.jsxs("h2",{className:"text-xl font-bold font-sans",children:["Log Meals - ",n.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})]}),l.jsx("div",{className:"border-t my-4 border-gray-200 dark:border-gray-700"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(j,{label:"Breakfast",icon:"",value:u.breakfast,onChange:N=>f(A=>({...A,breakfast:N}))}),l.jsx(j,{label:"Lunch",icon:"",value:u.lunch,onChange:N=>f(A=>({...A,lunch:N}))}),l.jsx(j,{label:"Dinner",icon:"",value:u.dinner,onChange:N=>f(A=>({...A,dinner:N}))})]}),l.jsx("div",{className:"border-t my-4 border-gray-200 dark:border-gray-700"}),l.jsxs("div",{className:"text-center font-semibold",children:[l.jsxs("p",{children:["Total: ",b," meals"]}),l.jsxs("p",{children:["Cost: ",g.toFixed(2)," (@ ",Nf.toFixed(2),"/meal)"]})]}),l.jsx("div",{className:"border-t my-4 border-gray-200 dark:border-gray-700"}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold text-sm",children:"Notes (optional):"}),l.jsx("input",{type:"text",value:h,onChange:N=>p(N.target.value),className:"w-full mt-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors"})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:o,className:"flex-1 py-2.5 bg-gray-200 dark:bg-gray-600 font-semibold rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),l.jsx("button",{onClick:y,className:"flex-1 py-2.5 bg-primary text-white font-semibold rounded-lg hover:bg-primary-600",children:"Save Entry"})]})]})})},s1=({date:n,onClose:o,mealsForDay:c})=>{const d=k.useMemo(()=>{const f=c.filter(g=>g.breakfast>0).map(g=>({name:g.userName||"Unknown",qty:g.breakfast})),h=c.filter(g=>g.lunch>0).map(g=>({name:g.userName||"Unknown",qty:g.lunch})),p=c.filter(g=>g.dinner>0).map(g=>({name:g.userName||"Unknown",qty:g.dinner}));return{total:c.reduce((g,y)=>g+(y.breakfast||0)+(y.lunch||0)+(y.dinner||0),0),breakfast:f,lunch:h,dinner:p}},[c]),u=({title:f,data:h})=>l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg mb-2",children:f}),l.jsxs("div",{className:"border rounded-lg overflow-hidden dark:border-gray-700",children:[l.jsxs("div",{className:"grid grid-cols-3 bg-gray-50 dark:bg-gray-700/50 p-2 font-semibold text-sm",children:[l.jsx("div",{children:"Member Name"}),l.jsx("div",{className:"text-center",children:"Quantity"}),l.jsx("div",{className:"text-right",children:"Edit"})]}),h.length===0?l.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No meals recorded"}):h.map((p,b)=>l.jsxs("div",{className:"grid grid-cols-3 p-2 border-t dark:border-gray-700 items-center",children:[l.jsx("div",{children:p.name}),l.jsx("div",{className:"text-center",children:p.qty.toFixed(1)}),l.jsx("div",{className:"text-right",children:l.jsx("button",{className:"text-primary hover:underline",children:l.jsx(Gc,{className:"w-4 h-4 inline"})})})]},`${p.name}-${b}`))]})]});return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:o,children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",onClick:f=>f.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h2",{className:"text-xl font-bold font-sans",children:["Meals - ",n.toLocaleDateString("en-US",{weekday:"long",day:"numeric"})," (Total: ",d.total," Meals)"]}),l.jsx("button",{onClick:o,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:l.jsx(Yt,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"border-t my-4 border-gray-200 dark:border-gray-700"}),l.jsxs("div",{className:"space-y-6",children:[l.jsx(u,{title:" Breakfast",data:d.breakfast}),l.jsx(u,{title:" Lunch",data:d.lunch}),l.jsx(u,{title:" Dinner",data:d.dinner})]})]})})},n1=()=>{const{user:n}=ve(),{addToast:o}=_e(),[c,d]=k.useState(new Date),[u,f]=k.useState(null),[h,p]=k.useState([]),[b,g]=k.useState(!1),y=()=>d(new Date(c.getFullYear(),c.getMonth()-1,1)),j=()=>d(new Date(c.getFullYear(),c.getMonth()+1,1));k.useEffect(()=>{(async()=>{if(n!=null&&n.khataId){g(!0);try{const T=c.getFullYear(),U=c.getMonth(),G=new Date(T,U,1),ae=new Date(T,U+1,0),J=G.toISOString(),P=ae.toISOString(),ee=await te.getMeals(n.khataId,J,P);p(ee)}catch(T){console.error("Failed to fetch meals",T),o({type:"error",title:"Error",message:"Failed to load calendar data"})}finally{g(!1)}}})()},[c,n==null?void 0:n.khataId,o]);const N=async w=>{if(n!=null&&n.khataId)try{await te.submitMeal(n.khataId,{date:w.date.toISOString(),breakfast:w.meals.breakfast,lunch:w.meals.lunch,dinner:w.meals.dinner}),o({type:"success",title:"Entry Saved",message:"Your meal entry has been updated."});const T=c.getFullYear(),U=c.getMonth(),G=new Date(T,U,1),ae=new Date(T,U+1,0),J=await te.getMeals(n.khataId,G.toISOString(),ae.toISOString());p(J)}catch(T){console.error("Failed to save meal",T),o({type:"error",title:"Error",message:"Failed to save meal entry"})}},A=w=>(new Date(c.getFullYear(),c.getMonth(),w),h.filter(T=>{const U=new Date(T.date);return U.getDate()===w&&U.getMonth()===c.getMonth()&&U.getFullYear()===c.getFullYear()})),v=w=>A(w).find(U=>U.userId===(n==null?void 0:n.id)),S=k.useMemo(()=>{const w=c.getFullYear(),T=c.getMonth(),U=new Date(w,T,1).getDay(),G=new Date(w,T+1,0).getDate(),ae=new Date;let J=[];for(let P=0;P<U;P++)J.push(l.jsx("div",{className:"border-r border-b border-gray-200 dark:border-gray-700"},`empty-${P}`));for(let P=1;P<=G;P++){const ee=ae.getFullYear()===w&&ae.getMonth()===T&&ae.getDate()===P;let ne;const X=A(P);if((n==null?void 0:n.role)===he.Manager)ne=X.reduce((se,H)=>se+(H.breakfast||0)+(H.lunch||0)+(H.dinner||0),0);else{const se=X.find(H=>H.userId===(n==null?void 0:n.id));se&&(ne=(se.breakfast||0)+(se.lunch||0)+(se.dinner||0))}J.push(l.jsxs("div",{className:"border-r border-b border-gray-200 dark:border-gray-700 p-2 min-h-[80px] cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50",onClick:()=>f(new Date(w,T,P)),children:[l.jsx("span",{className:`font-semibold ${ee?"bg-primary text-white rounded-full w-6 h-6 flex items-center justify-center":""}`,children:P}),ne!==void 0&&ne>0&&l.jsxs("div",{className:"text-sm mt-1",children:["",ne]})]},P))}return J},[c,h,n==null?void 0:n.role,n==null?void 0:n.id]);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-4 animate-fade-in",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(lh,{className:"w-8 h-8 text-primary"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Meal Calendar"})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("button",{onClick:y,className:"px-3 py-1 font-semibold rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:"< Prev"}),l.jsx("h2",{className:"text-xl font-bold",children:c.toLocaleString("default",{month:"long",year:"numeric"})}),l.jsx("button",{onClick:j,className:"px-3 py-1 font-semibold rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:"Next >"})]}),b?l.jsx("div",{className:"py-10 text-center text-gray-500",children:"Loading calendar data..."}):l.jsxs("div",{className:"grid grid-cols-7 text-center font-semibold text-sm text-gray-600 dark:text-gray-300 border-t border-l border-gray-200 dark:border-gray-700",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(w=>l.jsx("div",{className:"py-2 border-r border-b border-gray-200 dark:border-gray-700",children:w},w)),S]}),l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:["Legend: ",(n==null?void 0:n.role)===he.Manager?"Total meal count per day (all members)":"Your meal count per day"]})]})]}),u&&(n==null?void 0:n.role)===he.Member&&l.jsx(l1,{date:u,onClose:()=>f(null),onSubmit:N,initialData:v(u.getDate())}),u&&(n==null?void 0:n.role)===he.Manager&&l.jsx(s1,{date:u,onClose:()=>f(null),mealsForDay:A(u.getDate())})]})},Ec=()=>[{day:"Monday",breakfast:"",lunch:"",dinner:""},{day:"Tuesday",breakfast:"",lunch:"",dinner:""},{day:"Wednesday",breakfast:"",lunch:"",dinner:""},{day:"Thursday",breakfast:"",lunch:"",dinner:""},{day:"Friday",breakfast:"",lunch:"",dinner:""},{day:"Saturday",breakfast:"",lunch:"",dinner:""},{day:"Sunday",breakfast:"",lunch:"",dinner:""}],r1=({editingDay:n,menuData:o,onClose:c,onSave:d,onSavePermanent:u})=>{const f=n==="Permanent",h=k.useMemo(()=>o.find(U=>U.day===n),[n,o]),[p,b]=k.useState((h==null?void 0:h.breakfast)||""),[g,y]=k.useState((h==null?void 0:h.lunch)||""),[j,N]=k.useState((h==null?void 0:h.dinner)||""),[A,v]=k.useState(o),S=(U,G,ae)=>{v(J=>J.map(P=>P.day===U?{...P,[G]:ae}:P))},w=()=>{n&&!f&&d(n,{breakfast:p,lunch:g,dinner:j}),c()},T=()=>{f&&u(A),c()};return f?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:c,children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:U=>U.stopPropagation(),children:[l.jsx("h2",{className:"text-xl font-bold font-sans mb-4",children:"Edit Permanent Menu Template"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"This will set the default menu for all weeks. You can override specific days later."}),l.jsx("div",{className:"border-t my-4 border-gray-200 dark:border-gray-700"}),l.jsx("div",{className:"space-y-6",children:A.map(U=>l.jsxs("div",{className:"border-b pb-4 dark:border-gray-700 last:border-b-0",children:[l.jsx("h3",{className:"font-semibold text-lg mb-3 text-gray-800 dark:text-gray-100",children:U.day}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Breakfast:"}),l.jsx("input",{type:"text",value:U.breakfast,onChange:G=>S(U.day,"breakfast",G.target.value),className:"w-full mt-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Lunch:"}),l.jsx("input",{type:"text",value:U.lunch,onChange:G=>S(U.day,"lunch",G.target.value),className:"w-full mt-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Dinner:"}),l.jsx("input",{type:"text",value:U.dinner,onChange:G=>S(U.day,"dinner",G.target.value),className:"w-full mt-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors"})]})]})]},U.day))}),l.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 justify-end border-t pt-4 dark:border-gray-700",children:[l.jsx("button",{onClick:c,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 font-semibold rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),l.jsx("button",{onClick:T,className:"px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700",children:"Save Permanent Menu"})]})]})}):l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:c,children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-lg",onClick:U=>U.stopPropagation(),children:[l.jsxs("h2",{className:"text-xl font-bold font-sans",children:["Edit Menu for: ",n]}),l.jsx("div",{className:"border-t my-4 border-gray-200 dark:border-gray-700"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Breakfast:"}),l.jsx("input",{type:"text",value:p,onChange:U=>b(U.target.value),className:"w-full mt-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Lunch:"}),l.jsx("input",{type:"text",value:g,onChange:U=>y(U.target.value),className:"w-full mt-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Dinner:"}),l.jsx("input",{type:"text",value:j,onChange:U=>N(U.target.value),className:"w-full mt-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors"})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 justify-end",children:[l.jsx("button",{onClick:c,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 font-semibold rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),l.jsx("button",{onClick:w,className:"px-4 py-2 bg-primary text-white font-semibold rounded-lg hover:bg-primary-600",children:"Save Changes"})]})]})})},i1=()=>{const{user:n}=ve(),{addToast:o}=_e(),[c,d]=k.useState(Ec()),[u,f]=k.useState(null),[h,p]=k.useState(!0);k.useEffect(()=>{(async()=>{if(!(n!=null&&n.khataId)){p(!1);return}try{p(!0);const j=await te.getMenu(n.khataId);j&&j.length>0?d(j):d(Ec())}catch(j){console.error("Error fetching menu:",j),o({type:"error",title:"Error",message:"Failed to load menu data"}),d(Ec())}finally{p(!1)}})()},[n==null?void 0:n.khataId]);const b=async(y,j)=>{if(n!=null&&n.khataId)try{if(await te.updateMenuDay(n.khataId,y,j)){d(v=>v.map(S=>S.day===y?{...S,...j}:S)),o({type:"success",title:"Menu Updated",message:`${y}'s menu has been saved for this week.`});const A=await te.getMenu(n.khataId);A&&A.length>0&&d(A)}else o({type:"error",title:"Error",message:"Failed to save menu"})}catch(N){console.error("Error saving menu:",N),o({type:"error",title:"Error",message:"Failed to save menu"})}},g=async y=>{if(n!=null&&n.khataId)try{if(await te.saveMenu(n.khataId,y,!0)){o({type:"success",title:"Permanent Menu Saved",message:"The permanent menu has been updated."});const N=await te.getMenu(n.khataId);N&&N.length>0&&d(N)}else o({type:"error",title:"Error",message:"Failed to save permanent menu"})}catch(j){console.error("Error saving permanent menu:",j),o({type:"error",title:"Error",message:"Failed to save permanent menu"})}};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(sh,{className:"w-8 h-8 text-primary"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"This Week's Menu"})]}),h?l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-8 text-center",children:l.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),l.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Loading menu..."})]})}):l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-4 overflow-x-auto",children:[l.jsxs("table",{className:"w-full min-w-max text-sm text-left",children:[l.jsx("thead",{className:"border-b dark:border-gray-700",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3",children:"Day"}),l.jsx("th",{className:"p-3",children:"Breakfast"}),l.jsx("th",{className:"p-3",children:"Lunch"}),l.jsx("th",{className:"p-3",children:"Dinner"}),(n==null?void 0:n.role)===he.Manager&&l.jsx("th",{className:"p-3 text-center",children:"Edit"})]})}),l.jsx("tbody",{children:c.map(y=>l.jsxs("tr",{className:"border-b dark:border-gray-700 last:border-b-0 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[l.jsx("td",{className:"p-3 font-semibold text-gray-800 dark:text-gray-100",children:y.day}),l.jsx("td",{className:"p-3 text-gray-600 dark:text-gray-300",children:y.breakfast||"-"}),l.jsx("td",{className:"p-3 text-gray-600 dark:text-gray-300",children:y.lunch||"-"}),l.jsx("td",{className:"p-3 text-gray-600 dark:text-gray-300",children:y.dinner||"-"}),(n==null?void 0:n.role)===he.Manager&&l.jsx("td",{className:"p-3 text-center",children:l.jsx("button",{onClick:()=>f(y.day),className:"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",children:l.jsx(Gc,{className:"w-5 h-5 text-primary"})})})]},y.day))})]}),(n==null?void 0:n.role)===he.Manager&&l.jsx("div",{className:"mt-4 pt-4 border-t dark:border-gray-700 text-right",children:l.jsx("button",{onClick:()=>f("Permanent"),className:"px-4 py-2 text-sm font-semibold bg-primary-100 text-primary dark:bg-primary-500/20 rounded-md hover:bg-primary-200 dark:hover:bg-primary-500/30",children:"Edit Permanent Menu"})})]})]}),u&&l.jsx(r1,{editingDay:u,menuData:c,onClose:()=>f(null),onSave:b,onSavePermanent:g})]})},o1=()=>{const{user:n,page:o,setPage:c}=ve();if(n)return n.roomStatus===es.NoRoom?n.role===he.Manager?l.jsx(vy,{}):l.jsx(jy,{}):n.roomStatus===es.Pending?l.jsx(Ny,{}):l.jsxs(by,{children:[o==="dashboard"&&l.jsx(Ib,{}),o.startsWith("bills")&&l.jsx(my,{}),o==="meals"&&l.jsx(Ay,{}),o==="shopping"&&l.jsx(zy,{}),o==="calendar"&&l.jsx(n1,{}),o==="menu"&&l.jsx(i1,{}),o==="members"&&l.jsx(Ly,{}),o==="history"&&l.jsx(Hy,{}),o==="reports-analytics"&&l.jsx(Py,{}),o==="payment-dashboard"&&l.jsx(Ky,{}),o==="pending-approvals"&&l.jsx($y,{}),o==="settings"&&l.jsx(Qy,{})]});switch(o){case"login":return l.jsx(Gb,{onNavigateToSignUp:()=>c("signup"),onNavigateToHome:()=>c("landing")});case"signup":return l.jsx(Vb,{onNavigateToLogin:()=>c("login")});case"landing":default:return l.jsx(yy,{onNavigateToLogin:()=>c("login"),onNavigateToSignUp:()=>c("signup")})}},c1=()=>l.jsx(vb,{children:l.jsx(yb,{children:l.jsxs(Zb,{children:[l.jsx(o1,{}),l.jsx(a1,{})]})})}),ch=document.getElementById("root");if(!ch)throw new Error("Could not find root element to mount to");const d1=Vg.createRoot(ch);d1.render(l.jsx(kf.StrictMode,{children:l.jsx(c1,{})}));
