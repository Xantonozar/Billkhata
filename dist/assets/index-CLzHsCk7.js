(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function d(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(u){if(u.ep)return;u.ep=!0;const f=d(u);fetch(u.href,f)}})();function Af(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jo={exports:{}},Is={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function _g(){if(Fm)return Is;Fm=1;var n=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function d(o,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var p in u)p!=="key"&&(f[p]=u[p])}else f=u;return u=f.ref,{$$typeof:n,type:o,key:h,ref:u!==void 0?u:null,props:f}}return Is.Fragment=c,Is.jsx=d,Is.jsxs=d,Is}var Km;function Ug(){return Km||(Km=1,jo.exports=_g()),jo.exports}var a=Ug(),No={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm;function Lg(){if(Jm)return fe;Jm=1;var n=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),k=Symbol.iterator;function D(S){return S===null||typeof S!="object"?null:(S=k&&S[k]||S["@@iterator"],typeof S=="function"?S:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,w={};function E(S,V,G){this.props=S,this.context=V,this.refs=w,this.updater=G||j}E.prototype.isReactComponent={},E.prototype.setState=function(S,V){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,V,"setState")},E.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function L(){}L.prototype=E.prototype;function H(S,V,G){this.props=S,this.context=V,this.refs=w,this.updater=G||j}var $=H.prototype=new L;$.constructor=H,C($,E.prototype),$.isPureReactComponent=!0;var q=Array.isArray;function Q(){}var I={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function F(S,V,G){var P=G.ref;return{$$typeof:n,type:S,key:V,ref:P!==void 0?P:null,props:G}}function K(S,V){return F(S.type,V,S.props)}function J(S){return typeof S=="object"&&S!==null&&S.$$typeof===n}function ue(S){var V={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(G){return V[G]})}var pe=/\/+/g;function ee(S,V){return typeof S=="object"&&S!==null&&S.key!=null?ue(""+S.key):V.toString(36)}function ce(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(Q,Q):(S.status="pending",S.then(function(V){S.status==="pending"&&(S.status="fulfilled",S.value=V)},function(V){S.status==="pending"&&(S.status="rejected",S.reason=V)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function R(S,V,G,P,se){var me=typeof S;(me==="undefined"||me==="boolean")&&(S=null);var ye=!1;if(S===null)ye=!0;else switch(me){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(S.$$typeof){case n:case c:ye=!0;break;case y:return ye=S._init,R(ye(S._payload),V,G,P,se)}}if(ye)return se=se(S),ye=P===""?"."+ee(S,0):P,q(se)?(G="",ye!=null&&(G=ye.replace(pe,"$&/")+"/"),R(se,V,G,"",function(Xa){return Xa})):se!=null&&(J(se)&&(se=K(se,G+(se.key==null||S&&S.key===se.key?"":(""+se.key).replace(pe,"$&/")+"/")+ye)),V.push(se)),1;ye=0;var Ge=P===""?".":P+":";if(q(S))for(var Oe=0;Oe<S.length;Oe++)P=S[Oe],me=Ge+ee(P,Oe),ye+=R(P,V,G,me,se);else if(Oe=D(S),typeof Oe=="function")for(S=Oe.call(S),Oe=0;!(P=S.next()).done;)P=P.value,me=Ge+ee(P,Oe++),ye+=R(P,V,G,me,se);else if(me==="object"){if(typeof S.then=="function")return R(ce(S),V,G,P,se);throw V=String(S),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ye}function W(S,V,G){if(S==null)return S;var P=[],se=0;return R(S,P,"","",function(me){return V.call(G,me,se++)}),P}function te(S){if(S._status===-1){var V=S._result;V=V(),V.then(function(G){(S._status===0||S._status===-1)&&(S._status=1,S._result=G)},function(G){(S._status===0||S._status===-1)&&(S._status=2,S._result=G)}),S._status===-1&&(S._status=0,S._result=V)}if(S._status===1)return S._result.default;throw S._result}var be=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},Ae={map:W,forEach:function(S,V,G){W(S,function(){V.apply(this,arguments)},G)},count:function(S){var V=0;return W(S,function(){V++}),V},toArray:function(S){return W(S,function(V){return V})||[]},only:function(S){if(!J(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return fe.Activity=v,fe.Children=Ae,fe.Component=E,fe.Fragment=d,fe.Profiler=u,fe.PureComponent=H,fe.StrictMode=o,fe.Suspense=b,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,fe.__COMPILER_RUNTIME={__proto__:null,c:function(S){return I.H.useMemoCache(S)}},fe.cache=function(S){return function(){return S.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(S,V,G){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var P=C({},S.props),se=S.key;if(V!=null)for(me in V.key!==void 0&&(se=""+V.key),V)!re.call(V,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&V.ref===void 0||(P[me]=V[me]);var me=arguments.length-2;if(me===1)P.children=G;else if(1<me){for(var ye=Array(me),Ge=0;Ge<me;Ge++)ye[Ge]=arguments[Ge+2];P.children=ye}return F(S.type,se,P)},fe.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:f,_context:S},S},fe.createElement=function(S,V,G){var P,se={},me=null;if(V!=null)for(P in V.key!==void 0&&(me=""+V.key),V)re.call(V,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(se[P]=V[P]);var ye=arguments.length-2;if(ye===1)se.children=G;else if(1<ye){for(var Ge=Array(ye),Oe=0;Oe<ye;Oe++)Ge[Oe]=arguments[Oe+2];se.children=Ge}if(S&&S.defaultProps)for(P in ye=S.defaultProps,ye)se[P]===void 0&&(se[P]=ye[P]);return F(S,me,se)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(S){return{$$typeof:p,render:S}},fe.isValidElement=J,fe.lazy=function(S){return{$$typeof:y,_payload:{_status:-1,_result:S},_init:te}},fe.memo=function(S,V){return{$$typeof:g,type:S,compare:V===void 0?null:V}},fe.startTransition=function(S){var V=I.T,G={};I.T=G;try{var P=S(),se=I.S;se!==null&&se(G,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(Q,be)}catch(me){be(me)}finally{V!==null&&G.types!==null&&(V.types=G.types),I.T=V}},fe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},fe.use=function(S){return I.H.use(S)},fe.useActionState=function(S,V,G){return I.H.useActionState(S,V,G)},fe.useCallback=function(S,V){return I.H.useCallback(S,V)},fe.useContext=function(S){return I.H.useContext(S)},fe.useDebugValue=function(){},fe.useDeferredValue=function(S,V){return I.H.useDeferredValue(S,V)},fe.useEffect=function(S,V){return I.H.useEffect(S,V)},fe.useEffectEvent=function(S){return I.H.useEffectEvent(S)},fe.useId=function(){return I.H.useId()},fe.useImperativeHandle=function(S,V,G){return I.H.useImperativeHandle(S,V,G)},fe.useInsertionEffect=function(S,V){return I.H.useInsertionEffect(S,V)},fe.useLayoutEffect=function(S,V){return I.H.useLayoutEffect(S,V)},fe.useMemo=function(S,V){return I.H.useMemo(S,V)},fe.useOptimistic=function(S,V){return I.H.useOptimistic(S,V)},fe.useReducer=function(S,V,G){return I.H.useReducer(S,V,G)},fe.useRef=function(S){return I.H.useRef(S)},fe.useState=function(S){return I.H.useState(S)},fe.useSyncExternalStore=function(S,V,G){return I.H.useSyncExternalStore(S,V,G)},fe.useTransition=function(){return I.H.useTransition()},fe.version="19.2.0",fe}var $m;function Lo(){return $m||($m=1,No.exports=Lg()),No.exports}var A=Lo();const Cf=Af(A);var wo={exports:{}},en={},ko={exports:{}},So={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function Hg(){return Wm||(Wm=1,(function(n){function c(R,W){var te=R.length;R.push(W);e:for(;0<te;){var be=te-1>>>1,Ae=R[be];if(0<u(Ae,W))R[be]=W,R[te]=Ae,te=be;else break e}}function d(R){return R.length===0?null:R[0]}function o(R){if(R.length===0)return null;var W=R[0],te=R.pop();if(te!==W){R[0]=te;e:for(var be=0,Ae=R.length,S=Ae>>>1;be<S;){var V=2*(be+1)-1,G=R[V],P=V+1,se=R[P];if(0>u(G,te))P<Ae&&0>u(se,G)?(R[be]=se,R[P]=te,be=P):(R[be]=G,R[V]=te,be=V);else if(P<Ae&&0>u(se,te))R[be]=se,R[P]=te,be=P;else break e}}return W}function u(R,W){var te=R.sortIndex-W.sortIndex;return te!==0?te:R.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();n.unstable_now=function(){return h.now()-p}}var b=[],g=[],y=1,v=null,k=3,D=!1,j=!1,C=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function $(R){for(var W=d(g);W!==null;){if(W.callback===null)o(g);else if(W.startTime<=R)o(g),W.sortIndex=W.expirationTime,c(b,W);else break;W=d(g)}}function q(R){if(C=!1,$(R),!j)if(d(b)!==null)j=!0,Q||(Q=!0,ue());else{var W=d(g);W!==null&&ce(q,W.startTime-R)}}var Q=!1,I=-1,re=5,F=-1;function K(){return w?!0:!(n.unstable_now()-F<re)}function J(){if(w=!1,Q){var R=n.unstable_now();F=R;var W=!0;try{e:{j=!1,C&&(C=!1,L(I),I=-1),D=!0;var te=k;try{t:{for($(R),v=d(b);v!==null&&!(v.expirationTime>R&&K());){var be=v.callback;if(typeof be=="function"){v.callback=null,k=v.priorityLevel;var Ae=be(v.expirationTime<=R);if(R=n.unstable_now(),typeof Ae=="function"){v.callback=Ae,$(R),W=!0;break t}v===d(b)&&o(b),$(R)}else o(b);v=d(b)}if(v!==null)W=!0;else{var S=d(g);S!==null&&ce(q,S.startTime-R),W=!1}}break e}finally{v=null,k=te,D=!1}W=void 0}}finally{W?ue():Q=!1}}}var ue;if(typeof H=="function")ue=function(){H(J)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,ee=pe.port2;pe.port1.onmessage=J,ue=function(){ee.postMessage(null)}}else ue=function(){E(J,0)};function ce(R,W){I=E(function(){R(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(R){R.callback=null},n.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<R?Math.floor(1e3/R):5},n.unstable_getCurrentPriorityLevel=function(){return k},n.unstable_next=function(R){switch(k){case 1:case 2:case 3:var W=3;break;default:W=k}var te=k;k=W;try{return R()}finally{k=te}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(R,W){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var te=k;k=R;try{return W()}finally{k=te}},n.unstable_scheduleCallback=function(R,W,te){var be=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?be+te:be):te=be,R){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=te+Ae,R={id:y++,callback:W,priorityLevel:R,startTime:te,expirationTime:Ae,sortIndex:-1},te>be?(R.sortIndex=te,c(g,R),d(b)===null&&R===d(g)&&(C?(L(I),I=-1):C=!0,ce(q,te-be))):(R.sortIndex=Ae,c(b,R),j||D||(j=!0,Q||(Q=!0,ue()))),R},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(R){var W=k;return function(){var te=k;k=W;try{return R.apply(this,arguments)}finally{k=te}}}})(So)),So}var Pm;function qg(){return Pm||(Pm=1,ko.exports=Hg()),ko.exports}var Mo={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function Yg(){if(Im)return ot;Im=1;var n=Lo();function c(b){var g="https://react.dev/errors/"+b;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+b+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var o={d:{f:d,r:function(){throw Error(c(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(b,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:v==null?null:""+v,children:b,containerInfo:g,implementation:y}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(b,g){if(b==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ot.createPortal=function(b,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(c(299));return f(b,g,null,y)},ot.flushSync=function(b){var g=h.T,y=o.p;try{if(h.T=null,o.p=2,b)return b()}finally{h.T=g,o.p=y,o.d.f()}},ot.preconnect=function(b,g){typeof b=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(b,g))},ot.prefetchDNS=function(b){typeof b=="string"&&o.d.D(b)},ot.preinit=function(b,g){if(typeof b=="string"&&g&&typeof g.as=="string"){var y=g.as,v=p(y,g.crossOrigin),k=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?o.d.S(b,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:k,fetchPriority:D}):y==="script"&&o.d.X(b,{crossOrigin:v,integrity:k,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ot.preinitModule=function(b,g){if(typeof b=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=p(g.as,g.crossOrigin);o.d.M(b,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(b)},ot.preload=function(b,g){if(typeof b=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=p(y,g.crossOrigin);o.d.L(b,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ot.preloadModule=function(b,g){if(typeof b=="string")if(g){var y=p(g.as,g.crossOrigin);o.d.m(b,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(b)},ot.requestFormReset=function(b){o.d.r(b)},ot.unstable_batchedUpdates=function(b,g){return b(g)},ot.useFormState=function(b,g,y){return h.H.useFormState(b,g,y)},ot.useFormStatus=function(){return h.H.useHostTransitionStatus()},ot.version="19.2.0",ot}var ef;function Gg(){if(ef)return Mo.exports;ef=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(c){console.error(c)}}return n(),Mo.exports=Yg(),Mo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tf;function Vg(){if(tf)return en;tf=1;var n=qg(),c=Lo(),d=Gg();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(f(e)!==e)throw Error(o(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var l=e,s=t;;){var r=l.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){l=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===l)return b(r),e;if(i===s)return b(r),t;i=i.sibling}throw Error(o(188))}if(l.return!==s.return)l=r,s=i;else{for(var m=!1,x=r.child;x;){if(x===l){m=!0,l=r,s=i;break}if(x===s){m=!0,s=r,l=i;break}x=x.sibling}if(!m){for(x=i.child;x;){if(x===l){m=!0,l=i,s=r;break}if(x===s){m=!0,s=i,l=r;break}x=x.sibling}if(!m)throw Error(o(189))}}if(l.alternate!==s)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,k=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),H=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=J&&e[J]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===pe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case q:return"Suspense";case Q:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case H:return e.displayName||"Context";case L:return(e._context.displayName||"Context")+".Consumer";case $:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return t=e.displayName||null,t!==null?t:ee(e.type)||"Memo";case re:t=e._payload,e=e._init;try{return ee(e(t))}catch{}}return null}var ce=Array.isArray,R=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},be=[],Ae=-1;function S(e){return{current:e}}function V(e){0>Ae||(e.current=be[Ae],be[Ae]=null,Ae--)}function G(e,t){Ae++,be[Ae]=e.current,e.current=t}var P=S(null),se=S(null),me=S(null),ye=S(null);function Ge(e,t){switch(G(me,t),G(se,e),G(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?gm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=gm(t),e=pm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(P),G(P,e)}function Oe(){V(P),V(se),V(me)}function Xa(e){e.memoizedState!==null&&G(ye,e);var t=P.current,l=pm(t,e.type);t!==l&&(G(se,e),G(P,l))}function xn(e){se.current===e&&(V(P),V(se)),ye.current===e&&(V(ye),Js._currentValue=te)}var ai,Zo;function Qa(e){if(ai===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);ai=t&&t[1]||"",Zo=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ai+e+Zo}var li=!1;function si(e,t){if(!e||li)return"";li=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(U){var B=U}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(U){B=U}e.call(Z.prototype)}}else{try{throw Error()}catch(U){B=U}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(U){if(U&&B&&typeof U.stack=="string")return[U.stack,B.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),m=i[0],x=i[1];if(m&&x){var N=m.split(`
`),z=x.split(`
`);for(r=s=0;s<N.length&&!N[s].includes("DetermineComponentFrameRoot");)s++;for(;r<z.length&&!z[r].includes("DetermineComponentFrameRoot");)r++;if(s===N.length||r===z.length)for(s=N.length-1,r=z.length-1;1<=s&&0<=r&&N[s]!==z[r];)r--;for(;1<=s&&0<=r;s--,r--)if(N[s]!==z[r]){if(s!==1||r!==1)do if(s--,r--,0>r||N[s]!==z[r]){var Y=`
`+N[s].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=s&&0<=r);break}}}finally{li=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Qa(l):""}function fh(e,t){switch(e.tag){case 26:case 27:case 5:return Qa(e.type);case 16:return Qa("Lazy");case 13:return e.child!==t&&t!==null?Qa("Suspense Fallback"):Qa("Suspense");case 19:return Qa("SuspenseList");case 0:case 15:return si(e.type,!1);case 11:return si(e.type.render,!1);case 1:return si(e.type,!0);case 31:return Qa("Activity");default:return""}}function Fo(e){try{var t="",l=null;do t+=fh(e,l),l=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var ni=Object.prototype.hasOwnProperty,ri=n.unstable_scheduleCallback,ii=n.unstable_cancelCallback,hh=n.unstable_shouldYield,xh=n.unstable_requestPaint,Nt=n.unstable_now,gh=n.unstable_getCurrentPriorityLevel,Ko=n.unstable_ImmediatePriority,Jo=n.unstable_UserBlockingPriority,gn=n.unstable_NormalPriority,ph=n.unstable_LowPriority,$o=n.unstable_IdlePriority,bh=n.log,yh=n.unstable_setDisableYieldValue,is=null,wt=null;function pa(e){if(typeof bh=="function"&&yh(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(is,e)}catch{}}var kt=Math.clz32?Math.clz32:Nh,vh=Math.log,jh=Math.LN2;function Nh(e){return e>>>=0,e===0?32:31-(vh(e)/jh|0)|0}var pn=256,bn=262144,yn=4194304;function Za(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vn(e,t,l){var s=e.pendingLanes;if(s===0)return 0;var r=0,i=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var x=s&134217727;return x!==0?(s=x&~i,s!==0?r=Za(s):(m&=x,m!==0?r=Za(m):l||(l=x&~e,l!==0&&(r=Za(l))))):(x=s&~i,x!==0?r=Za(x):m!==0?r=Za(m):l||(l=s&~e,l!==0&&(r=Za(l)))),r===0?0:t!==0&&t!==r&&(t&i)===0&&(i=r&-r,l=t&-t,i>=l||i===32&&(l&4194048)!==0)?t:r}function cs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function wh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wo(){var e=yn;return yn<<=1,(yn&62914560)===0&&(yn=4194304),e}function ci(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function os(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kh(e,t,l,s,r,i){var m=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var x=e.entanglements,N=e.expirationTimes,z=e.hiddenUpdates;for(l=m&~l;0<l;){var Y=31-kt(l),Z=1<<Y;x[Y]=0,N[Y]=-1;var B=z[Y];if(B!==null)for(z[Y]=null,Y=0;Y<B.length;Y++){var U=B[Y];U!==null&&(U.lane&=-536870913)}l&=~Z}s!==0&&Po(e,s,0),i!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=i&~(m&~t))}function Po(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-kt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function Io(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var s=31-kt(l),r=1<<s;r&t|e[s]&t&&(e[s]|=t),l&=~r}}function ed(e,t){var l=t&-t;return l=(l&42)!==0?1:oi(l),(l&(e.suspendedLanes|t))!==0?0:l}function oi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function td(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:qm(e.type))}function ad(e,t){var l=W.p;try{return W.p=e,t()}finally{W.p=l}}var ba=Math.random().toString(36).slice(2),lt="__reactFiber$"+ba,mt="__reactProps$"+ba,xl="__reactContainer$"+ba,ui="__reactEvents$"+ba,Sh="__reactListeners$"+ba,Mh="__reactHandles$"+ba,ld="__reactResources$"+ba,ds="__reactMarker$"+ba;function mi(e){delete e[lt],delete e[mt],delete e[ui],delete e[Sh],delete e[Mh]}function gl(e){var t=e[lt];if(t)return t;for(var l=e.parentNode;l;){if(t=l[xl]||l[lt]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=km(e);e!==null;){if(l=e[lt])return l;e=km(e)}return t}e=l,l=e.parentNode}return null}function pl(e){if(e=e[lt]||e[xl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function us(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function bl(e){var t=e[ld];return t||(t=e[ld]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[ds]=!0}var sd=new Set,nd={};function Fa(e,t){yl(e,t),yl(e+"Capture",t)}function yl(e,t){for(nd[e]=t,e=0;e<t.length;e++)sd.add(t[e])}var Ah=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rd={},id={};function Ch(e){return ni.call(id,e)?!0:ni.call(rd,e)?!1:Ah.test(e)?id[e]=!0:(rd[e]=!0,!1)}function jn(e,t,l){if(Ch(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Nn(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function It(e,t,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+s)}}function Ot(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Dh(e,t,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(m){l=""+m,i.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(m){l=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fi(e){if(!e._valueTracker){var t=cd(e)?"checked":"value";e._valueTracker=Dh(e,t,""+e[t])}}function od(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),s="";return e&&(s=cd(e)?e.checked?"true":"false":e.value),e=s,e!==l?(t.setValue(e),!0):!1}function wn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Eh=/[\n"\\]/g;function zt(e){return e.replace(Eh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function hi(e,t,l,s,r,i,m,x){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ot(t)):e.value!==""+Ot(t)&&(e.value=""+Ot(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?xi(e,m,Ot(t)):l!=null?xi(e,m,Ot(l)):s!=null&&e.removeAttribute("value"),r==null&&i!=null&&(e.defaultChecked=!!i),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Ot(x):e.removeAttribute("name")}function dd(e,t,l,s,r,i,m,x){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){fi(e);return}l=l!=null?""+Ot(l):"",t=t!=null?""+Ot(t):l,x||t===e.value||(e.value=t),e.defaultValue=t}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=x?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),fi(e)}function xi(e,t,l){t==="number"&&wn(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function vl(e,t,l,s){if(e=e.options,t){t={};for(var r=0;r<l.length;r++)t["$"+l[r]]=!0;for(l=0;l<e.length;l++)r=t.hasOwnProperty("$"+e[l].value),e[l].selected!==r&&(e[l].selected=r),r&&s&&(e[l].defaultSelected=!0)}else{for(l=""+Ot(l),t=null,r=0;r<e.length;r++){if(e[r].value===l){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function ud(e,t,l){if(t!=null&&(t=""+Ot(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Ot(l):""}function md(e,t,l,s){if(t==null){if(s!=null){if(l!=null)throw Error(o(92));if(ce(s)){if(1<s.length)throw Error(o(93));s=s[0]}l=s}l==null&&(l=""),t=l}l=Ot(t),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),fi(e)}function jl(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var Th=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fd(e,t,l){var s=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,l):typeof l!="number"||l===0||Th.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function hd(e,t,l){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&l[r]!==s&&fd(e,r,s)}else for(var i in t)t.hasOwnProperty(i)&&fd(e,i,t[i])}function gi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kn(e){return Oh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ea(){}var pi=null;function bi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nl=null,wl=null;function xd(e){var t=pl(e);if(t&&(e=t.stateNode)){var l=e[mt]||null;e:switch(e=t.stateNode,t.type){case"input":if(hi(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+zt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var s=l[t];if(s!==e&&s.form===e.form){var r=s[mt]||null;if(!r)throw Error(o(90));hi(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<l.length;t++)s=l[t],s.form===e.form&&od(s)}break e;case"textarea":ud(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&vl(e,!!l.multiple,t,!1)}}}var yi=!1;function gd(e,t,l){if(yi)return e(t,l);yi=!0;try{var s=e(t);return s}finally{if(yi=!1,(Nl!==null||wl!==null)&&(ur(),Nl&&(t=Nl,e=wl,wl=Nl=null,xd(t),e)))for(t=0;t<e.length;t++)xd(e[t])}}function ms(e,t){var l=e.stateNode;if(l===null)return null;var s=l[mt]||null;if(s===null)return null;l=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,t,typeof l));return l}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vi=!1;if(ta)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){vi=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{vi=!1}var ya=null,ji=null,Sn=null;function pd(){if(Sn)return Sn;var e,t=ji,l=t.length,s,r="value"in ya?ya.value:ya.textContent,i=r.length;for(e=0;e<l&&t[e]===r[e];e++);var m=l-e;for(s=1;s<=m&&t[l-s]===r[i-s];s++);return Sn=r.slice(e,1<s?1-s:void 0)}function Mn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function An(){return!0}function bd(){return!1}function ft(e){function t(l,s,r,i,m){this._reactName=l,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=m,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(l=e[x],this[x]=l?l(i):i[x]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?An:bd,this.isPropagationStopped=bd,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=An)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=An)},persist:function(){},isPersistent:An}),t}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cn=ft(Ka),hs=v({},Ka,{view:0,detail:0}),zh=ft(hs),Ni,wi,xs,Dn=v({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Si,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xs&&(xs&&e.type==="mousemove"?(Ni=e.screenX-xs.screenX,wi=e.screenY-xs.screenY):wi=Ni=0,xs=e),Ni)},movementY:function(e){return"movementY"in e?e.movementY:wi}}),yd=ft(Dn),Bh=v({},Dn,{dataTransfer:0}),_h=ft(Bh),Uh=v({},hs,{relatedTarget:0}),ki=ft(Uh),Lh=v({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),Hh=ft(Lh),qh=v({},Ka,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yh=ft(qh),Gh=v({},Ka,{data:0}),vd=ft(Gh),Vh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qh[e])?!!t[e]:!1}function Si(){return Zh}var Fh=v({},hs,{key:function(e){if(e.key){var t=Vh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Si,charCode:function(e){return e.type==="keypress"?Mn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kh=ft(Fh),Jh=v({},Dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jd=ft(Jh),$h=v({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Si}),Wh=ft($h),Ph=v({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ih=ft(Ph),ex=v({},Dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tx=ft(ex),ax=v({},Ka,{newState:0,oldState:0}),lx=ft(ax),sx=[9,13,27,32],Mi=ta&&"CompositionEvent"in window,gs=null;ta&&"documentMode"in document&&(gs=document.documentMode);var nx=ta&&"TextEvent"in window&&!gs,Nd=ta&&(!Mi||gs&&8<gs&&11>=gs),wd=" ",kd=!1;function Sd(e,t){switch(e){case"keyup":return sx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Md(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kl=!1;function rx(e,t){switch(e){case"compositionend":return Md(t);case"keypress":return t.which!==32?null:(kd=!0,wd);case"textInput":return e=t.data,e===wd&&kd?null:e;default:return null}}function ix(e,t){if(kl)return e==="compositionend"||!Mi&&Sd(e,t)?(e=pd(),Sn=ji=ya=null,kl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nd&&t.locale!=="ko"?null:t.data;default:return null}}var cx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cx[e.type]:t==="textarea"}function Cd(e,t,l,s){Nl?wl?wl.push(s):wl=[s]:Nl=s,t=br(t,"onChange"),0<t.length&&(l=new Cn("onChange","change",null,l,s),e.push({event:l,listeners:t}))}var ps=null,bs=null;function ox(e){dm(e,0)}function En(e){var t=us(e);if(od(t))return e}function Dd(e,t){if(e==="change")return t}var Ed=!1;if(ta){var Ai;if(ta){var Ci="oninput"in document;if(!Ci){var Td=document.createElement("div");Td.setAttribute("oninput","return;"),Ci=typeof Td.oninput=="function"}Ai=Ci}else Ai=!1;Ed=Ai&&(!document.documentMode||9<document.documentMode)}function Rd(){ps&&(ps.detachEvent("onpropertychange",Od),bs=ps=null)}function Od(e){if(e.propertyName==="value"&&En(bs)){var t=[];Cd(t,bs,e,bi(e)),gd(ox,t)}}function dx(e,t,l){e==="focusin"?(Rd(),ps=t,bs=l,ps.attachEvent("onpropertychange",Od)):e==="focusout"&&Rd()}function ux(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return En(bs)}function mx(e,t){if(e==="click")return En(t)}function fx(e,t){if(e==="input"||e==="change")return En(t)}function hx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:hx;function ys(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),s=Object.keys(t);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var r=l[s];if(!ni.call(t,r)||!St(e[r],t[r]))return!1}return!0}function zd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bd(e,t){var l=zd(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=t&&s>=t)return{node:l,offset:t-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=zd(l)}}function _d(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_d(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ud(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=wn(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=wn(e.document)}return t}function Di(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var xx=ta&&"documentMode"in document&&11>=document.documentMode,Sl=null,Ei=null,vs=null,Ti=!1;function Ld(e,t,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ti||Sl==null||Sl!==wn(s)||(s=Sl,"selectionStart"in s&&Di(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),vs&&ys(vs,s)||(vs=s,s=br(Ei,"onSelect"),0<s.length&&(t=new Cn("onSelect","select",null,t,l),e.push({event:t,listeners:s}),t.target=Sl)))}function Ja(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var Ml={animationend:Ja("Animation","AnimationEnd"),animationiteration:Ja("Animation","AnimationIteration"),animationstart:Ja("Animation","AnimationStart"),transitionrun:Ja("Transition","TransitionRun"),transitionstart:Ja("Transition","TransitionStart"),transitioncancel:Ja("Transition","TransitionCancel"),transitionend:Ja("Transition","TransitionEnd")},Ri={},Hd={};ta&&(Hd=document.createElement("div").style,"AnimationEvent"in window||(delete Ml.animationend.animation,delete Ml.animationiteration.animation,delete Ml.animationstart.animation),"TransitionEvent"in window||delete Ml.transitionend.transition);function $a(e){if(Ri[e])return Ri[e];if(!Ml[e])return e;var t=Ml[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Hd)return Ri[e]=t[l];return e}var qd=$a("animationend"),Yd=$a("animationiteration"),Gd=$a("animationstart"),gx=$a("transitionrun"),px=$a("transitionstart"),bx=$a("transitioncancel"),Vd=$a("transitionend"),Xd=new Map,Oi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oi.push("scrollEnd");function Vt(e,t){Xd.set(e,t),Fa(t,[e])}var Tn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bt=[],Al=0,zi=0;function Rn(){for(var e=Al,t=zi=Al=0;t<e;){var l=Bt[t];Bt[t++]=null;var s=Bt[t];Bt[t++]=null;var r=Bt[t];Bt[t++]=null;var i=Bt[t];if(Bt[t++]=null,s!==null&&r!==null){var m=s.pending;m===null?r.next=r:(r.next=m.next,m.next=r),s.pending=r}i!==0&&Qd(l,r,i)}}function On(e,t,l,s){Bt[Al++]=e,Bt[Al++]=t,Bt[Al++]=l,Bt[Al++]=s,zi|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Bi(e,t,l,s){return On(e,t,l,s),zn(e)}function Wa(e,t){return On(e,null,null,t),zn(e)}function Qd(e,t,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var r=!1,i=e.return;i!==null;)i.childLanes|=l,s=i.alternate,s!==null&&(s.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(r=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,r&&t!==null&&(r=31-kt(l),e=i.hiddenUpdates,s=e[r],s===null?e[r]=[t]:s.push(t),t.lane=l|536870912),i):null}function zn(e){if(50<Gs)throw Gs=0,Xc=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Cl={};function yx(e,t,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,l,s){return new yx(e,t,l,s)}function _i(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aa(e,t){var l=e.alternate;return l===null?(l=Mt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Zd(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bn(e,t,l,s,r,i){var m=0;if(s=e,typeof e=="function")_i(e)&&(m=1);else if(typeof e=="string")m=kg(e,l,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=Mt(31,l,t,r),e.elementType=F,e.lanes=i,e;case C:return Pa(l.children,r,i,t);case w:m=8,r|=24;break;case E:return e=Mt(12,l,t,r|2),e.elementType=E,e.lanes=i,e;case q:return e=Mt(13,l,t,r),e.elementType=q,e.lanes=i,e;case Q:return e=Mt(19,l,t,r),e.elementType=Q,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:m=10;break e;case L:m=9;break e;case $:m=11;break e;case I:m=14;break e;case re:m=16,s=null;break e}m=29,l=Error(o(130,e===null?"null":typeof e,"")),s=null}return t=Mt(m,l,t,r),t.elementType=e,t.type=s,t.lanes=i,t}function Pa(e,t,l,s){return e=Mt(7,e,s,t),e.lanes=l,e}function Ui(e,t,l){return e=Mt(6,e,null,t),e.lanes=l,e}function Fd(e){var t=Mt(18,null,null,0);return t.stateNode=e,t}function Li(e,t,l){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kd=new WeakMap;function _t(e,t){if(typeof e=="object"&&e!==null){var l=Kd.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Fo(t)},Kd.set(e,t),t)}return{value:e,source:t,stack:Fo(t)}}var Dl=[],El=0,_n=null,js=0,Ut=[],Lt=0,va=null,Kt=1,Jt="";function la(e,t){Dl[El++]=js,Dl[El++]=_n,_n=e,js=t}function Jd(e,t,l){Ut[Lt++]=Kt,Ut[Lt++]=Jt,Ut[Lt++]=va,va=e;var s=Kt;e=Jt;var r=32-kt(s)-1;s&=~(1<<r),l+=1;var i=32-kt(t)+r;if(30<i){var m=r-r%5;i=(s&(1<<m)-1).toString(32),s>>=m,r-=m,Kt=1<<32-kt(t)+r|l<<r|s,Jt=i+e}else Kt=1<<i|l<<r|s,Jt=e}function Hi(e){e.return!==null&&(la(e,1),Jd(e,1,0))}function qi(e){for(;e===_n;)_n=Dl[--El],Dl[El]=null,js=Dl[--El],Dl[El]=null;for(;e===va;)va=Ut[--Lt],Ut[Lt]=null,Jt=Ut[--Lt],Ut[Lt]=null,Kt=Ut[--Lt],Ut[Lt]=null}function $d(e,t){Ut[Lt++]=Kt,Ut[Lt++]=Jt,Ut[Lt++]=va,Kt=t.id,Jt=t.overflow,va=e}var st=null,He=null,Me=!1,ja=null,Ht=!1,Yi=Error(o(519));function Na(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ns(_t(t,e)),Yi}function Wd(e){var t=e.stateNode,l=e.type,s=e.memoizedProps;switch(t[lt]=e,t[mt]=s,l){case"dialog":Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":case"embed":Ne("load",t);break;case"video":case"audio":for(l=0;l<Xs.length;l++)Ne(Xs[l],t);break;case"source":Ne("error",t);break;case"img":case"image":case"link":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"input":Ne("invalid",t),dd(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ne("invalid",t);break;case"textarea":Ne("invalid",t),md(t,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||s.suppressHydrationWarning===!0||hm(t.textContent,l)?(s.popover!=null&&(Ne("beforetoggle",t),Ne("toggle",t)),s.onScroll!=null&&Ne("scroll",t),s.onScrollEnd!=null&&Ne("scrollend",t),s.onClick!=null&&(t.onclick=ea),t=!0):t=!1,t||Na(e,!0)}function Pd(e){for(st=e.return;st;)switch(st.tag){case 5:case 31:case 13:Ht=!1;return;case 27:case 3:Ht=!0;return;default:st=st.return}}function Tl(e){if(e!==st)return!1;if(!Me)return Pd(e),Me=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||no(e.type,e.memoizedProps)),l=!l),l&&He&&Na(e),Pd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));He=wm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));He=wm(e)}else t===27?(t=He,_a(e.type)?(e=uo,uo=null,He=e):He=t):He=st?Yt(e.stateNode.nextSibling):null;return!0}function Ia(){He=st=null,Me=!1}function Gi(){var e=ja;return e!==null&&(pt===null?pt=e:pt.push.apply(pt,e),ja=null),e}function Ns(e){ja===null?ja=[e]:ja.push(e)}var Vi=S(null),el=null,sa=null;function wa(e,t,l){G(Vi,t._currentValue),t._currentValue=l}function na(e){e._currentValue=Vi.current,V(Vi)}function Xi(e,t,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===l)break;e=e.return}}function Qi(e,t,l,s){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var i=r.dependencies;if(i!==null){var m=r.child;i=i.firstContext;e:for(;i!==null;){var x=i;i=r;for(var N=0;N<t.length;N++)if(x.context===t[N]){i.lanes|=l,x=i.alternate,x!==null&&(x.lanes|=l),Xi(i.return,l,e),s||(m=null);break e}i=x.next}}else if(r.tag===18){if(m=r.return,m===null)throw Error(o(341));m.lanes|=l,i=m.alternate,i!==null&&(i.lanes|=l),Xi(m,l,e),m=null}else m=r.child;if(m!==null)m.return=r;else for(m=r;m!==null;){if(m===e){m=null;break}if(r=m.sibling,r!==null){r.return=m.return,m=r;break}m=m.return}r=m}}function Rl(e,t,l,s){e=null;for(var r=t,i=!1;r!==null;){if(!i){if((r.flags&524288)!==0)i=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var m=r.alternate;if(m===null)throw Error(o(387));if(m=m.memoizedProps,m!==null){var x=r.type;St(r.pendingProps.value,m.value)||(e!==null?e.push(x):e=[x])}}else if(r===ye.current){if(m=r.alternate,m===null)throw Error(o(387));m.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Js):e=[Js])}r=r.return}e!==null&&Qi(t,e,l,s),t.flags|=262144}function Un(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function tl(e){el=e,sa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nt(e){return Id(el,e)}function Ln(e,t){return el===null&&tl(e),Id(e,t)}function Id(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},sa===null){if(e===null)throw Error(o(308));sa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else sa=sa.next=t;return l}var vx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},jx=n.unstable_scheduleCallback,Nx=n.unstable_NormalPriority,Ke={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zi(){return{controller:new vx,data:new Map,refCount:0}}function ws(e){e.refCount--,e.refCount===0&&jx(Nx,function(){e.controller.abort()})}var ks=null,Fi=0,Ol=0,zl=null;function wx(e,t){if(ks===null){var l=ks=[];Fi=0,Ol=$c(),zl={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Fi++,t.then(eu,eu),t}function eu(){if(--Fi===0&&ks!==null){zl!==null&&(zl.status="fulfilled");var e=ks;ks=null,Ol=0,zl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function kx(e,t){var l=[],s={status:"pending",value:null,reason:null,then:function(r){l.push(r)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var r=0;r<l.length;r++)(0,l[r])(t)},function(r){for(s.status="rejected",s.reason=r,r=0;r<l.length;r++)(0,l[r])(void 0)}),s}var tu=R.S;R.S=function(e,t){L0=Nt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&wx(e,t),tu!==null&&tu(e,t)};var al=S(null);function Ki(){var e=al.current;return e!==null?e:Ue.pooledCache}function Hn(e,t){t===null?G(al,al.current):G(al,t.pool)}function au(){var e=Ki();return e===null?null:{parent:Ke._currentValue,pool:e}}var Bl=Error(o(460)),Ji=Error(o(474)),qn=Error(o(542)),Yn={then:function(){}};function lu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function su(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(ea,ea),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ru(e),e;default:if(typeof t.status=="string")t.then(ea,ea);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=s}},function(s){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ru(e),e}throw sl=t,Bl}}function ll(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(sl=l,Bl):l}}var sl=null;function nu(){if(sl===null)throw Error(o(459));var e=sl;return sl=null,e}function ru(e){if(e===Bl||e===qn)throw Error(o(483))}var _l=null,Ss=0;function Gn(e){var t=Ss;return Ss+=1,_l===null&&(_l=[]),su(_l,e,t)}function Ms(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Vn(e,t){throw t.$$typeof===k?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function iu(e){function t(T,M){if(e){var O=T.deletions;O===null?(T.deletions=[M],T.flags|=16):O.push(M)}}function l(T,M){if(!e)return null;for(;M!==null;)t(T,M),M=M.sibling;return null}function s(T){for(var M=new Map;T!==null;)T.key!==null?M.set(T.key,T):M.set(T.index,T),T=T.sibling;return M}function r(T,M){return T=aa(T,M),T.index=0,T.sibling=null,T}function i(T,M,O){return T.index=O,e?(O=T.alternate,O!==null?(O=O.index,O<M?(T.flags|=67108866,M):O):(T.flags|=67108866,M)):(T.flags|=1048576,M)}function m(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function x(T,M,O,X){return M===null||M.tag!==6?(M=Ui(O,T.mode,X),M.return=T,M):(M=r(M,O),M.return=T,M)}function N(T,M,O,X){var ie=O.type;return ie===C?Y(T,M,O.props.children,X,O.key):M!==null&&(M.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===re&&ll(ie)===M.type)?(M=r(M,O.props),Ms(M,O),M.return=T,M):(M=Bn(O.type,O.key,O.props,null,T.mode,X),Ms(M,O),M.return=T,M)}function z(T,M,O,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==O.containerInfo||M.stateNode.implementation!==O.implementation?(M=Li(O,T.mode,X),M.return=T,M):(M=r(M,O.children||[]),M.return=T,M)}function Y(T,M,O,X,ie){return M===null||M.tag!==7?(M=Pa(O,T.mode,X,ie),M.return=T,M):(M=r(M,O),M.return=T,M)}function Z(T,M,O){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Ui(""+M,T.mode,O),M.return=T,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case D:return O=Bn(M.type,M.key,M.props,null,T.mode,O),Ms(O,M),O.return=T,O;case j:return M=Li(M,T.mode,O),M.return=T,M;case re:return M=ll(M),Z(T,M,O)}if(ce(M)||ue(M))return M=Pa(M,T.mode,O,null),M.return=T,M;if(typeof M.then=="function")return Z(T,Gn(M),O);if(M.$$typeof===H)return Z(T,Ln(T,M),O);Vn(T,M)}return null}function B(T,M,O,X){var ie=M!==null?M.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return ie!==null?null:x(T,M,""+O,X);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case D:return O.key===ie?N(T,M,O,X):null;case j:return O.key===ie?z(T,M,O,X):null;case re:return O=ll(O),B(T,M,O,X)}if(ce(O)||ue(O))return ie!==null?null:Y(T,M,O,X,null);if(typeof O.then=="function")return B(T,M,Gn(O),X);if(O.$$typeof===H)return B(T,M,Ln(T,O),X);Vn(T,O)}return null}function U(T,M,O,X,ie){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return T=T.get(O)||null,x(M,T,""+X,ie);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case D:return T=T.get(X.key===null?O:X.key)||null,N(M,T,X,ie);case j:return T=T.get(X.key===null?O:X.key)||null,z(M,T,X,ie);case re:return X=ll(X),U(T,M,O,X,ie)}if(ce(X)||ue(X))return T=T.get(O)||null,Y(M,T,X,ie,null);if(typeof X.then=="function")return U(T,M,O,Gn(X),ie);if(X.$$typeof===H)return U(T,M,O,Ln(M,X),ie);Vn(M,X)}return null}function le(T,M,O,X){for(var ie=null,Ce=null,ne=M,ge=M=0,Se=null;ne!==null&&ge<O.length;ge++){ne.index>ge?(Se=ne,ne=null):Se=ne.sibling;var De=B(T,ne,O[ge],X);if(De===null){ne===null&&(ne=Se);break}e&&ne&&De.alternate===null&&t(T,ne),M=i(De,M,ge),Ce===null?ie=De:Ce.sibling=De,Ce=De,ne=Se}if(ge===O.length)return l(T,ne),Me&&la(T,ge),ie;if(ne===null){for(;ge<O.length;ge++)ne=Z(T,O[ge],X),ne!==null&&(M=i(ne,M,ge),Ce===null?ie=ne:Ce.sibling=ne,Ce=ne);return Me&&la(T,ge),ie}for(ne=s(ne);ge<O.length;ge++)Se=U(ne,T,ge,O[ge],X),Se!==null&&(e&&Se.alternate!==null&&ne.delete(Se.key===null?ge:Se.key),M=i(Se,M,ge),Ce===null?ie=Se:Ce.sibling=Se,Ce=Se);return e&&ne.forEach(function(Ya){return t(T,Ya)}),Me&&la(T,ge),ie}function de(T,M,O,X){if(O==null)throw Error(o(151));for(var ie=null,Ce=null,ne=M,ge=M=0,Se=null,De=O.next();ne!==null&&!De.done;ge++,De=O.next()){ne.index>ge?(Se=ne,ne=null):Se=ne.sibling;var Ya=B(T,ne,De.value,X);if(Ya===null){ne===null&&(ne=Se);break}e&&ne&&Ya.alternate===null&&t(T,ne),M=i(Ya,M,ge),Ce===null?ie=Ya:Ce.sibling=Ya,Ce=Ya,ne=Se}if(De.done)return l(T,ne),Me&&la(T,ge),ie;if(ne===null){for(;!De.done;ge++,De=O.next())De=Z(T,De.value,X),De!==null&&(M=i(De,M,ge),Ce===null?ie=De:Ce.sibling=De,Ce=De);return Me&&la(T,ge),ie}for(ne=s(ne);!De.done;ge++,De=O.next())De=U(ne,T,ge,De.value,X),De!==null&&(e&&De.alternate!==null&&ne.delete(De.key===null?ge:De.key),M=i(De,M,ge),Ce===null?ie=De:Ce.sibling=De,Ce=De);return e&&ne.forEach(function(Bg){return t(T,Bg)}),Me&&la(T,ge),ie}function _e(T,M,O,X){if(typeof O=="object"&&O!==null&&O.type===C&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case D:e:{for(var ie=O.key;M!==null;){if(M.key===ie){if(ie=O.type,ie===C){if(M.tag===7){l(T,M.sibling),X=r(M,O.props.children),X.return=T,T=X;break e}}else if(M.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===re&&ll(ie)===M.type){l(T,M.sibling),X=r(M,O.props),Ms(X,O),X.return=T,T=X;break e}l(T,M);break}else t(T,M);M=M.sibling}O.type===C?(X=Pa(O.props.children,T.mode,X,O.key),X.return=T,T=X):(X=Bn(O.type,O.key,O.props,null,T.mode,X),Ms(X,O),X.return=T,T=X)}return m(T);case j:e:{for(ie=O.key;M!==null;){if(M.key===ie)if(M.tag===4&&M.stateNode.containerInfo===O.containerInfo&&M.stateNode.implementation===O.implementation){l(T,M.sibling),X=r(M,O.children||[]),X.return=T,T=X;break e}else{l(T,M);break}else t(T,M);M=M.sibling}X=Li(O,T.mode,X),X.return=T,T=X}return m(T);case re:return O=ll(O),_e(T,M,O,X)}if(ce(O))return le(T,M,O,X);if(ue(O)){if(ie=ue(O),typeof ie!="function")throw Error(o(150));return O=ie.call(O),de(T,M,O,X)}if(typeof O.then=="function")return _e(T,M,Gn(O),X);if(O.$$typeof===H)return _e(T,M,Ln(T,O),X);Vn(T,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,M!==null&&M.tag===6?(l(T,M.sibling),X=r(M,O),X.return=T,T=X):(l(T,M),X=Ui(O,T.mode,X),X.return=T,T=X),m(T)):l(T,M)}return function(T,M,O,X){try{Ss=0;var ie=_e(T,M,O,X);return _l=null,ie}catch(ne){if(ne===Bl||ne===qn)throw ne;var Ce=Mt(29,ne,null,T.mode);return Ce.lanes=X,Ce.return=T,Ce}finally{}}}var nl=iu(!0),cu=iu(!1),ka=!1;function $i(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ma(e,t,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ee&2)!==0){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=zn(e),Qd(e,null,l),t}return On(e,s,t,l),zn(e)}function As(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,Io(e,l)}}function Pi(e,t){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var r=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var m={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?r=i=m:i=i.next=m,l=l.next}while(l!==null);i===null?r=i=t:i=i.next=t}else r=i=t;l={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Ii=!1;function Cs(){if(Ii){var e=zl;if(e!==null)throw e}}function Ds(e,t,l,s){Ii=!1;var r=e.updateQueue;ka=!1;var i=r.firstBaseUpdate,m=r.lastBaseUpdate,x=r.shared.pending;if(x!==null){r.shared.pending=null;var N=x,z=N.next;N.next=null,m===null?i=z:m.next=z,m=N;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,x=Y.lastBaseUpdate,x!==m&&(x===null?Y.firstBaseUpdate=z:x.next=z,Y.lastBaseUpdate=N))}if(i!==null){var Z=r.baseState;m=0,Y=z=N=null,x=i;do{var B=x.lane&-536870913,U=B!==x.lane;if(U?(ke&B)===B:(s&B)===B){B!==0&&B===Ol&&(Ii=!0),Y!==null&&(Y=Y.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var le=e,de=x;B=t;var _e=l;switch(de.tag){case 1:if(le=de.payload,typeof le=="function"){Z=le.call(_e,Z,B);break e}Z=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=de.payload,B=typeof le=="function"?le.call(_e,Z,B):le,B==null)break e;Z=v({},Z,B);break e;case 2:ka=!0}}B=x.callback,B!==null&&(e.flags|=64,U&&(e.flags|=8192),U=r.callbacks,U===null?r.callbacks=[B]:U.push(B))}else U={lane:B,tag:x.tag,payload:x.payload,callback:x.callback,next:null},Y===null?(z=Y=U,N=Z):Y=Y.next=U,m|=B;if(x=x.next,x===null){if(x=r.shared.pending,x===null)break;U=x,x=U.next,U.next=null,r.lastBaseUpdate=U,r.shared.pending=null}}while(!0);Y===null&&(N=Z),r.baseState=N,r.firstBaseUpdate=z,r.lastBaseUpdate=Y,i===null&&(r.shared.lanes=0),Ta|=m,e.lanes=m,e.memoizedState=Z}}function ou(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function du(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)ou(l[e],t)}var Ul=S(null),Xn=S(0);function uu(e,t){e=ha,G(Xn,e),G(Ul,t),ha=e|t.baseLanes}function ec(){G(Xn,ha),G(Ul,Ul.current)}function tc(){ha=Xn.current,V(Ul),V(Xn)}var At=S(null),qt=null;function Aa(e){var t=e.alternate;G(Qe,Qe.current&1),G(At,e),qt===null&&(t===null||Ul.current!==null||t.memoizedState!==null)&&(qt=e)}function ac(e){G(Qe,Qe.current),G(At,e),qt===null&&(qt=e)}function mu(e){e.tag===22?(G(Qe,Qe.current),G(At,e),qt===null&&(qt=e)):Ca()}function Ca(){G(Qe,Qe.current),G(At,At.current)}function Ct(e){V(At),qt===e&&(qt=null),V(Qe)}var Qe=S(0);function Qn(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||co(l)||oo(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ra=0,he=null,ze=null,Je=null,Zn=!1,Ll=!1,rl=!1,Fn=0,Es=0,Hl=null,Sx=0;function Ve(){throw Error(o(321))}function lc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!St(e[l],t[l]))return!1;return!0}function sc(e,t,l,s,r,i){return ra=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?Ju:yc,rl=!1,i=l(s,r),rl=!1,Ll&&(i=hu(t,l,s,r)),fu(e),i}function fu(e){R.H=Os;var t=ze!==null&&ze.next!==null;if(ra=0,Je=ze=he=null,Zn=!1,Es=0,Hl=null,t)throw Error(o(300));e===null||$e||(e=e.dependencies,e!==null&&Un(e)&&($e=!0))}function hu(e,t,l,s){he=e;var r=0;do{if(Ll&&(Hl=null),Es=0,Ll=!1,25<=r)throw Error(o(301));if(r+=1,Je=ze=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}R.H=$u,i=t(l,s)}while(Ll);return i}function Mx(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?Ts(t):t,e=e.useState()[0],(ze!==null?ze.memoizedState:null)!==e&&(he.flags|=1024),t}function nc(){var e=Fn!==0;return Fn=0,e}function rc(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function ic(e){if(Zn){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Zn=!1}ra=0,Je=ze=he=null,Ll=!1,Es=Fn=0,Hl=null}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?he.memoizedState=Je=e:Je=Je.next=e,Je}function Ze(){if(ze===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=Je===null?he.memoizedState:Je.next;if(t!==null)Je=t,ze=e;else{if(e===null)throw he.alternate===null?Error(o(467)):Error(o(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Je===null?he.memoizedState=Je=e:Je=Je.next=e}return Je}function Kn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ts(e){var t=Es;return Es+=1,Hl===null&&(Hl=[]),e=su(Hl,e,t),t=he,(Je===null?t.memoizedState:Je.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?Ju:yc),e}function Jn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ts(e);if(e.$$typeof===H)return nt(e)}throw Error(o(438,String(e)))}function cc(e){var t=null,l=he.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var s=he.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=Kn(),he.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),s=0;s<e;s++)l[s]=K;return t.index++,l}function ia(e,t){return typeof t=="function"?t(e):t}function $n(e){var t=Ze();return oc(t,ze,e)}function oc(e,t,l){var s=e.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=l;var r=e.baseQueue,i=s.pending;if(i!==null){if(r!==null){var m=r.next;r.next=i.next,i.next=m}t.baseQueue=r=i,s.pending=null}if(i=e.baseState,r===null)e.memoizedState=i;else{t=r.next;var x=m=null,N=null,z=t,Y=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(ke&Z)===Z:(ra&Z)===Z){var B=z.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===Ol&&(Y=!0);else if((ra&B)===B){z=z.next,B===Ol&&(Y=!0);continue}else Z={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(x=N=Z,m=i):N=N.next=Z,he.lanes|=B,Ta|=B;Z=z.action,rl&&l(i,Z),i=z.hasEagerState?z.eagerState:l(i,Z)}else B={lane:Z,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(x=N=B,m=i):N=N.next=B,he.lanes|=Z,Ta|=Z;z=z.next}while(z!==null&&z!==t);if(N===null?m=i:N.next=x,!St(i,e.memoizedState)&&($e=!0,Y&&(l=zl,l!==null)))throw l;e.memoizedState=i,e.baseState=m,e.baseQueue=N,s.lastRenderedState=i}return r===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function dc(e){var t=Ze(),l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var s=l.dispatch,r=l.pending,i=t.memoizedState;if(r!==null){l.pending=null;var m=r=r.next;do i=e(i,m.action),m=m.next;while(m!==r);St(i,t.memoizedState)||($e=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,s]}function xu(e,t,l){var s=he,r=Ze(),i=Me;if(i){if(l===void 0)throw Error(o(407));l=l()}else l=t();var m=!St((ze||r).memoizedState,l);if(m&&(r.memoizedState=l,$e=!0),r=r.queue,fc(bu.bind(null,s,r,e),[e]),r.getSnapshot!==t||m||Je!==null&&Je.memoizedState.tag&1){if(s.flags|=2048,ql(9,{destroy:void 0},pu.bind(null,s,r,l,t),null),Ue===null)throw Error(o(349));i||(ra&127)!==0||gu(s,t,l)}return l}function gu(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=he.updateQueue,t===null?(t=Kn(),he.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function pu(e,t,l,s){t.value=l,t.getSnapshot=s,yu(t)&&vu(e)}function bu(e,t,l){return l(function(){yu(t)&&vu(e)})}function yu(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!St(e,l)}catch{return!0}}function vu(e){var t=Wa(e,2);t!==null&&bt(t,e,2)}function uc(e){var t=ut();if(typeof e=="function"){var l=e;if(e=l(),rl){pa(!0);try{l()}finally{pa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},t}function ju(e,t,l,s){return e.baseState=l,oc(e,ze,typeof s=="function"?s:ia)}function Ax(e,t,l,s,r){if(In(e))throw Error(o(485));if(e=t.action,e!==null){var i={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){i.listeners.push(m)}};R.T!==null?l(!0):i.isTransition=!1,s(i),l=t.pending,l===null?(i.next=t.pending=i,Nu(t,i)):(i.next=l.next,t.pending=l.next=i)}}function Nu(e,t){var l=t.action,s=t.payload,r=e.state;if(t.isTransition){var i=R.T,m={};R.T=m;try{var x=l(r,s),N=R.S;N!==null&&N(m,x),wu(e,t,x)}catch(z){mc(e,t,z)}finally{i!==null&&m.types!==null&&(i.types=m.types),R.T=i}}else try{i=l(r,s),wu(e,t,i)}catch(z){mc(e,t,z)}}function wu(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){ku(e,t,s)},function(s){return mc(e,t,s)}):ku(e,t,l)}function ku(e,t,l){t.status="fulfilled",t.value=l,Su(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Nu(e,l)))}function mc(e,t,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=l,Su(t),t=t.next;while(t!==s)}e.action=null}function Su(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Mu(e,t){return t}function Au(e,t){if(Me){var l=Ue.formState;if(l!==null){e:{var s=he;if(Me){if(He){t:{for(var r=He,i=Ht;r.nodeType!==8;){if(!i){r=null;break t}if(r=Yt(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){He=Yt(r.nextSibling),s=r.data==="F!";break e}}Na(s)}s=!1}s&&(t=l[0])}}return l=ut(),l.memoizedState=l.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:t},l.queue=s,l=Zu.bind(null,he,s),s.dispatch=l,s=uc(!1),i=bc.bind(null,he,!1,s.queue),s=ut(),r={state:t,dispatch:null,action:e,pending:null},s.queue=r,l=Ax.bind(null,he,r,i,l),r.dispatch=l,s.memoizedState=e,[t,l,!1]}function Cu(e){var t=Ze();return Du(t,ze,e)}function Du(e,t,l){if(t=oc(e,t,Mu)[0],e=$n(ia)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Ts(t)}catch(m){throw m===Bl?qn:m}else s=t;t=Ze();var r=t.queue,i=r.dispatch;return l!==t.memoizedState&&(he.flags|=2048,ql(9,{destroy:void 0},Cx.bind(null,r,l),null)),[s,i,e]}function Cx(e,t){e.action=t}function Eu(e){var t=Ze(),l=ze;if(l!==null)return Du(t,l,e);Ze(),t=t.memoizedState,l=Ze();var s=l.queue.dispatch;return l.memoizedState=e,[t,s,!1]}function ql(e,t,l,s){return e={tag:e,create:l,deps:s,inst:t,next:null},t=he.updateQueue,t===null&&(t=Kn(),he.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,t.lastEffect=e),e}function Tu(){return Ze().memoizedState}function Wn(e,t,l,s){var r=ut();he.flags|=e,r.memoizedState=ql(1|t,{destroy:void 0},l,s===void 0?null:s)}function Pn(e,t,l,s){var r=Ze();s=s===void 0?null:s;var i=r.memoizedState.inst;ze!==null&&s!==null&&lc(s,ze.memoizedState.deps)?r.memoizedState=ql(t,i,l,s):(he.flags|=e,r.memoizedState=ql(1|t,i,l,s))}function Ru(e,t){Wn(8390656,8,e,t)}function fc(e,t){Pn(2048,8,e,t)}function Dx(e){he.flags|=4;var t=he.updateQueue;if(t===null)t=Kn(),he.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Ou(e){var t=Ze().memoizedState;return Dx({ref:t,nextImpl:e}),function(){if((Ee&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function zu(e,t){return Pn(4,2,e,t)}function Bu(e,t){return Pn(4,4,e,t)}function _u(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uu(e,t,l){l=l!=null?l.concat([e]):null,Pn(4,4,_u.bind(null,t,e),l)}function hc(){}function Lu(e,t){var l=Ze();t=t===void 0?null:t;var s=l.memoizedState;return t!==null&&lc(t,s[1])?s[0]:(l.memoizedState=[e,t],e)}function Hu(e,t){var l=Ze();t=t===void 0?null:t;var s=l.memoizedState;if(t!==null&&lc(t,s[1]))return s[0];if(s=e(),rl){pa(!0);try{e()}finally{pa(!1)}}return l.memoizedState=[s,t],s}function xc(e,t,l){return l===void 0||(ra&1073741824)!==0&&(ke&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=q0(),he.lanes|=e,Ta|=e,l)}function qu(e,t,l,s){return St(l,t)?l:Ul.current!==null?(e=xc(e,l,s),St(e,t)||($e=!0),e):(ra&42)===0||(ra&1073741824)!==0&&(ke&261930)===0?($e=!0,e.memoizedState=l):(e=q0(),he.lanes|=e,Ta|=e,t)}function Yu(e,t,l,s,r){var i=W.p;W.p=i!==0&&8>i?i:8;var m=R.T,x={};R.T=x,bc(e,!1,t,l);try{var N=r(),z=R.S;if(z!==null&&z(x,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Y=kx(N,s);Rs(e,t,Y,Tt(e))}else Rs(e,t,s,Tt(e))}catch(Z){Rs(e,t,{then:function(){},status:"rejected",reason:Z},Tt())}finally{W.p=i,m!==null&&x.types!==null&&(m.types=x.types),R.T=m}}function Ex(){}function gc(e,t,l,s){if(e.tag!==5)throw Error(o(476));var r=Gu(e).queue;Yu(e,r,t,te,l===null?Ex:function(){return Vu(e),l(s)})}function Gu(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:te},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vu(e){var t=Gu(e);t.next===null&&(t=e.alternate.memoizedState),Rs(e,t.next.queue,{},Tt())}function pc(){return nt(Js)}function Xu(){return Ze().memoizedState}function Qu(){return Ze().memoizedState}function Tx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Tt();e=Sa(l);var s=Ma(t,e,l);s!==null&&(bt(s,t,l),As(s,t,l)),t={cache:Zi()},e.payload=t;return}t=t.return}}function Rx(e,t,l){var s=Tt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},In(e)?Fu(t,l):(l=Bi(e,t,l,s),l!==null&&(bt(l,e,s),Ku(l,t,s)))}function Zu(e,t,l){var s=Tt();Rs(e,t,l,s)}function Rs(e,t,l,s){var r={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(In(e))Fu(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var m=t.lastRenderedState,x=i(m,l);if(r.hasEagerState=!0,r.eagerState=x,St(x,m))return On(e,t,r,0),Ue===null&&Rn(),!1}catch{}finally{}if(l=Bi(e,t,r,s),l!==null)return bt(l,e,s),Ku(l,t,s),!0}return!1}function bc(e,t,l,s){if(s={lane:2,revertLane:$c(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},In(e)){if(t)throw Error(o(479))}else t=Bi(e,l,s,2),t!==null&&bt(t,e,2)}function In(e){var t=e.alternate;return e===he||t!==null&&t===he}function Fu(e,t){Ll=Zn=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Ku(e,t,l){if((l&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,Io(e,l)}}var Os={readContext:nt,use:Jn,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};Os.useEffectEvent=Ve;var Ju={readContext:nt,use:Jn,useCallback:function(e,t){return ut().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:Ru,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,Wn(4194308,4,_u.bind(null,t,e),l)},useLayoutEffect:function(e,t){return Wn(4194308,4,e,t)},useInsertionEffect:function(e,t){Wn(4,2,e,t)},useMemo:function(e,t){var l=ut();t=t===void 0?null:t;var s=e();if(rl){pa(!0);try{e()}finally{pa(!1)}}return l.memoizedState=[s,t],s},useReducer:function(e,t,l){var s=ut();if(l!==void 0){var r=l(t);if(rl){pa(!0);try{l(t)}finally{pa(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=Rx.bind(null,he,e),[s.memoizedState,e]},useRef:function(e){var t=ut();return e={current:e},t.memoizedState=e},useState:function(e){e=uc(e);var t=e.queue,l=Zu.bind(null,he,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:hc,useDeferredValue:function(e,t){var l=ut();return xc(l,e,t)},useTransition:function(){var e=uc(!1);return e=Yu.bind(null,he,e.queue,!0,!1),ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var s=he,r=ut();if(Me){if(l===void 0)throw Error(o(407));l=l()}else{if(l=t(),Ue===null)throw Error(o(349));(ke&127)!==0||gu(s,t,l)}r.memoizedState=l;var i={value:l,getSnapshot:t};return r.queue=i,Ru(bu.bind(null,s,i,e),[e]),s.flags|=2048,ql(9,{destroy:void 0},pu.bind(null,s,i,l,t),null),l},useId:function(){var e=ut(),t=Ue.identifierPrefix;if(Me){var l=Jt,s=Kt;l=(s&~(1<<32-kt(s)-1)).toString(32)+l,t="_"+t+"R_"+l,l=Fn++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=Sx++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:pc,useFormState:Au,useActionState:Au,useOptimistic:function(e){var t=ut();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=bc.bind(null,he,!0,l),l.dispatch=t,[e,t]},useMemoCache:cc,useCacheRefresh:function(){return ut().memoizedState=Tx.bind(null,he)},useEffectEvent:function(e){var t=ut(),l={impl:e};return t.memoizedState=l,function(){if((Ee&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},yc={readContext:nt,use:Jn,useCallback:Lu,useContext:nt,useEffect:fc,useImperativeHandle:Uu,useInsertionEffect:zu,useLayoutEffect:Bu,useMemo:Hu,useReducer:$n,useRef:Tu,useState:function(){return $n(ia)},useDebugValue:hc,useDeferredValue:function(e,t){var l=Ze();return qu(l,ze.memoizedState,e,t)},useTransition:function(){var e=$n(ia)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:Ts(e),t]},useSyncExternalStore:xu,useId:Xu,useHostTransitionStatus:pc,useFormState:Cu,useActionState:Cu,useOptimistic:function(e,t){var l=Ze();return ju(l,ze,e,t)},useMemoCache:cc,useCacheRefresh:Qu};yc.useEffectEvent=Ou;var $u={readContext:nt,use:Jn,useCallback:Lu,useContext:nt,useEffect:fc,useImperativeHandle:Uu,useInsertionEffect:zu,useLayoutEffect:Bu,useMemo:Hu,useReducer:dc,useRef:Tu,useState:function(){return dc(ia)},useDebugValue:hc,useDeferredValue:function(e,t){var l=Ze();return ze===null?xc(l,e,t):qu(l,ze.memoizedState,e,t)},useTransition:function(){var e=dc(ia)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:Ts(e),t]},useSyncExternalStore:xu,useId:Xu,useHostTransitionStatus:pc,useFormState:Eu,useActionState:Eu,useOptimistic:function(e,t){var l=Ze();return ze!==null?ju(l,ze,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:cc,useCacheRefresh:Qu};$u.useEffectEvent=Ou;function vc(e,t,l,s){t=e.memoizedState,l=l(s,t),l=l==null?t:v({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var jc={enqueueSetState:function(e,t,l){e=e._reactInternals;var s=Tt(),r=Sa(s);r.payload=t,l!=null&&(r.callback=l),t=Ma(e,r,s),t!==null&&(bt(t,e,s),As(t,e,s))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var s=Tt(),r=Sa(s);r.tag=1,r.payload=t,l!=null&&(r.callback=l),t=Ma(e,r,s),t!==null&&(bt(t,e,s),As(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Tt(),s=Sa(l);s.tag=2,t!=null&&(s.callback=t),t=Ma(e,s,l),t!==null&&(bt(t,e,l),As(t,e,l))}};function Wu(e,t,l,s,r,i,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,m):t.prototype&&t.prototype.isPureReactComponent?!ys(l,s)||!ys(r,i):!0}function Pu(e,t,l,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,s),t.state!==e&&jc.enqueueReplaceState(t,t.state,null)}function il(e,t){var l=t;if("ref"in t){l={};for(var s in t)s!=="ref"&&(l[s]=t[s])}if(e=e.defaultProps){l===t&&(l=v({},l));for(var r in e)l[r]===void 0&&(l[r]=e[r])}return l}function Iu(e){Tn(e)}function e0(e){console.error(e)}function t0(e){Tn(e)}function er(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function a0(e,t,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Nc(e,t,l){return l=Sa(l),l.tag=3,l.payload={element:null},l.callback=function(){er(e,t)},l}function l0(e){return e=Sa(e),e.tag=3,e}function s0(e,t,l,s){var r=l.type.getDerivedStateFromError;if(typeof r=="function"){var i=s.value;e.payload=function(){return r(i)},e.callback=function(){a0(t,l,s)}}var m=l.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){a0(t,l,s),typeof r!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})})}function Ox(e,t,l,s,r){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=l.alternate,t!==null&&Rl(t,l,r,!0),l=At.current,l!==null){switch(l.tag){case 31:case 13:return qt===null?mr():l.alternate===null&&Xe===0&&(Xe=3),l.flags&=-257,l.flags|=65536,l.lanes=r,s===Yn?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([s]):t.add(s),Fc(e,s,r)),!1;case 22:return l.flags|=65536,s===Yn?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([s]):l.add(s)),Fc(e,s,r)),!1}throw Error(o(435,l.tag))}return Fc(e,s,r),mr(),!1}if(Me)return t=At.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==Yi&&(e=Error(o(422),{cause:s}),Ns(_t(e,l)))):(s!==Yi&&(t=Error(o(423),{cause:s}),Ns(_t(t,l))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,s=_t(s,l),r=Nc(e.stateNode,s,r),Pi(e,r),Xe!==4&&(Xe=2)),!1;var i=Error(o(520),{cause:s});if(i=_t(i,l),Ys===null?Ys=[i]:Ys.push(i),Xe!==4&&(Xe=2),t===null)return!0;s=_t(s,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=r&-r,l.lanes|=e,e=Nc(l.stateNode,s,e),Pi(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Ra===null||!Ra.has(i))))return l.flags|=65536,r&=-r,l.lanes|=r,r=l0(r),s0(r,e,l,s),Pi(l,r),!1}l=l.return}while(l!==null);return!1}var wc=Error(o(461)),$e=!1;function rt(e,t,l,s){t.child=e===null?cu(t,null,l,s):nl(t,e.child,l,s)}function n0(e,t,l,s,r){l=l.render;var i=t.ref;if("ref"in s){var m={};for(var x in s)x!=="ref"&&(m[x]=s[x])}else m=s;return tl(t),s=sc(e,t,l,m,i,r),x=nc(),e!==null&&!$e?(rc(e,t,r),ca(e,t,r)):(Me&&x&&Hi(t),t.flags|=1,rt(e,t,s,r),t.child)}function r0(e,t,l,s,r){if(e===null){var i=l.type;return typeof i=="function"&&!_i(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,i0(e,t,i,s,r)):(e=Bn(l.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Tc(e,r)){var m=i.memoizedProps;if(l=l.compare,l=l!==null?l:ys,l(m,s)&&e.ref===t.ref)return ca(e,t,r)}return t.flags|=1,e=aa(i,s),e.ref=t.ref,e.return=t,t.child=e}function i0(e,t,l,s,r){if(e!==null){var i=e.memoizedProps;if(ys(i,s)&&e.ref===t.ref)if($e=!1,t.pendingProps=s=i,Tc(e,r))(e.flags&131072)!==0&&($e=!0);else return t.lanes=e.lanes,ca(e,t,r)}return kc(e,t,l,s,r)}function c0(e,t,l,s){var r=s.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|l:l,e!==null){for(s=t.child=e.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;s=r&~i}else s=0,t.child=null;return o0(e,t,i,l,s)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Hn(t,i!==null?i.cachePool:null),i!==null?uu(t,i):ec(),mu(t);else return s=t.lanes=536870912,o0(e,t,i!==null?i.baseLanes|l:l,l,s)}else i!==null?(Hn(t,i.cachePool),uu(t,i),Ca(),t.memoizedState=null):(e!==null&&Hn(t,null),ec(),Ca());return rt(e,t,r,l),t.child}function zs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function o0(e,t,l,s,r){var i=Ki();return i=i===null?null:{parent:Ke._currentValue,pool:i},t.memoizedState={baseLanes:l,cachePool:i},e!==null&&Hn(t,null),ec(),mu(t),e!==null&&Rl(e,t,s,!0),t.childLanes=r,null}function tr(e,t){return t=lr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function d0(e,t,l){return nl(t,e.child,null,l),e=tr(t,t.pendingProps),e.flags|=2,Ct(t),t.memoizedState=null,e}function zx(e,t,l){var s=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Me){if(s.mode==="hidden")return e=tr(t,s),t.lanes=536870912,zs(null,e);if(ac(t),(e=He)?(e=Nm(e,Ht),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:va!==null?{id:Kt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},l=Fd(e),l.return=t,t.child=l,st=t,He=null)):e=null,e===null)throw Na(t);return t.lanes=536870912,null}return tr(t,s)}var i=e.memoizedState;if(i!==null){var m=i.dehydrated;if(ac(t),r)if(t.flags&256)t.flags&=-257,t=d0(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if($e||Rl(e,t,l,!1),r=(l&e.childLanes)!==0,$e||r){if(s=Ue,s!==null&&(m=ed(s,l),m!==0&&m!==i.retryLane))throw i.retryLane=m,Wa(e,m),bt(s,e,m),wc;mr(),t=d0(e,t,l)}else e=i.treeContext,He=Yt(m.nextSibling),st=t,Me=!0,ja=null,Ht=!1,e!==null&&$d(t,e),t=tr(t,s),t.flags|=4096;return t}return e=aa(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ar(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function kc(e,t,l,s,r){return tl(t),l=sc(e,t,l,s,void 0,r),s=nc(),e!==null&&!$e?(rc(e,t,r),ca(e,t,r)):(Me&&s&&Hi(t),t.flags|=1,rt(e,t,l,r),t.child)}function u0(e,t,l,s,r,i){return tl(t),t.updateQueue=null,l=hu(t,s,l,r),fu(e),s=nc(),e!==null&&!$e?(rc(e,t,i),ca(e,t,i)):(Me&&s&&Hi(t),t.flags|=1,rt(e,t,l,i),t.child)}function m0(e,t,l,s,r){if(tl(t),t.stateNode===null){var i=Cl,m=l.contextType;typeof m=="object"&&m!==null&&(i=nt(m)),i=new l(s,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=jc,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=s,i.state=t.memoizedState,i.refs={},$i(t),m=l.contextType,i.context=typeof m=="object"&&m!==null?nt(m):Cl,i.state=t.memoizedState,m=l.getDerivedStateFromProps,typeof m=="function"&&(vc(t,l,m,s),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(m=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),m!==i.state&&jc.enqueueReplaceState(i,i.state,null),Ds(t,s,i,r),Cs(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){i=t.stateNode;var x=t.memoizedProps,N=il(l,x);i.props=N;var z=i.context,Y=l.contextType;m=Cl,typeof Y=="object"&&Y!==null&&(m=nt(Y));var Z=l.getDerivedStateFromProps;Y=typeof Z=="function"||typeof i.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,Y||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(x||z!==m)&&Pu(t,i,s,m),ka=!1;var B=t.memoizedState;i.state=B,Ds(t,s,i,r),Cs(),z=t.memoizedState,x||B!==z||ka?(typeof Z=="function"&&(vc(t,l,Z,s),z=t.memoizedState),(N=ka||Wu(t,l,N,s,B,z,m))?(Y||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=z),i.props=s,i.state=z,i.context=m,s=N):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Wi(e,t),m=t.memoizedProps,Y=il(l,m),i.props=Y,Z=t.pendingProps,B=i.context,z=l.contextType,N=Cl,typeof z=="object"&&z!==null&&(N=nt(z)),x=l.getDerivedStateFromProps,(z=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(m!==Z||B!==N)&&Pu(t,i,s,N),ka=!1,B=t.memoizedState,i.state=B,Ds(t,s,i,r),Cs();var U=t.memoizedState;m!==Z||B!==U||ka||e!==null&&e.dependencies!==null&&Un(e.dependencies)?(typeof x=="function"&&(vc(t,l,x,s),U=t.memoizedState),(Y=ka||Wu(t,l,Y,s,B,U,N)||e!==null&&e.dependencies!==null&&Un(e.dependencies))?(z||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,U,N),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,U,N)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||m===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=U),i.props=s,i.state=U,i.context=N,s=Y):(typeof i.componentDidUpdate!="function"||m===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),s=!1)}return i=s,ar(e,t),s=(t.flags&128)!==0,i||s?(i=t.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&s?(t.child=nl(t,e.child,null,r),t.child=nl(t,null,l,r)):rt(e,t,l,r),t.memoizedState=i.state,e=t.child):e=ca(e,t,r),e}function f0(e,t,l,s){return Ia(),t.flags|=256,rt(e,t,l,s),t.child}var Sc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mc(e){return{baseLanes:e,cachePool:au()}}function Ac(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Et),e}function h0(e,t,l){var s=t.pendingProps,r=!1,i=(t.flags&128)!==0,m;if((m=i)||(m=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),m&&(r=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Me){if(r?Aa(t):Ca(),(e=He)?(e=Nm(e,Ht),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:va!==null?{id:Kt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},l=Fd(e),l.return=t,t.child=l,st=t,He=null)):e=null,e===null)throw Na(t);return oo(e)?t.lanes=32:t.lanes=536870912,null}var x=s.children;return s=s.fallback,r?(Ca(),r=t.mode,x=lr({mode:"hidden",children:x},r),s=Pa(s,r,l,null),x.return=t,s.return=t,x.sibling=s,t.child=x,s=t.child,s.memoizedState=Mc(l),s.childLanes=Ac(e,m,l),t.memoizedState=Sc,zs(null,s)):(Aa(t),Cc(t,x))}var N=e.memoizedState;if(N!==null&&(x=N.dehydrated,x!==null)){if(i)t.flags&256?(Aa(t),t.flags&=-257,t=Dc(e,t,l)):t.memoizedState!==null?(Ca(),t.child=e.child,t.flags|=128,t=null):(Ca(),x=s.fallback,r=t.mode,s=lr({mode:"visible",children:s.children},r),x=Pa(x,r,l,null),x.flags|=2,s.return=t,x.return=t,s.sibling=x,t.child=s,nl(t,e.child,null,l),s=t.child,s.memoizedState=Mc(l),s.childLanes=Ac(e,m,l),t.memoizedState=Sc,t=zs(null,s));else if(Aa(t),oo(x)){if(m=x.nextSibling&&x.nextSibling.dataset,m)var z=m.dgst;m=z,s=Error(o(419)),s.stack="",s.digest=m,Ns({value:s,source:null,stack:null}),t=Dc(e,t,l)}else if($e||Rl(e,t,l,!1),m=(l&e.childLanes)!==0,$e||m){if(m=Ue,m!==null&&(s=ed(m,l),s!==0&&s!==N.retryLane))throw N.retryLane=s,Wa(e,s),bt(m,e,s),wc;co(x)||mr(),t=Dc(e,t,l)}else co(x)?(t.flags|=192,t.child=e.child,t=null):(e=N.treeContext,He=Yt(x.nextSibling),st=t,Me=!0,ja=null,Ht=!1,e!==null&&$d(t,e),t=Cc(t,s.children),t.flags|=4096);return t}return r?(Ca(),x=s.fallback,r=t.mode,N=e.child,z=N.sibling,s=aa(N,{mode:"hidden",children:s.children}),s.subtreeFlags=N.subtreeFlags&65011712,z!==null?x=aa(z,x):(x=Pa(x,r,l,null),x.flags|=2),x.return=t,s.return=t,s.sibling=x,t.child=s,zs(null,s),s=t.child,x=e.child.memoizedState,x===null?x=Mc(l):(r=x.cachePool,r!==null?(N=Ke._currentValue,r=r.parent!==N?{parent:N,pool:N}:r):r=au(),x={baseLanes:x.baseLanes|l,cachePool:r}),s.memoizedState=x,s.childLanes=Ac(e,m,l),t.memoizedState=Sc,zs(e.child,s)):(Aa(t),l=e.child,e=l.sibling,l=aa(l,{mode:"visible",children:s.children}),l.return=t,l.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=l,t.memoizedState=null,l)}function Cc(e,t){return t=lr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function lr(e,t){return e=Mt(22,e,null,t),e.lanes=0,e}function Dc(e,t,l){return nl(t,e.child,null,l),e=Cc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function x0(e,t,l){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Xi(e.return,t,l)}function Ec(e,t,l,s,r,i){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:r,treeForkCount:i}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=l,m.tailMode=r,m.treeForkCount=i)}function g0(e,t,l){var s=t.pendingProps,r=s.revealOrder,i=s.tail;s=s.children;var m=Qe.current,x=(m&2)!==0;if(x?(m=m&1|2,t.flags|=128):m&=1,G(Qe,m),rt(e,t,s,l),s=Me?js:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&x0(e,l,t);else if(e.tag===19)x0(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(l=t.child,r=null;l!==null;)e=l.alternate,e!==null&&Qn(e)===null&&(r=l),l=l.sibling;l=r,l===null?(r=t.child,t.child=null):(r=l.sibling,l.sibling=null),Ec(t,!1,r,l,i,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Qn(e)===null){t.child=r;break}e=r.sibling,r.sibling=l,l=r,r=e}Ec(t,!0,l,null,i,s);break;case"together":Ec(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function ca(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),Ta|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Rl(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,l=aa(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=aa(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Tc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Un(e)))}function Bx(e,t,l){switch(t.tag){case 3:Ge(t,t.stateNode.containerInfo),wa(t,Ke,e.memoizedState.cache),Ia();break;case 27:case 5:Xa(t);break;case 4:Ge(t,t.stateNode.containerInfo);break;case 10:wa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ac(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Aa(t),t.flags|=128,null):(l&t.child.childLanes)!==0?h0(e,t,l):(Aa(t),e=ca(e,t,l),e!==null?e.sibling:null);Aa(t);break;case 19:var r=(e.flags&128)!==0;if(s=(l&t.childLanes)!==0,s||(Rl(e,t,l,!1),s=(l&t.childLanes)!==0),r){if(s)return g0(e,t,l);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),G(Qe,Qe.current),s)break;return null;case 22:return t.lanes=0,c0(e,t,l,t.pendingProps);case 24:wa(t,Ke,e.memoizedState.cache)}return ca(e,t,l)}function p0(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)$e=!0;else{if(!Tc(e,l)&&(t.flags&128)===0)return $e=!1,Bx(e,t,l);$e=(e.flags&131072)!==0}else $e=!1,Me&&(t.flags&1048576)!==0&&Jd(t,js,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ll(t.elementType),t.type=e,typeof e=="function")_i(e)?(s=il(e,s),t.tag=1,t=m0(null,t,e,s,l)):(t.tag=0,t=kc(null,t,e,s,l));else{if(e!=null){var r=e.$$typeof;if(r===$){t.tag=11,t=n0(null,t,e,s,l);break e}else if(r===I){t.tag=14,t=r0(null,t,e,s,l);break e}}throw t=ee(e)||e,Error(o(306,t,""))}}return t;case 0:return kc(e,t,t.type,t.pendingProps,l);case 1:return s=t.type,r=il(s,t.pendingProps),m0(e,t,s,r,l);case 3:e:{if(Ge(t,t.stateNode.containerInfo),e===null)throw Error(o(387));s=t.pendingProps;var i=t.memoizedState;r=i.element,Wi(e,t),Ds(t,s,null,l);var m=t.memoizedState;if(s=m.cache,wa(t,Ke,s),s!==i.cache&&Qi(t,[Ke],l,!0),Cs(),s=m.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=f0(e,t,s,l);break e}else if(s!==r){r=_t(Error(o(424)),t),Ns(r),t=f0(e,t,s,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=Yt(e.firstChild),st=t,Me=!0,ja=null,Ht=!0,l=cu(t,null,s,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ia(),s===r){t=ca(e,t,l);break e}rt(e,t,s,l)}t=t.child}return t;case 26:return ar(e,t),e===null?(l=Cm(t.type,null,t.pendingProps,null))?t.memoizedState=l:Me||(l=t.type,e=t.pendingProps,s=yr(me.current).createElement(l),s[lt]=t,s[mt]=e,it(s,l,e),et(s),t.stateNode=s):t.memoizedState=Cm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Xa(t),e===null&&Me&&(s=t.stateNode=Sm(t.type,t.pendingProps,me.current),st=t,Ht=!0,r=He,_a(t.type)?(uo=r,He=Yt(s.firstChild)):He=r),rt(e,t,t.pendingProps.children,l),ar(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Me&&((r=s=He)&&(s=ug(s,t.type,t.pendingProps,Ht),s!==null?(t.stateNode=s,st=t,He=Yt(s.firstChild),Ht=!1,r=!0):r=!1),r||Na(t)),Xa(t),r=t.type,i=t.pendingProps,m=e!==null?e.memoizedProps:null,s=i.children,no(r,i)?s=null:m!==null&&no(r,m)&&(t.flags|=32),t.memoizedState!==null&&(r=sc(e,t,Mx,null,null,l),Js._currentValue=r),ar(e,t),rt(e,t,s,l),t.child;case 6:return e===null&&Me&&((e=l=He)&&(l=mg(l,t.pendingProps,Ht),l!==null?(t.stateNode=l,st=t,He=null,e=!0):e=!1),e||Na(t)),null;case 13:return h0(e,t,l);case 4:return Ge(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=nl(t,null,s,l):rt(e,t,s,l),t.child;case 11:return n0(e,t,t.type,t.pendingProps,l);case 7:return rt(e,t,t.pendingProps,l),t.child;case 8:return rt(e,t,t.pendingProps.children,l),t.child;case 12:return rt(e,t,t.pendingProps.children,l),t.child;case 10:return s=t.pendingProps,wa(t,t.type,s.value),rt(e,t,s.children,l),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,tl(t),r=nt(r),s=s(r),t.flags|=1,rt(e,t,s,l),t.child;case 14:return r0(e,t,t.type,t.pendingProps,l);case 15:return i0(e,t,t.type,t.pendingProps,l);case 19:return g0(e,t,l);case 31:return zx(e,t,l);case 22:return c0(e,t,l,t.pendingProps);case 24:return tl(t),s=nt(Ke),e===null?(r=Ki(),r===null&&(r=Ue,i=Zi(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=l),r=i),t.memoizedState={parent:s,cache:r},$i(t),wa(t,Ke,r)):((e.lanes&l)!==0&&(Wi(e,t),Ds(t,null,null,l),Cs()),r=e.memoizedState,i=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),wa(t,Ke,s)):(s=i.cache,wa(t,Ke,s),s!==r.cache&&Qi(t,[Ke],l,!0))),rt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function oa(e){e.flags|=4}function Rc(e,t,l,s,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(X0())e.flags|=8192;else throw sl=Yn,Ji}else e.flags&=-16777217}function b0(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Om(t))if(X0())e.flags|=8192;else throw sl=Yn,Ji}function sr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Wo():536870912,e.lanes|=t,Xl|=t)}function Bs(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(t)for(var r=e.child;r!==null;)l|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)l|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=l,t}function _x(e,t,l){var s=t.pendingProps;switch(qi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return qe(t),null;case 3:return l=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),na(Ke),Oe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Tl(t)?oa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Gi())),qe(t),null;case 26:var r=t.type,i=t.memoizedState;return e===null?(oa(t),i!==null?(qe(t),b0(t,i)):(qe(t),Rc(t,r,null,s,l))):i?i!==e.memoizedState?(oa(t),qe(t),b0(t,i)):(qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&oa(t),qe(t),Rc(t,r,e,s,l)),null;case 27:if(xn(t),l=me.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&oa(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return qe(t),null}e=P.current,Tl(t)?Wd(t):(e=Sm(r,s,l),t.stateNode=e,oa(t))}return qe(t),null;case 5:if(xn(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&oa(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return qe(t),null}if(i=P.current,Tl(t))Wd(t);else{var m=yr(me.current);switch(i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?i.multiple=!0:s.size&&(i.size=s.size);break;default:i=typeof s.is=="string"?m.createElement(r,{is:s.is}):m.createElement(r)}}i[lt]=t,i[mt]=s;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=i;e:switch(it(i,r,s),r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&oa(t)}}return qe(t),Rc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&oa(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(o(166));if(e=me.current,Tl(t)){if(e=t.stateNode,l=t.memoizedProps,s=null,r=st,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}e[lt]=t,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||hm(e.nodeValue,l)),e||Na(t,!0)}else e=yr(e).createTextNode(s),e[lt]=t,t.stateNode=e}return qe(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(s=Tl(t),l!==null){if(e===null){if(!s)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[lt]=t}else Ia(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),e=!1}else l=Gi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Ct(t),t):(Ct(t),null);if((t.flags&128)!==0)throw Error(o(558))}return qe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Tl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!r)throw Error(o(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(o(317));r[lt]=t}else Ia(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),r=!1}else r=Gi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Ct(t),t):(Ct(t),null)}return Ct(t),(t.flags&128)!==0?(t.lanes=l,t):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=t.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==r&&(s.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),sr(t,t.updateQueue),qe(t),null);case 4:return Oe(),e===null&&eo(t.stateNode.containerInfo),qe(t),null;case 10:return na(t.type),qe(t),null;case 19:if(V(Qe),s=t.memoizedState,s===null)return qe(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)Bs(s,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Qn(e),i!==null){for(t.flags|=128,Bs(s,!1),e=i.updateQueue,t.updateQueue=e,sr(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Zd(l,e),l=l.sibling;return G(Qe,Qe.current&1|2),Me&&la(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Nt()>or&&(t.flags|=128,r=!0,Bs(s,!1),t.lanes=4194304)}else{if(!r)if(e=Qn(i),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,sr(t,e),Bs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Me)return qe(t),null}else 2*Nt()-s.renderingStartTime>or&&l!==536870912&&(t.flags|=128,r=!0,Bs(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(e=s.last,e!==null?e.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Nt(),e.sibling=null,l=Qe.current,G(Qe,r?l&1|2:l&1),Me&&la(t,s.treeForkCount),e):(qe(t),null);case 22:case 23:return Ct(t),tc(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(l&536870912)!==0&&(t.flags&128)===0&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),l=t.updateQueue,l!==null&&sr(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==l&&(t.flags|=2048),e!==null&&V(al),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),na(Ke),qe(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Ux(e,t){switch(qi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return na(Ke),Oe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return xn(t),null;case 31:if(t.memoizedState!==null){if(Ct(t),t.alternate===null)throw Error(o(340));Ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ct(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(Qe),null;case 4:return Oe(),null;case 10:return na(t.type),null;case 22:case 23:return Ct(t),tc(),e!==null&&V(al),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return na(Ke),null;case 25:return null;default:return null}}function y0(e,t){switch(qi(t),t.tag){case 3:na(Ke),Oe();break;case 26:case 27:case 5:xn(t);break;case 4:Oe();break;case 31:t.memoizedState!==null&&Ct(t);break;case 13:Ct(t);break;case 19:V(Qe);break;case 10:na(t.type);break;case 22:case 23:Ct(t),tc(),e!==null&&V(al);break;case 24:na(Ke)}}function _s(e,t){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var r=s.next;l=r;do{if((l.tag&e)===e){s=void 0;var i=l.create,m=l.inst;s=i(),m.destroy=s}l=l.next}while(l!==r)}}catch(x){Re(t,t.return,x)}}function Da(e,t,l){try{var s=t.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var i=r.next;s=i;do{if((s.tag&e)===e){var m=s.inst,x=m.destroy;if(x!==void 0){m.destroy=void 0,r=t;var N=l,z=x;try{z()}catch(Y){Re(r,N,Y)}}}s=s.next}while(s!==i)}}catch(Y){Re(t,t.return,Y)}}function v0(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{du(t,l)}catch(s){Re(e,e.return,s)}}}function j0(e,t,l){l.props=il(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){Re(e,t,s)}}function Us(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(r){Re(e,t,r)}}function $t(e,t){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(r){Re(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(r){Re(e,t,r)}else l.current=null}function N0(e){var t=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(r){Re(e,e.return,r)}}function Oc(e,t,l){try{var s=e.stateNode;ng(s,e.type,l,t),s[mt]=t}catch(r){Re(e,e.return,r)}}function w0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&_a(e.type)||e.tag===4}function zc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||w0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&_a(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bc(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=ea));else if(s!==4&&(s===27&&_a(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Bc(e,t,l),e=e.sibling;e!==null;)Bc(e,t,l),e=e.sibling}function nr(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(s!==4&&(s===27&&_a(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(nr(e,t,l),e=e.sibling;e!==null;)nr(e,t,l),e=e.sibling}function k0(e){var t=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);it(t,s,l),t[lt]=e,t[mt]=l}catch(i){Re(e,e.return,i)}}var da=!1,We=!1,_c=!1,S0=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Lx(e,t){if(e=e.containerInfo,lo=Mr,e=Ud(e),Di(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var m=0,x=-1,N=-1,z=0,Y=0,Z=e,B=null;t:for(;;){for(var U;Z!==l||r!==0&&Z.nodeType!==3||(x=m+r),Z!==i||s!==0&&Z.nodeType!==3||(N=m+s),Z.nodeType===3&&(m+=Z.nodeValue.length),(U=Z.firstChild)!==null;)B=Z,Z=U;for(;;){if(Z===e)break t;if(B===l&&++z===r&&(x=m),B===i&&++Y===s&&(N=m),(U=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=U}l=x===-1||N===-1?null:{start:x,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(so={focusedElem:e,selectionRange:l},Mr=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){switch(t=tt,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)r=e[l],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,l=t,r=i.memoizedProps,i=i.memoizedState,s=l.stateNode;try{var le=il(l.type,r);e=s.getSnapshotBeforeUpdate(le,i),s.__reactInternalSnapshotBeforeUpdate=e}catch(de){Re(l,l.return,de)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)io(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":io(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}}function M0(e,t,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:ma(e,l),s&4&&_s(5,l);break;case 1:if(ma(e,l),s&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(m){Re(l,l.return,m)}else{var r=il(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Re(l,l.return,m)}}s&64&&v0(l),s&512&&Us(l,l.return);break;case 3:if(ma(e,l),s&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{du(e,t)}catch(m){Re(l,l.return,m)}}break;case 27:t===null&&s&4&&k0(l);case 26:case 5:ma(e,l),t===null&&s&4&&N0(l),s&512&&Us(l,l.return);break;case 12:ma(e,l);break;case 31:ma(e,l),s&4&&D0(e,l);break;case 13:ma(e,l),s&4&&E0(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Fx.bind(null,l),fg(e,l))));break;case 22:if(s=l.memoizedState!==null||da,!s){t=t!==null&&t.memoizedState!==null||We,r=da;var i=We;da=s,(We=t)&&!i?fa(e,l,(l.subtreeFlags&8772)!==0):ma(e,l),da=r,We=i}break;case 30:break;default:ma(e,l)}}function A0(e){var t=e.alternate;t!==null&&(e.alternate=null,A0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&mi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,ht=!1;function ua(e,t,l){for(l=l.child;l!==null;)C0(e,t,l),l=l.sibling}function C0(e,t,l){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(is,l)}catch{}switch(l.tag){case 26:We||$t(l,t),ua(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:We||$t(l,t);var s=Ye,r=ht;_a(l.type)&&(Ye=l.stateNode,ht=!1),ua(e,t,l),Zs(l.stateNode),Ye=s,ht=r;break;case 5:We||$t(l,t);case 6:if(s=Ye,r=ht,Ye=null,ua(e,t,l),Ye=s,ht=r,Ye!==null)if(ht)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(l.stateNode)}catch(i){Re(l,t,i)}else try{Ye.removeChild(l.stateNode)}catch(i){Re(l,t,i)}break;case 18:Ye!==null&&(ht?(e=Ye,vm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Pl(e)):vm(Ye,l.stateNode));break;case 4:s=Ye,r=ht,Ye=l.stateNode.containerInfo,ht=!0,ua(e,t,l),Ye=s,ht=r;break;case 0:case 11:case 14:case 15:Da(2,l,t),We||Da(4,l,t),ua(e,t,l);break;case 1:We||($t(l,t),s=l.stateNode,typeof s.componentWillUnmount=="function"&&j0(l,t,s)),ua(e,t,l);break;case 21:ua(e,t,l);break;case 22:We=(s=We)||l.memoizedState!==null,ua(e,t,l),We=s;break;default:ua(e,t,l)}}function D0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pl(e)}catch(l){Re(t,t.return,l)}}}function E0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pl(e)}catch(l){Re(t,t.return,l)}}function Hx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new S0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new S0),t;default:throw Error(o(435,e.tag))}}function rr(e,t){var l=Hx(e);t.forEach(function(s){if(!l.has(s)){l.add(s);var r=Kx.bind(null,e,s);s.then(r,r)}})}function xt(e,t){var l=t.deletions;if(l!==null)for(var s=0;s<l.length;s++){var r=l[s],i=e,m=t,x=m;e:for(;x!==null;){switch(x.tag){case 27:if(_a(x.type)){Ye=x.stateNode,ht=!1;break e}break;case 5:Ye=x.stateNode,ht=!1;break e;case 3:case 4:Ye=x.stateNode.containerInfo,ht=!0;break e}x=x.return}if(Ye===null)throw Error(o(160));C0(i,m,r),Ye=null,ht=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)T0(t,e),t=t.sibling}var Xt=null;function T0(e,t){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xt(t,e),gt(e),s&4&&(Da(3,e,e.return),_s(3,e),Da(5,e,e.return));break;case 1:xt(t,e),gt(e),s&512&&(We||l===null||$t(l,l.return)),s&64&&da&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var r=Xt;if(xt(t,e),gt(e),s&512&&(We||l===null||$t(l,l.return)),s&4){var i=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":i=r.getElementsByTagName("title")[0],(!i||i[ds]||i[lt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(s),r.head.insertBefore(i,r.querySelector("head > title"))),it(i,s,l),i[lt]=e,et(i),s=i;break e;case"link":var m=Tm("link","href",r).get(s+(l.href||""));if(m){for(var x=0;x<m.length;x++)if(i=m[x],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){m.splice(x,1);break t}}i=r.createElement(s),it(i,s,l),r.head.appendChild(i);break;case"meta":if(m=Tm("meta","content",r).get(s+(l.content||""))){for(x=0;x<m.length;x++)if(i=m[x],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){m.splice(x,1);break t}}i=r.createElement(s),it(i,s,l),r.head.appendChild(i);break;default:throw Error(o(468,s))}i[lt]=e,et(i),s=i}e.stateNode=s}else Rm(r,e.type,e.stateNode);else e.stateNode=Em(r,s,e.memoizedProps);else i!==s?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,s===null?Rm(r,e.type,e.stateNode):Em(r,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Oc(e,e.memoizedProps,l.memoizedProps)}break;case 27:xt(t,e),gt(e),s&512&&(We||l===null||$t(l,l.return)),l!==null&&s&4&&Oc(e,e.memoizedProps,l.memoizedProps);break;case 5:if(xt(t,e),gt(e),s&512&&(We||l===null||$t(l,l.return)),e.flags&32){r=e.stateNode;try{jl(r,"")}catch(le){Re(e,e.return,le)}}s&4&&e.stateNode!=null&&(r=e.memoizedProps,Oc(e,r,l!==null?l.memoizedProps:r)),s&1024&&(_c=!0);break;case 6:if(xt(t,e),gt(e),s&4){if(e.stateNode===null)throw Error(o(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(le){Re(e,e.return,le)}}break;case 3:if(Nr=null,r=Xt,Xt=vr(t.containerInfo),xt(t,e),Xt=r,gt(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{Pl(t.containerInfo)}catch(le){Re(e,e.return,le)}_c&&(_c=!1,R0(e));break;case 4:s=Xt,Xt=vr(e.stateNode.containerInfo),xt(t,e),gt(e),Xt=s;break;case 12:xt(t,e),gt(e);break;case 31:xt(t,e),gt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,rr(e,s)));break;case 13:xt(t,e),gt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(cr=Nt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,rr(e,s)));break;case 22:r=e.memoizedState!==null;var N=l!==null&&l.memoizedState!==null,z=da,Y=We;if(da=z||r,We=Y||N,xt(t,e),We=Y,da=z,gt(e),s&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(l===null||N||da||We||cl(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){N=l=t;try{if(i=N.stateNode,r)m=i.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{x=N.stateNode;var Z=N.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;x.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(le){Re(N,N.return,le)}}}else if(t.tag===6){if(l===null){N=t;try{N.stateNode.nodeValue=r?"":N.memoizedProps}catch(le){Re(N,N.return,le)}}}else if(t.tag===18){if(l===null){N=t;try{var U=N.stateNode;r?jm(U,!0):jm(N.stateNode,!1)}catch(le){Re(N,N.return,le)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,rr(e,l))));break;case 19:xt(t,e),gt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,rr(e,s)));break;case 30:break;case 21:break;default:xt(t,e),gt(e)}}function gt(e){var t=e.flags;if(t&2){try{for(var l,s=e.return;s!==null;){if(w0(s)){l=s;break}s=s.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var r=l.stateNode,i=zc(e);nr(e,i,r);break;case 5:var m=l.stateNode;l.flags&32&&(jl(m,""),l.flags&=-33);var x=zc(e);nr(e,x,m);break;case 3:case 4:var N=l.stateNode.containerInfo,z=zc(e);Bc(e,z,N);break;default:throw Error(o(161))}}catch(Y){Re(e,e.return,Y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function R0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;R0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ma(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)M0(e,t.alternate,t),t=t.sibling}function cl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Da(4,t,t.return),cl(t);break;case 1:$t(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&j0(t,t.return,l),cl(t);break;case 27:Zs(t.stateNode);case 26:case 5:$t(t,t.return),cl(t);break;case 22:t.memoizedState===null&&cl(t);break;case 30:cl(t);break;default:cl(t)}e=e.sibling}}function fa(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,r=e,i=t,m=i.flags;switch(i.tag){case 0:case 11:case 15:fa(r,i,l),_s(4,i);break;case 1:if(fa(r,i,l),s=i,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(z){Re(s,s.return,z)}if(s=i,r=s.updateQueue,r!==null){var x=s.stateNode;try{var N=r.shared.hiddenCallbacks;if(N!==null)for(r.shared.hiddenCallbacks=null,r=0;r<N.length;r++)ou(N[r],x)}catch(z){Re(s,s.return,z)}}l&&m&64&&v0(i),Us(i,i.return);break;case 27:k0(i);case 26:case 5:fa(r,i,l),l&&s===null&&m&4&&N0(i),Us(i,i.return);break;case 12:fa(r,i,l);break;case 31:fa(r,i,l),l&&m&4&&D0(r,i);break;case 13:fa(r,i,l),l&&m&4&&E0(r,i);break;case 22:i.memoizedState===null&&fa(r,i,l),Us(i,i.return);break;case 30:break;default:fa(r,i,l)}t=t.sibling}}function Uc(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&ws(l))}function Lc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ws(e))}function Qt(e,t,l,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)O0(e,t,l,s),t=t.sibling}function O0(e,t,l,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Qt(e,t,l,s),r&2048&&_s(9,t);break;case 1:Qt(e,t,l,s);break;case 3:Qt(e,t,l,s),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ws(e)));break;case 12:if(r&2048){Qt(e,t,l,s),e=t.stateNode;try{var i=t.memoizedProps,m=i.id,x=i.onPostCommit;typeof x=="function"&&x(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Re(t,t.return,N)}}else Qt(e,t,l,s);break;case 31:Qt(e,t,l,s);break;case 13:Qt(e,t,l,s);break;case 23:break;case 22:i=t.stateNode,m=t.alternate,t.memoizedState!==null?i._visibility&2?Qt(e,t,l,s):Ls(e,t):i._visibility&2?Qt(e,t,l,s):(i._visibility|=2,Yl(e,t,l,s,(t.subtreeFlags&10256)!==0||!1)),r&2048&&Uc(m,t);break;case 24:Qt(e,t,l,s),r&2048&&Lc(t.alternate,t);break;default:Qt(e,t,l,s)}}function Yl(e,t,l,s,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,m=t,x=l,N=s,z=m.flags;switch(m.tag){case 0:case 11:case 15:Yl(i,m,x,N,r),_s(8,m);break;case 23:break;case 22:var Y=m.stateNode;m.memoizedState!==null?Y._visibility&2?Yl(i,m,x,N,r):Ls(i,m):(Y._visibility|=2,Yl(i,m,x,N,r)),r&&z&2048&&Uc(m.alternate,m);break;case 24:Yl(i,m,x,N,r),r&&z&2048&&Lc(m.alternate,m);break;default:Yl(i,m,x,N,r)}t=t.sibling}}function Ls(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,s=t,r=s.flags;switch(s.tag){case 22:Ls(l,s),r&2048&&Uc(s.alternate,s);break;case 24:Ls(l,s),r&2048&&Lc(s.alternate,s);break;default:Ls(l,s)}t=t.sibling}}var Hs=8192;function Gl(e,t,l){if(e.subtreeFlags&Hs)for(e=e.child;e!==null;)z0(e,t,l),e=e.sibling}function z0(e,t,l){switch(e.tag){case 26:Gl(e,t,l),e.flags&Hs&&e.memoizedState!==null&&Sg(l,Xt,e.memoizedState,e.memoizedProps);break;case 5:Gl(e,t,l);break;case 3:case 4:var s=Xt;Xt=vr(e.stateNode.containerInfo),Gl(e,t,l),Xt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Hs,Hs=16777216,Gl(e,t,l),Hs=s):Gl(e,t,l));break;default:Gl(e,t,l)}}function B0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function qs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];tt=s,U0(s,e)}B0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_0(e),e=e.sibling}function _0(e){switch(e.tag){case 0:case 11:case 15:qs(e),e.flags&2048&&Da(9,e,e.return);break;case 3:qs(e);break;case 12:qs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ir(e)):qs(e);break;default:qs(e)}}function ir(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];tt=s,U0(s,e)}B0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Da(8,t,t.return),ir(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,ir(t));break;default:ir(t)}e=e.sibling}}function U0(e,t){for(;tt!==null;){var l=tt;switch(l.tag){case 0:case 11:case 15:Da(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ws(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,tt=s;else e:for(l=e;tt!==null;){s=tt;var r=s.sibling,i=s.return;if(A0(s),s===l){tt=null;break e}if(r!==null){r.return=i,tt=r;break e}tt=i}}}var qx={getCacheForType:function(e){var t=nt(Ke),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return nt(Ke).controller.signal}},Yx=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Ue=null,je=null,ke=0,Te=0,Dt=null,Ea=!1,Vl=!1,Hc=!1,ha=0,Xe=0,Ta=0,ol=0,qc=0,Et=0,Xl=0,Ys=null,pt=null,Yc=!1,cr=0,L0=0,or=1/0,dr=null,Ra=null,Ie=0,Oa=null,Ql=null,xa=0,Gc=0,Vc=null,H0=null,Gs=0,Xc=null;function Tt(){return(Ee&2)!==0&&ke!==0?ke&-ke:R.T!==null?$c():td()}function q0(){if(Et===0)if((ke&536870912)===0||Me){var e=bn;bn<<=1,(bn&3932160)===0&&(bn=262144),Et=e}else Et=536870912;return e=At.current,e!==null&&(e.flags|=32),Et}function bt(e,t,l){(e===Ue&&(Te===2||Te===9)||e.cancelPendingCommit!==null)&&(Zl(e,0),za(e,ke,Et,!1)),os(e,l),((Ee&2)===0||e!==Ue)&&(e===Ue&&((Ee&2)===0&&(ol|=l),Xe===4&&za(e,ke,Et,!1)),Wt(e))}function Y0(e,t,l){if((Ee&6)!==0)throw Error(o(327));var s=!l&&(t&127)===0&&(t&e.expiredLanes)===0||cs(e,t),r=s?Xx(e,t):Zc(e,t,!0),i=s;do{if(r===0){Vl&&!s&&za(e,t,0,!1);break}else{if(l=e.current.alternate,i&&!Gx(l)){r=Zc(e,t,!1),i=!1;continue}if(r===2){if(i=t,e.errorRecoveryDisabledLanes&i)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var x=e;r=Ys;var N=x.current.memoizedState.isDehydrated;if(N&&(Zl(x,m).flags|=256),m=Zc(x,m,!1),m!==2){if(Hc&&!N){x.errorRecoveryDisabledLanes|=i,ol|=i,r=4;break e}i=pt,pt=r,i!==null&&(pt===null?pt=i:pt.push.apply(pt,i))}r=m}if(i=!1,r!==2)continue}}if(r===1){Zl(e,0),za(e,t,0,!0);break}e:{switch(s=e,i=r,i){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:za(s,t,Et,!Ea);break e;case 2:pt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(r=cr+300-Nt(),10<r)){if(za(s,t,Et,!Ea),vn(s,0,!0)!==0)break e;xa=t,s.timeoutHandle=bm(G0.bind(null,s,l,pt,dr,Yc,t,Et,ol,Xl,Ea,i,"Throttled",-0,0),r);break e}G0(s,l,pt,dr,Yc,t,Et,ol,Xl,Ea,i,null,-0,0)}}break}while(!0);Wt(e)}function G0(e,t,l,s,r,i,m,x,N,z,Y,Z,B,U){if(e.timeoutHandle=-1,Z=t.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ea},z0(t,i,Z);var le=(i&62914560)===i?cr-Nt():(i&4194048)===i?L0-Nt():0;if(le=Mg(Z,le),le!==null){xa=i,e.cancelPendingCommit=le($0.bind(null,e,t,i,l,s,r,m,x,N,Y,Z,null,B,U)),za(e,i,m,!z);return}}$0(e,t,i,l,s,r,m,x,N)}function Gx(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var r=l[s],i=r.getSnapshot;r=r.value;try{if(!St(i(),r))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function za(e,t,l,s){t&=~qc,t&=~ol,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var i=31-kt(r),m=1<<i;s[i]=-1,r&=~m}l!==0&&Po(e,l,t)}function ur(){return(Ee&6)===0?(Vs(0),!1):!0}function Qc(){if(je!==null){if(Te===0)var e=je.return;else e=je,sa=el=null,ic(e),_l=null,Ss=0,e=je;for(;e!==null;)y0(e.alternate,e),e=e.return;je=null}}function Zl(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,cg(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),xa=0,Qc(),Ue=e,je=l=aa(e.current,null),ke=t,Te=0,Dt=null,Ea=!1,Vl=cs(e,t),Hc=!1,Xl=Et=qc=ol=Ta=Xe=0,pt=Ys=null,Yc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var r=31-kt(s),i=1<<r;t|=e[r],s&=~i}return ha=t,Rn(),l}function V0(e,t){he=null,R.H=Os,t===Bl||t===qn?(t=nu(),Te=3):t===Ji?(t=nu(),Te=4):Te=t===wc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Dt=t,je===null&&(Xe=1,er(e,_t(t,e.current)))}function X0(){var e=At.current;return e===null?!0:(ke&4194048)===ke?qt===null:(ke&62914560)===ke||(ke&536870912)!==0?e===qt:!1}function Q0(){var e=R.H;return R.H=Os,e===null?Os:e}function Z0(){var e=R.A;return R.A=qx,e}function mr(){Xe=4,Ea||(ke&4194048)!==ke&&At.current!==null||(Vl=!0),(Ta&134217727)===0&&(ol&134217727)===0||Ue===null||za(Ue,ke,Et,!1)}function Zc(e,t,l){var s=Ee;Ee|=2;var r=Q0(),i=Z0();(Ue!==e||ke!==t)&&(dr=null,Zl(e,t)),t=!1;var m=Xe;e:do try{if(Te!==0&&je!==null){var x=je,N=Dt;switch(Te){case 8:Qc(),m=6;break e;case 3:case 2:case 9:case 6:At.current===null&&(t=!0);var z=Te;if(Te=0,Dt=null,Fl(e,x,N,z),l&&Vl){m=0;break e}break;default:z=Te,Te=0,Dt=null,Fl(e,x,N,z)}}Vx(),m=Xe;break}catch(Y){V0(e,Y)}while(!0);return t&&e.shellSuspendCounter++,sa=el=null,Ee=s,R.H=r,R.A=i,je===null&&(Ue=null,ke=0,Rn()),m}function Vx(){for(;je!==null;)F0(je)}function Xx(e,t){var l=Ee;Ee|=2;var s=Q0(),r=Z0();Ue!==e||ke!==t?(dr=null,or=Nt()+500,Zl(e,t)):Vl=cs(e,t);e:do try{if(Te!==0&&je!==null){t=je;var i=Dt;t:switch(Te){case 1:Te=0,Dt=null,Fl(e,t,i,1);break;case 2:case 9:if(lu(i)){Te=0,Dt=null,K0(t);break}t=function(){Te!==2&&Te!==9||Ue!==e||(Te=7),Wt(e)},i.then(t,t);break e;case 3:Te=7;break e;case 4:Te=5;break e;case 7:lu(i)?(Te=0,Dt=null,K0(t)):(Te=0,Dt=null,Fl(e,t,i,7));break;case 5:var m=null;switch(je.tag){case 26:m=je.memoizedState;case 5:case 27:var x=je;if(m?Om(m):x.stateNode.complete){Te=0,Dt=null;var N=x.sibling;if(N!==null)je=N;else{var z=x.return;z!==null?(je=z,fr(z)):je=null}break t}}Te=0,Dt=null,Fl(e,t,i,5);break;case 6:Te=0,Dt=null,Fl(e,t,i,6);break;case 8:Qc(),Xe=6;break e;default:throw Error(o(462))}}Qx();break}catch(Y){V0(e,Y)}while(!0);return sa=el=null,R.H=s,R.A=r,Ee=l,je!==null?0:(Ue=null,ke=0,Rn(),Xe)}function Qx(){for(;je!==null&&!hh();)F0(je)}function F0(e){var t=p0(e.alternate,e,ha);e.memoizedProps=e.pendingProps,t===null?fr(e):je=t}function K0(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=u0(l,t,t.pendingProps,t.type,void 0,ke);break;case 11:t=u0(l,t,t.pendingProps,t.type.render,t.ref,ke);break;case 5:ic(t);default:y0(l,t),t=je=Zd(t,ha),t=p0(l,t,ha)}e.memoizedProps=e.pendingProps,t===null?fr(e):je=t}function Fl(e,t,l,s){sa=el=null,ic(t),_l=null,Ss=0;var r=t.return;try{if(Ox(e,r,t,l,ke)){Xe=1,er(e,_t(l,e.current)),je=null;return}}catch(i){if(r!==null)throw je=r,i;Xe=1,er(e,_t(l,e.current)),je=null;return}t.flags&32768?(Me||s===1?e=!0:Vl||(ke&536870912)!==0?e=!1:(Ea=e=!0,(s===2||s===9||s===3||s===6)&&(s=At.current,s!==null&&s.tag===13&&(s.flags|=16384))),J0(t,e)):fr(t)}function fr(e){var t=e;do{if((t.flags&32768)!==0){J0(t,Ea);return}e=t.return;var l=_x(t.alternate,t,ha);if(l!==null){je=l;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Xe===0&&(Xe=5)}function J0(e,t){do{var l=Ux(e.alternate,e);if(l!==null){l.flags&=32767,je=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){je=e;return}je=e=l}while(e!==null);Xe=6,je=null}function $0(e,t,l,s,r,i,m,x,N){e.cancelPendingCommit=null;do hr();while(Ie!==0);if((Ee&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(i=t.lanes|t.childLanes,i|=zi,kh(e,l,i,m,x,N),e===Ue&&(je=Ue=null,ke=0),Ql=t,Oa=e,xa=l,Gc=i,Vc=r,H0=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Jx(gn,function(){return tm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=R.T,R.T=null,r=W.p,W.p=2,m=Ee,Ee|=4;try{Lx(e,t,l)}finally{Ee=m,W.p=r,R.T=s}}Ie=1,W0(),P0(),I0()}}function W0(){if(Ie===1){Ie=0;var e=Oa,t=Ql,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=R.T,R.T=null;var s=W.p;W.p=2;var r=Ee;Ee|=4;try{T0(t,e);var i=so,m=Ud(e.containerInfo),x=i.focusedElem,N=i.selectionRange;if(m!==x&&x&&x.ownerDocument&&_d(x.ownerDocument.documentElement,x)){if(N!==null&&Di(x)){var z=N.start,Y=N.end;if(Y===void 0&&(Y=z),"selectionStart"in x)x.selectionStart=z,x.selectionEnd=Math.min(Y,x.value.length);else{var Z=x.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var U=B.getSelection(),le=x.textContent.length,de=Math.min(N.start,le),_e=N.end===void 0?de:Math.min(N.end,le);!U.extend&&de>_e&&(m=_e,_e=de,de=m);var T=Bd(x,de),M=Bd(x,_e);if(T&&M&&(U.rangeCount!==1||U.anchorNode!==T.node||U.anchorOffset!==T.offset||U.focusNode!==M.node||U.focusOffset!==M.offset)){var O=Z.createRange();O.setStart(T.node,T.offset),U.removeAllRanges(),de>_e?(U.addRange(O),U.extend(M.node,M.offset)):(O.setEnd(M.node,M.offset),U.addRange(O))}}}}for(Z=[],U=x;U=U.parentNode;)U.nodeType===1&&Z.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<Z.length;x++){var X=Z[x];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Mr=!!lo,so=lo=null}finally{Ee=r,W.p=s,R.T=l}}e.current=t,Ie=2}}function P0(){if(Ie===2){Ie=0;var e=Oa,t=Ql,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=R.T,R.T=null;var s=W.p;W.p=2;var r=Ee;Ee|=4;try{M0(e,t.alternate,t)}finally{Ee=r,W.p=s,R.T=l}}Ie=3}}function I0(){if(Ie===4||Ie===3){Ie=0,xh();var e=Oa,t=Ql,l=xa,s=H0;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ie=5:(Ie=0,Ql=Oa=null,em(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Ra=null),di(l),t=t.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(is,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=R.T,r=W.p,W.p=2,R.T=null;try{for(var i=e.onRecoverableError,m=0;m<s.length;m++){var x=s[m];i(x.value,{componentStack:x.stack})}}finally{R.T=t,W.p=r}}(xa&3)!==0&&hr(),Wt(e),r=e.pendingLanes,(l&261930)!==0&&(r&42)!==0?e===Xc?Gs++:(Gs=0,Xc=e):Gs=0,Vs(0)}}function em(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ws(t)))}function hr(){return W0(),P0(),I0(),tm()}function tm(){if(Ie!==5)return!1;var e=Oa,t=Gc;Gc=0;var l=di(xa),s=R.T,r=W.p;try{W.p=32>l?32:l,R.T=null,l=Vc,Vc=null;var i=Oa,m=xa;if(Ie=0,Ql=Oa=null,xa=0,(Ee&6)!==0)throw Error(o(331));var x=Ee;if(Ee|=4,_0(i.current),O0(i,i.current,m,l),Ee=x,Vs(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(is,i)}catch{}return!0}finally{W.p=r,R.T=s,em(e,t)}}function am(e,t,l){t=_t(l,t),t=Nc(e.stateNode,t,2),e=Ma(e,t,2),e!==null&&(os(e,2),Wt(e))}function Re(e,t,l){if(e.tag===3)am(e,e,l);else for(;t!==null;){if(t.tag===3){am(t,e,l);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ra===null||!Ra.has(s))){e=_t(l,e),l=l0(2),s=Ma(t,l,2),s!==null&&(s0(l,s,t,e),os(s,2),Wt(s));break}}t=t.return}}function Fc(e,t,l){var s=e.pingCache;if(s===null){s=e.pingCache=new Yx;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(l)||(Hc=!0,r.add(l),e=Zx.bind(null,e,t,l),t.then(e,e))}function Zx(e,t,l){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ue===e&&(ke&l)===l&&(Xe===4||Xe===3&&(ke&62914560)===ke&&300>Nt()-cr?(Ee&2)===0&&Zl(e,0):qc|=l,Xl===ke&&(Xl=0)),Wt(e)}function lm(e,t){t===0&&(t=Wo()),e=Wa(e,t),e!==null&&(os(e,t),Wt(e))}function Fx(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),lm(e,l)}function Kx(e,t){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(l=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(o(314))}s!==null&&s.delete(t),lm(e,l)}function Jx(e,t){return ri(e,t)}var xr=null,Kl=null,Kc=!1,gr=!1,Jc=!1,Ba=0;function Wt(e){e!==Kl&&e.next===null&&(Kl===null?xr=Kl=e:Kl=Kl.next=e),gr=!0,Kc||(Kc=!0,Wx())}function Vs(e,t){if(!Jc&&gr){Jc=!0;do for(var l=!1,s=xr;s!==null;){if(e!==0){var r=s.pendingLanes;if(r===0)var i=0;else{var m=s.suspendedLanes,x=s.pingedLanes;i=(1<<31-kt(42|e)+1)-1,i&=r&~(m&~x),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,im(s,i))}else i=ke,i=vn(s,s===Ue?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(i&3)===0||cs(s,i)||(l=!0,im(s,i));s=s.next}while(l);Jc=!1}}function $x(){sm()}function sm(){gr=Kc=!1;var e=0;Ba!==0&&ig()&&(e=Ba);for(var t=Nt(),l=null,s=xr;s!==null;){var r=s.next,i=nm(s,t);i===0?(s.next=null,l===null?xr=r:l.next=r,r===null&&(Kl=l)):(l=s,(e!==0||(i&3)!==0)&&(gr=!0)),s=r}Ie!==0&&Ie!==5||Vs(e),Ba!==0&&(Ba=0)}function nm(e,t){for(var l=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var m=31-kt(i),x=1<<m,N=r[m];N===-1?((x&l)===0||(x&s)!==0)&&(r[m]=wh(x,t)):N<=t&&(e.expiredLanes|=x),i&=~x}if(t=Ue,l=ke,l=vn(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===t&&(Te===2||Te===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ii(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||cs(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(s!==null&&ii(s),di(l)){case 2:case 8:l=Jo;break;case 32:l=gn;break;case 268435456:l=$o;break;default:l=gn}return s=rm.bind(null,e),l=ri(l,s),e.callbackPriority=t,e.callbackNode=l,t}return s!==null&&s!==null&&ii(s),e.callbackPriority=2,e.callbackNode=null,2}function rm(e,t){if(Ie!==0&&Ie!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(hr()&&e.callbackNode!==l)return null;var s=ke;return s=vn(e,e===Ue?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Y0(e,s,t),nm(e,Nt()),e.callbackNode!=null&&e.callbackNode===l?rm.bind(null,e):null)}function im(e,t){if(hr())return null;Y0(e,t,!0)}function Wx(){og(function(){(Ee&6)!==0?ri(Ko,$x):sm()})}function $c(){if(Ba===0){var e=Ol;e===0&&(e=pn,pn<<=1,(pn&261888)===0&&(pn=256)),Ba=e}return Ba}function cm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:kn(""+e)}function om(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Px(e,t,l,s,r){if(t==="submit"&&l&&l.stateNode===r){var i=cm((r[mt]||null).action),m=s.submitter;m&&(t=(t=m[mt]||null)?cm(t.formAction):m.getAttribute("formAction"),t!==null&&(i=t,m=null));var x=new Cn("action","action",null,s,r);e.push({event:x,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ba!==0){var N=m?om(r,m):new FormData(r);gc(l,{pending:!0,data:N,method:r.method,action:i},null,N)}}else typeof i=="function"&&(x.preventDefault(),N=m?om(r,m):new FormData(r),gc(l,{pending:!0,data:N,method:r.method,action:i},i,N))},currentTarget:r}]})}}for(var Wc=0;Wc<Oi.length;Wc++){var Pc=Oi[Wc],Ix=Pc.toLowerCase(),eg=Pc[0].toUpperCase()+Pc.slice(1);Vt(Ix,"on"+eg)}Vt(qd,"onAnimationEnd"),Vt(Yd,"onAnimationIteration"),Vt(Gd,"onAnimationStart"),Vt("dblclick","onDoubleClick"),Vt("focusin","onFocus"),Vt("focusout","onBlur"),Vt(gx,"onTransitionRun"),Vt(px,"onTransitionStart"),Vt(bx,"onTransitionCancel"),Vt(Vd,"onTransitionEnd"),yl("onMouseEnter",["mouseout","mouseover"]),yl("onMouseLeave",["mouseout","mouseover"]),yl("onPointerEnter",["pointerout","pointerover"]),yl("onPointerLeave",["pointerout","pointerover"]),Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xs));function dm(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],r=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var m=s.length-1;0<=m;m--){var x=s[m],N=x.instance,z=x.currentTarget;if(x=x.listener,N!==i&&r.isPropagationStopped())break e;i=x,r.currentTarget=z;try{i(r)}catch(Y){Tn(Y)}r.currentTarget=null,i=N}else for(m=0;m<s.length;m++){if(x=s[m],N=x.instance,z=x.currentTarget,x=x.listener,N!==i&&r.isPropagationStopped())break e;i=x,r.currentTarget=z;try{i(r)}catch(Y){Tn(Y)}r.currentTarget=null,i=N}}}}function Ne(e,t){var l=t[ui];l===void 0&&(l=t[ui]=new Set);var s=e+"__bubble";l.has(s)||(um(t,e,2,!1),l.add(s))}function Ic(e,t,l){var s=0;t&&(s|=4),um(l,e,s,t)}var pr="_reactListening"+Math.random().toString(36).slice(2);function eo(e){if(!e[pr]){e[pr]=!0,sd.forEach(function(l){l!=="selectionchange"&&(tg.has(l)||Ic(l,!1,e),Ic(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pr]||(t[pr]=!0,Ic("selectionchange",!1,t))}}function um(e,t,l,s){switch(qm(t)){case 2:var r=Dg;break;case 8:r=Eg;break;default:r=go}l=r.bind(null,t,l,e),r=void 0,!vi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,l,{capture:!0,passive:r}):e.addEventListener(t,l,!0):r!==void 0?e.addEventListener(t,l,{passive:r}):e.addEventListener(t,l,!1)}function to(e,t,l,s,r){var i=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var x=s.stateNode.containerInfo;if(x===r)break;if(m===4)for(m=s.return;m!==null;){var N=m.tag;if((N===3||N===4)&&m.stateNode.containerInfo===r)return;m=m.return}for(;x!==null;){if(m=gl(x),m===null)return;if(N=m.tag,N===5||N===6||N===26||N===27){s=i=m;continue e}x=x.parentNode}}s=s.return}gd(function(){var z=i,Y=bi(l),Z=[];e:{var B=Xd.get(e);if(B!==void 0){var U=Cn,le=e;switch(e){case"keypress":if(Mn(l)===0)break e;case"keydown":case"keyup":U=Kh;break;case"focusin":le="focus",U=ki;break;case"focusout":le="blur",U=ki;break;case"beforeblur":case"afterblur":U=ki;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=_h;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Wh;break;case qd:case Yd:case Gd:U=Hh;break;case Vd:U=Ih;break;case"scroll":case"scrollend":U=zh;break;case"wheel":U=tx;break;case"copy":case"cut":case"paste":U=Yh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=jd;break;case"toggle":case"beforetoggle":U=lx}var de=(t&4)!==0,_e=!de&&(e==="scroll"||e==="scrollend"),T=de?B!==null?B+"Capture":null:B;de=[];for(var M=z,O;M!==null;){var X=M;if(O=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||O===null||T===null||(X=ms(M,T),X!=null&&de.push(Qs(M,X,O))),_e)break;M=M.return}0<de.length&&(B=new U(B,le,null,l,Y),Z.push({event:B,listeners:de}))}}if((t&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",B&&l!==pi&&(le=l.relatedTarget||l.fromElement)&&(gl(le)||le[xl]))break e;if((U||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,U?(le=l.relatedTarget||l.toElement,U=z,le=le?gl(le):null,le!==null&&(_e=f(le),de=le.tag,le!==_e||de!==5&&de!==27&&de!==6)&&(le=null)):(U=null,le=z),U!==le)){if(de=yd,X="onMouseLeave",T="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(de=jd,X="onPointerLeave",T="onPointerEnter",M="pointer"),_e=U==null?B:us(U),O=le==null?B:us(le),B=new de(X,M+"leave",U,l,Y),B.target=_e,B.relatedTarget=O,X=null,gl(Y)===z&&(de=new de(T,M+"enter",le,l,Y),de.target=O,de.relatedTarget=_e,X=de),_e=X,U&&le)t:{for(de=ag,T=U,M=le,O=0,X=T;X;X=de(X))O++;X=0;for(var ie=M;ie;ie=de(ie))X++;for(;0<O-X;)T=de(T),O--;for(;0<X-O;)M=de(M),X--;for(;O--;){if(T===M||M!==null&&T===M.alternate){de=T;break t}T=de(T),M=de(M)}de=null}else de=null;U!==null&&mm(Z,B,U,de,!1),le!==null&&_e!==null&&mm(Z,_e,le,de,!0)}}e:{if(B=z?us(z):window,U=B.nodeName&&B.nodeName.toLowerCase(),U==="select"||U==="input"&&B.type==="file")var Ce=Dd;else if(Ad(B))if(Ed)Ce=fx;else{Ce=ux;var ne=dx}else U=B.nodeName,!U||U.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&gi(z.elementType)&&(Ce=Dd):Ce=mx;if(Ce&&(Ce=Ce(e,z))){Cd(Z,Ce,l,Y);break e}ne&&ne(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&xi(B,"number",B.value)}switch(ne=z?us(z):window,e){case"focusin":(Ad(ne)||ne.contentEditable==="true")&&(Sl=ne,Ei=z,vs=null);break;case"focusout":vs=Ei=Sl=null;break;case"mousedown":Ti=!0;break;case"contextmenu":case"mouseup":case"dragend":Ti=!1,Ld(Z,l,Y);break;case"selectionchange":if(xx)break;case"keydown":case"keyup":Ld(Z,l,Y)}var ge;if(Mi)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else kl?Sd(e,l)&&(Se="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Se="onCompositionStart");Se&&(Nd&&l.locale!=="ko"&&(kl||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&kl&&(ge=pd()):(ya=Y,ji="value"in ya?ya.value:ya.textContent,kl=!0)),ne=br(z,Se),0<ne.length&&(Se=new vd(Se,e,null,l,Y),Z.push({event:Se,listeners:ne}),ge?Se.data=ge:(ge=Md(l),ge!==null&&(Se.data=ge)))),(ge=nx?rx(e,l):ix(e,l))&&(Se=br(z,"onBeforeInput"),0<Se.length&&(ne=new vd("onBeforeInput","beforeinput",null,l,Y),Z.push({event:ne,listeners:Se}),ne.data=ge)),Px(Z,e,z,l,Y)}dm(Z,t)})}function Qs(e,t,l){return{instance:e,listener:t,currentTarget:l}}function br(e,t){for(var l=t+"Capture",s=[];e!==null;){var r=e,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=ms(e,l),r!=null&&s.unshift(Qs(e,r,i)),r=ms(e,t),r!=null&&s.push(Qs(e,r,i))),e.tag===3)return s;e=e.return}return[]}function ag(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function mm(e,t,l,s,r){for(var i=t._reactName,m=[];l!==null&&l!==s;){var x=l,N=x.alternate,z=x.stateNode;if(x=x.tag,N!==null&&N===s)break;x!==5&&x!==26&&x!==27||z===null||(N=z,r?(z=ms(l,i),z!=null&&m.unshift(Qs(l,z,N))):r||(z=ms(l,i),z!=null&&m.push(Qs(l,z,N)))),l=l.return}m.length!==0&&e.push({event:t,listeners:m})}var lg=/\r\n?/g,sg=/\u0000|\uFFFD/g;function fm(e){return(typeof e=="string"?e:""+e).replace(lg,`
`).replace(sg,"")}function hm(e,t){return t=fm(t),fm(e)===t}function Be(e,t,l,s,r,i){switch(l){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||jl(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&jl(e,""+s);break;case"className":Nn(e,"class",s);break;case"tabIndex":Nn(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(e,l,s);break;case"style":hd(e,s,i);break;case"data":if(t!=="object"){Nn(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=kn(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&Be(e,t,"name",r.name,r,null),Be(e,t,"formEncType",r.formEncType,r,null),Be(e,t,"formMethod",r.formMethod,r,null),Be(e,t,"formTarget",r.formTarget,r,null)):(Be(e,t,"encType",r.encType,r,null),Be(e,t,"method",r.method,r,null),Be(e,t,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=kn(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=ea);break;case"onScroll":s!=null&&Ne("scroll",e);break;case"onScrollEnd":s!=null&&Ne("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(l=s.__html,l!=null){if(r.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=kn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":Ne("beforetoggle",e),Ne("toggle",e),jn(e,"popover",s);break;case"xlinkActuate":It(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":It(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":It(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":It(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":It(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":It(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":It(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":It(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":It(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":jn(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Rh.get(l)||l,jn(e,l,s))}}function ao(e,t,l,s,r,i){switch(l){case"style":hd(e,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(l=s.__html,l!=null){if(r.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof s=="string"?jl(e,s):(typeof s=="number"||typeof s=="bigint")&&jl(e,""+s);break;case"onScroll":s!=null&&Ne("scroll",e);break;case"onScrollEnd":s!=null&&Ne("scrollend",e);break;case"onClick":s!=null&&(e.onclick=ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nd.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(r=l.endsWith("Capture"),t=l.slice(2,r?l.length-7:void 0),i=e[mt]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,r),typeof s=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,s,r);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):jn(e,l,s)}}}function it(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",e),Ne("load",e);var s=!1,r=!1,i;for(i in l)if(l.hasOwnProperty(i)){var m=l[i];if(m!=null)switch(i){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Be(e,t,i,m,l,null)}}r&&Be(e,t,"srcSet",l.srcSet,l,null),s&&Be(e,t,"src",l.src,l,null);return;case"input":Ne("invalid",e);var x=i=m=r=null,N=null,z=null;for(s in l)if(l.hasOwnProperty(s)){var Y=l[s];if(Y!=null)switch(s){case"name":r=Y;break;case"type":m=Y;break;case"checked":N=Y;break;case"defaultChecked":z=Y;break;case"value":i=Y;break;case"defaultValue":x=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(o(137,t));break;default:Be(e,t,s,Y,l,null)}}dd(e,i,x,N,z,m,r,!1);return;case"select":Ne("invalid",e),s=m=i=null;for(r in l)if(l.hasOwnProperty(r)&&(x=l[r],x!=null))switch(r){case"value":i=x;break;case"defaultValue":m=x;break;case"multiple":s=x;default:Be(e,t,r,x,l,null)}t=i,l=m,e.multiple=!!s,t!=null?vl(e,!!s,t,!1):l!=null&&vl(e,!!s,l,!0);return;case"textarea":Ne("invalid",e),i=r=s=null;for(m in l)if(l.hasOwnProperty(m)&&(x=l[m],x!=null))switch(m){case"value":s=x;break;case"defaultValue":r=x;break;case"children":i=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(o(91));break;default:Be(e,t,m,x,l,null)}md(e,s,r,i);return;case"option":for(N in l)if(l.hasOwnProperty(N)&&(s=l[N],s!=null))switch(N){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Be(e,t,N,s,l,null)}return;case"dialog":Ne("beforetoggle",e),Ne("toggle",e),Ne("cancel",e),Ne("close",e);break;case"iframe":case"object":Ne("load",e);break;case"video":case"audio":for(s=0;s<Xs.length;s++)Ne(Xs[s],e);break;case"image":Ne("error",e),Ne("load",e);break;case"details":Ne("toggle",e);break;case"embed":case"source":case"link":Ne("error",e),Ne("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in l)if(l.hasOwnProperty(z)&&(s=l[z],s!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Be(e,t,z,s,l,null)}return;default:if(gi(t)){for(Y in l)l.hasOwnProperty(Y)&&(s=l[Y],s!==void 0&&ao(e,t,Y,s,l,void 0));return}}for(x in l)l.hasOwnProperty(x)&&(s=l[x],s!=null&&Be(e,t,x,s,l,null))}function ng(e,t,l,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,m=null,x=null,N=null,z=null,Y=null;for(U in l){var Z=l[U];if(l.hasOwnProperty(U)&&Z!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":N=Z;default:s.hasOwnProperty(U)||Be(e,t,U,null,s,Z)}}for(var B in s){var U=s[B];if(Z=l[B],s.hasOwnProperty(B)&&(U!=null||Z!=null))switch(B){case"type":i=U;break;case"name":r=U;break;case"checked":z=U;break;case"defaultChecked":Y=U;break;case"value":m=U;break;case"defaultValue":x=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(o(137,t));break;default:U!==Z&&Be(e,t,B,U,s,Z)}}hi(e,m,x,N,z,Y,i,r);return;case"select":U=m=x=B=null;for(i in l)if(N=l[i],l.hasOwnProperty(i)&&N!=null)switch(i){case"value":break;case"multiple":U=N;default:s.hasOwnProperty(i)||Be(e,t,i,null,s,N)}for(r in s)if(i=s[r],N=l[r],s.hasOwnProperty(r)&&(i!=null||N!=null))switch(r){case"value":B=i;break;case"defaultValue":x=i;break;case"multiple":m=i;default:i!==N&&Be(e,t,r,i,s,N)}t=x,l=m,s=U,B!=null?vl(e,!!l,B,!1):!!s!=!!l&&(t!=null?vl(e,!!l,t,!0):vl(e,!!l,l?[]:"",!1));return;case"textarea":U=B=null;for(x in l)if(r=l[x],l.hasOwnProperty(x)&&r!=null&&!s.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Be(e,t,x,null,s,r)}for(m in s)if(r=s[m],i=l[m],s.hasOwnProperty(m)&&(r!=null||i!=null))switch(m){case"value":B=r;break;case"defaultValue":U=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(o(91));break;default:r!==i&&Be(e,t,m,r,s,i)}ud(e,B,U);return;case"option":for(var le in l)if(B=l[le],l.hasOwnProperty(le)&&B!=null&&!s.hasOwnProperty(le))switch(le){case"selected":e.selected=!1;break;default:Be(e,t,le,null,s,B)}for(N in s)if(B=s[N],U=l[N],s.hasOwnProperty(N)&&B!==U&&(B!=null||U!=null))switch(N){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Be(e,t,N,B,s,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in l)B=l[de],l.hasOwnProperty(de)&&B!=null&&!s.hasOwnProperty(de)&&Be(e,t,de,null,s,B);for(z in s)if(B=s[z],U=l[z],s.hasOwnProperty(z)&&B!==U&&(B!=null||U!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(o(137,t));break;default:Be(e,t,z,B,s,U)}return;default:if(gi(t)){for(var _e in l)B=l[_e],l.hasOwnProperty(_e)&&B!==void 0&&!s.hasOwnProperty(_e)&&ao(e,t,_e,void 0,s,B);for(Y in s)B=s[Y],U=l[Y],!s.hasOwnProperty(Y)||B===U||B===void 0&&U===void 0||ao(e,t,Y,B,s,U);return}}for(var T in l)B=l[T],l.hasOwnProperty(T)&&B!=null&&!s.hasOwnProperty(T)&&Be(e,t,T,null,s,B);for(Z in s)B=s[Z],U=l[Z],!s.hasOwnProperty(Z)||B===U||B==null&&U==null||Be(e,t,Z,B,s,U)}function xm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var r=l[s],i=r.transferSize,m=r.initiatorType,x=r.duration;if(i&&x&&xm(m)){for(m=0,x=r.responseEnd,s+=1;s<l.length;s++){var N=l[s],z=N.startTime;if(z>x)break;var Y=N.transferSize,Z=N.initiatorType;Y&&xm(Z)&&(N=N.responseEnd,m+=Y*(N<x?1:(x-z)/(N-z)))}if(--s,t+=8*(i+m)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var lo=null,so=null;function yr(e){return e.nodeType===9?e:e.ownerDocument}function gm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function no(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ro=null;function ig(){var e=window.event;return e&&e.type==="popstate"?e===ro?!1:(ro=e,!0):(ro=null,!1)}var bm=typeof setTimeout=="function"?setTimeout:void 0,cg=typeof clearTimeout=="function"?clearTimeout:void 0,ym=typeof Promise=="function"?Promise:void 0,og=typeof queueMicrotask=="function"?queueMicrotask:typeof ym<"u"?function(e){return ym.resolve(null).then(e).catch(dg)}:bm;function dg(e){setTimeout(function(){throw e})}function _a(e){return e==="head"}function vm(e,t){var l=t,s=0;do{var r=l.nextSibling;if(e.removeChild(l),r&&r.nodeType===8)if(l=r.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(r),Pl(t);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")Zs(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Zs(l);for(var i=l.firstChild;i;){var m=i.nextSibling,x=i.nodeName;i[ds]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&i.rel.toLowerCase()==="stylesheet"||l.removeChild(i),i=m}}else l==="body"&&Zs(e.ownerDocument.body);l=r}while(l);Pl(t)}function jm(e,t){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function io(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":io(l),mi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function ug(e,t,l,s){for(;e.nodeType===1;){var r=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ds])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function mg(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Yt(e.nextSibling),e===null))return null;return e}function Nm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Yt(e.nextSibling),e===null))return null;return e}function co(e){return e.data==="$?"||e.data==="$~"}function oo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function fg(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var s=function(){t(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var uo=null;function wm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return Yt(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function km(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Sm(e,t,l){switch(t=yr(l),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Zs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);mi(e)}var Gt=new Map,Mm=new Set;function vr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ga=W.d;W.d={f:hg,r:xg,D:gg,C:pg,L:bg,m:yg,X:jg,S:vg,M:Ng};function hg(){var e=ga.f(),t=ur();return e||t}function xg(e){var t=pl(e);t!==null&&t.tag===5&&t.type==="form"?Vu(t):ga.r(e)}var Jl=typeof document>"u"?null:document;function Am(e,t,l){var s=Jl;if(s&&typeof t=="string"&&t){var r=zt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof l=="string"&&(r+='[crossorigin="'+l+'"]'),Mm.has(r)||(Mm.add(r),e={rel:e,crossOrigin:l,href:t},s.querySelector(r)===null&&(t=s.createElement("link"),it(t,"link",e),et(t),s.head.appendChild(t)))}}function gg(e){ga.D(e),Am("dns-prefetch",e,null)}function pg(e,t){ga.C(e,t),Am("preconnect",e,t)}function bg(e,t,l){ga.L(e,t,l);var s=Jl;if(s&&e&&t){var r='link[rel="preload"][as="'+zt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(r+='[imagesrcset="'+zt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(r+='[imagesizes="'+zt(l.imageSizes)+'"]')):r+='[href="'+zt(e)+'"]';var i=r;switch(t){case"style":i=$l(e);break;case"script":i=Wl(e)}Gt.has(i)||(e=v({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Gt.set(i,e),s.querySelector(r)!==null||t==="style"&&s.querySelector(Fs(i))||t==="script"&&s.querySelector(Ks(i))||(t=s.createElement("link"),it(t,"link",e),et(t),s.head.appendChild(t)))}}function yg(e,t){ga.m(e,t);var l=Jl;if(l&&e){var s=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+zt(s)+'"][href="'+zt(e)+'"]',i=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Wl(e)}if(!Gt.has(i)&&(e=v({rel:"modulepreload",href:e},t),Gt.set(i,e),l.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ks(i)))return}s=l.createElement("link"),it(s,"link",e),et(s),l.head.appendChild(s)}}}function vg(e,t,l){ga.S(e,t,l);var s=Jl;if(s&&e){var r=bl(s).hoistableStyles,i=$l(e);t=t||"default";var m=r.get(i);if(!m){var x={loading:0,preload:null};if(m=s.querySelector(Fs(i)))x.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Gt.get(i))&&mo(e,l);var N=m=s.createElement("link");et(N),it(N,"link",e),N._p=new Promise(function(z,Y){N.onload=z,N.onerror=Y}),N.addEventListener("load",function(){x.loading|=1}),N.addEventListener("error",function(){x.loading|=2}),x.loading|=4,jr(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:x},r.set(i,m)}}}function jg(e,t){ga.X(e,t);var l=Jl;if(l&&e){var s=bl(l).hoistableScripts,r=Wl(e),i=s.get(r);i||(i=l.querySelector(Ks(r)),i||(e=v({src:e,async:!0},t),(t=Gt.get(r))&&fo(e,t),i=l.createElement("script"),et(i),it(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function Ng(e,t){ga.M(e,t);var l=Jl;if(l&&e){var s=bl(l).hoistableScripts,r=Wl(e),i=s.get(r);i||(i=l.querySelector(Ks(r)),i||(e=v({src:e,async:!0,type:"module"},t),(t=Gt.get(r))&&fo(e,t),i=l.createElement("script"),et(i),it(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function Cm(e,t,l,s){var r=(r=me.current)?vr(r):null;if(!r)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=$l(l.href),l=bl(r).hoistableStyles,s=l.get(t),s||(s={type:"style",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=$l(l.href);var i=bl(r).hoistableStyles,m=i.get(e);if(m||(r=r.ownerDocument||r,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,m),(i=r.querySelector(Fs(e)))&&!i._p&&(m.instance=i,m.state.loading=5),Gt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Gt.set(e,l),i||wg(r,e,l,m.state))),t&&s===null)throw Error(o(528,""));return m}if(t&&s!==null)throw Error(o(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Wl(l),l=bl(r).hoistableScripts,s=l.get(t),s||(s={type:"script",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function $l(e){return'href="'+zt(e)+'"'}function Fs(e){return'link[rel="stylesheet"]['+e+"]"}function Dm(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function wg(e,t,l,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),it(t,"link",l),et(t),e.head.appendChild(t))}function Wl(e){return'[src="'+zt(e)+'"]'}function Ks(e){return"script[async]"+e}function Em(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+zt(l.href)+'"]');if(s)return t.instance=s,et(s),s;var r=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),et(s),it(s,"style",r),jr(s,l.precedence,e),t.instance=s;case"stylesheet":r=$l(l.href);var i=e.querySelector(Fs(r));if(i)return t.state.loading|=4,t.instance=i,et(i),i;s=Dm(l),(r=Gt.get(r))&&mo(s,r),i=(e.ownerDocument||e).createElement("link"),et(i);var m=i;return m._p=new Promise(function(x,N){m.onload=x,m.onerror=N}),it(i,"link",s),t.state.loading|=4,jr(i,l.precedence,e),t.instance=i;case"script":return i=Wl(l.src),(r=e.querySelector(Ks(i)))?(t.instance=r,et(r),r):(s=l,(r=Gt.get(i))&&(s=v({},l),fo(s,r)),e=e.ownerDocument||e,r=e.createElement("script"),et(r),it(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,jr(s,l.precedence,e));return t.instance}function jr(e,t,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,i=r,m=0;m<s.length;m++){var x=s[m];if(x.dataset.precedence===t)i=x;else if(i!==r)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function mo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function fo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Nr=null;function Tm(e,t,l){if(Nr===null){var s=new Map,r=Nr=new Map;r.set(l,s)}else r=Nr,s=r.get(l),s||(s=new Map,r.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),r=0;r<l.length;r++){var i=l[r];if(!(i[ds]||i[lt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var m=i.getAttribute(t)||"";m=e+m;var x=s.get(m);x?x.push(i):s.set(m,[i])}}return s}function Rm(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function kg(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Om(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Sg(e,t,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var r=$l(s.href),i=t.querySelector(Fs(r));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=wr.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=i,et(i);return}i=t.ownerDocument||t,s=Dm(s),(r=Gt.get(r))&&mo(s,r),i=i.createElement("link"),et(i);var m=i;m._p=new Promise(function(x,N){m.onload=x,m.onerror=N}),it(i,"link",s),l.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=wr.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var ho=0;function Mg(e,t){return e.stylesheets&&e.count===0&&Sr(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&Sr(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&ho===0&&(ho=62500*rg());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Sr(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>ho?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(r)}}:null}function wr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var kr=null;function Sr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,kr=new Map,t.forEach(Ag,e),kr=null,wr.call(e))}function Ag(e,t){if(!(t.state.loading&4)){var l=kr.get(e);if(l)var s=l.get(null);else{l=new Map,kr.set(e,l);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var m=r[i];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(l.set(m.dataset.precedence,m),s=m)}s&&l.set(null,s)}r=t.instance,m=r.getAttribute("data-precedence"),i=l.get(m)||s,i===s&&l.set(null,r),l.set(m,r),this.count++,s=wr.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),i?i.parentNode.insertBefore(r,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Js={$$typeof:H,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Cg(e,t,l,s,r,i,m,x,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function zm(e,t,l,s,r,i,m,x,N,z,Y,Z){return e=new Cg(e,t,l,m,N,z,Y,Z,x),t=1,i===!0&&(t|=24),i=Mt(3,null,null,t),e.current=i,i.stateNode=e,t=Zi(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:s,isDehydrated:l,cache:t},$i(i),e}function Bm(e){return e?(e=Cl,e):Cl}function _m(e,t,l,s,r,i){r=Bm(r),s.context===null?s.context=r:s.pendingContext=r,s=Sa(t),s.payload={element:l},i=i===void 0?null:i,i!==null&&(s.callback=i),l=Ma(e,s,t),l!==null&&(bt(l,e,t),As(l,e,t))}function Um(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function xo(e,t){Um(e,t),(e=e.alternate)&&Um(e,t)}function Lm(e){if(e.tag===13||e.tag===31){var t=Wa(e,67108864);t!==null&&bt(t,e,67108864),xo(e,67108864)}}function Hm(e){if(e.tag===13||e.tag===31){var t=Tt();t=oi(t);var l=Wa(e,t);l!==null&&bt(l,e,t),xo(e,t)}}var Mr=!0;function Dg(e,t,l,s){var r=R.T;R.T=null;var i=W.p;try{W.p=2,go(e,t,l,s)}finally{W.p=i,R.T=r}}function Eg(e,t,l,s){var r=R.T;R.T=null;var i=W.p;try{W.p=8,go(e,t,l,s)}finally{W.p=i,R.T=r}}function go(e,t,l,s){if(Mr){var r=po(s);if(r===null)to(e,t,s,Ar,l),Ym(e,s);else if(Rg(r,e,t,l,s))s.stopPropagation();else if(Ym(e,s),t&4&&-1<Tg.indexOf(e)){for(;r!==null;){var i=pl(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var m=Za(i.pendingLanes);if(m!==0){var x=i;for(x.pendingLanes|=2,x.entangledLanes|=2;m;){var N=1<<31-kt(m);x.entanglements[1]|=N,m&=~N}Wt(i),(Ee&6)===0&&(or=Nt()+500,Vs(0))}}break;case 31:case 13:x=Wa(i,2),x!==null&&bt(x,i,2),ur(),xo(i,2)}if(i=po(s),i===null&&to(e,t,s,Ar,l),i===r)break;r=i}r!==null&&s.stopPropagation()}else to(e,t,s,null,l)}}function po(e){return e=bi(e),bo(e)}var Ar=null;function bo(e){if(Ar=null,e=gl(e),e!==null){var t=f(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=h(t),e!==null)return e;e=null}else if(l===31){if(e=p(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ar=e,null}function qm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gh()){case Ko:return 2;case Jo:return 8;case gn:case ph:return 32;case $o:return 268435456;default:return 32}default:return 32}}var yo=!1,Ua=null,La=null,Ha=null,$s=new Map,Ws=new Map,qa=[],Tg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ym(e,t){switch(e){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":La=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":$s.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(t.pointerId)}}function Ps(e,t,l,s,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},t!==null&&(t=pl(t),t!==null&&Lm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Rg(e,t,l,s,r){switch(t){case"focusin":return Ua=Ps(Ua,e,t,l,s,r),!0;case"dragenter":return La=Ps(La,e,t,l,s,r),!0;case"mouseover":return Ha=Ps(Ha,e,t,l,s,r),!0;case"pointerover":var i=r.pointerId;return $s.set(i,Ps($s.get(i)||null,e,t,l,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Ws.set(i,Ps(Ws.get(i)||null,e,t,l,s,r)),!0}return!1}function Gm(e){var t=gl(e.target);if(t!==null){var l=f(t);if(l!==null){if(t=l.tag,t===13){if(t=h(l),t!==null){e.blockedOn=t,ad(e.priority,function(){Hm(l)});return}}else if(t===31){if(t=p(l),t!==null){e.blockedOn=t,ad(e.priority,function(){Hm(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=po(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);pi=s,l.target.dispatchEvent(s),pi=null}else return t=pl(l),t!==null&&Lm(t),e.blockedOn=l,!1;t.shift()}return!0}function Vm(e,t,l){Cr(e)&&l.delete(t)}function Og(){yo=!1,Ua!==null&&Cr(Ua)&&(Ua=null),La!==null&&Cr(La)&&(La=null),Ha!==null&&Cr(Ha)&&(Ha=null),$s.forEach(Vm),Ws.forEach(Vm)}function Dr(e,t){e.blockedOn===t&&(e.blockedOn=null,yo||(yo=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Og)))}var Er=null;function Xm(e){Er!==e&&(Er=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Er===e&&(Er=null);for(var t=0;t<e.length;t+=3){var l=e[t],s=e[t+1],r=e[t+2];if(typeof s!="function"){if(bo(s||l)===null)continue;break}var i=pl(l);i!==null&&(e.splice(t,3),t-=3,gc(i,{pending:!0,data:r,method:l.method,action:s},s,r))}}))}function Pl(e){function t(N){return Dr(N,e)}Ua!==null&&Dr(Ua,e),La!==null&&Dr(La,e),Ha!==null&&Dr(Ha,e),$s.forEach(t),Ws.forEach(t);for(var l=0;l<qa.length;l++){var s=qa[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<qa.length&&(l=qa[0],l.blockedOn===null);)Gm(l),l.blockedOn===null&&qa.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var r=l[s],i=l[s+1],m=r[mt]||null;if(typeof i=="function")m||Xm(l);else if(m){var x=null;if(i&&i.hasAttribute("formAction")){if(r=i,m=i[mt]||null)x=m.formAction;else if(bo(r)!==null)continue}else x=m.action;typeof x=="function"?l[s+1]=x:(l.splice(s,3),s-=3),Xm(l)}}}function Qm(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(m){return r=m})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function vo(e){this._internalRoot=e}Tr.prototype.render=vo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var l=t.current,s=Tt();_m(l,s,e,t,null,null)},Tr.prototype.unmount=vo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_m(e.current,2,null,e,null,null),ur(),t[xl]=null}};function Tr(e){this._internalRoot=e}Tr.prototype.unstable_scheduleHydration=function(e){if(e){var t=td();e={blockedOn:null,target:e,priority:t};for(var l=0;l<qa.length&&t!==0&&t<qa[l].priority;l++);qa.splice(l,0,e),l===0&&Gm(e)}};var Zm=c.version;if(Zm!=="19.2.0")throw Error(o(527,Zm,"19.2.0"));W.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=g(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var zg={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rr.isDisabled&&Rr.supportsFiber)try{is=Rr.inject(zg),wt=Rr}catch{}}return en.createRoot=function(e,t){if(!u(e))throw Error(o(299));var l=!1,s="",r=Iu,i=e0,m=t0;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=zm(e,1,!1,null,null,l,s,null,r,i,m,Qm),e[xl]=t.current,eo(e),new vo(t)},en.hydrateRoot=function(e,t,l){if(!u(e))throw Error(o(299));var s=!1,r="",i=Iu,m=e0,x=t0,N=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(r=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(m=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError),l.formState!==void 0&&(N=l.formState)),t=zm(e,1,!0,t,l??null,s,r,N,i,m,x,Qm),t.context=Bm(null),l=t.current,s=Tt(),s=oi(s),r=Sa(s),r.callback=null,Ma(l,r,s),l=s,t.current.lanes=l,os(t,l),Wt(t),e[xl]=t.current,eo(e),new Tr(t)},en.version="19.2.0",en}var af;function Xg(){if(af)return wo.exports;af=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(c){console.error(c)}}return n(),wo.exports=Vg(),wo.exports}var Qg=Xg();const Zg=Af(Qg);function Df(n,c){return function(){return n.apply(c,arguments)}}const{toString:Fg}=Object.prototype,{getPrototypeOf:Ho}=Object,{iterator:Kr,toStringTag:Ef}=Symbol,Jr=(n=>c=>{const d=Fg.call(c);return n[d]||(n[d]=d.slice(8,-1).toLowerCase())})(Object.create(null)),Ft=n=>(n=n.toLowerCase(),c=>Jr(c)===n),$r=n=>c=>typeof c===n,{isArray:ss}=Array,as=$r("undefined");function an(n){return n!==null&&!as(n)&&n.constructor!==null&&!as(n.constructor)&&vt(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Tf=Ft("ArrayBuffer");function Kg(n){let c;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?c=ArrayBuffer.isView(n):c=n&&n.buffer&&Tf(n.buffer),c}const Jg=$r("string"),vt=$r("function"),Rf=$r("number"),ln=n=>n!==null&&typeof n=="object",$g=n=>n===!0||n===!1,Gr=n=>{if(Jr(n)!=="object")return!1;const c=Ho(n);return(c===null||c===Object.prototype||Object.getPrototypeOf(c)===null)&&!(Ef in n)&&!(Kr in n)},Wg=n=>{if(!ln(n)||an(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},Pg=Ft("Date"),Ig=Ft("File"),ep=Ft("Blob"),tp=Ft("FileList"),ap=n=>ln(n)&&vt(n.pipe),lp=n=>{let c;return n&&(typeof FormData=="function"&&n instanceof FormData||vt(n.append)&&((c=Jr(n))==="formdata"||c==="object"&&vt(n.toString)&&n.toString()==="[object FormData]"))},sp=Ft("URLSearchParams"),[np,rp,ip,cp]=["ReadableStream","Request","Response","Headers"].map(Ft),op=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sn(n,c,{allOwnKeys:d=!1}={}){if(n===null||typeof n>"u")return;let o,u;if(typeof n!="object"&&(n=[n]),ss(n))for(o=0,u=n.length;o<u;o++)c.call(null,n[o],o,n);else{if(an(n))return;const f=d?Object.getOwnPropertyNames(n):Object.keys(n),h=f.length;let p;for(o=0;o<h;o++)p=f[o],c.call(null,n[p],p,n)}}function Of(n,c){if(an(n))return null;c=c.toLowerCase();const d=Object.keys(n);let o=d.length,u;for(;o-- >0;)if(u=d[o],c===u.toLowerCase())return u;return null}const dl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,zf=n=>!as(n)&&n!==dl;function Oo(){const{caseless:n,skipUndefined:c}=zf(this)&&this||{},d={},o=(u,f)=>{const h=n&&Of(d,f)||f;Gr(d[h])&&Gr(u)?d[h]=Oo(d[h],u):Gr(u)?d[h]=Oo({},u):ss(u)?d[h]=u.slice():(!c||!as(u))&&(d[h]=u)};for(let u=0,f=arguments.length;u<f;u++)arguments[u]&&sn(arguments[u],o);return d}const dp=(n,c,d,{allOwnKeys:o}={})=>(sn(c,(u,f)=>{d&&vt(u)?n[f]=Df(u,d):n[f]=u},{allOwnKeys:o}),n),up=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),mp=(n,c,d,o)=>{n.prototype=Object.create(c.prototype,o),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:c.prototype}),d&&Object.assign(n.prototype,d)},fp=(n,c,d,o)=>{let u,f,h;const p={};if(c=c||{},n==null)return c;do{for(u=Object.getOwnPropertyNames(n),f=u.length;f-- >0;)h=u[f],(!o||o(h,n,c))&&!p[h]&&(c[h]=n[h],p[h]=!0);n=d!==!1&&Ho(n)}while(n&&(!d||d(n,c))&&n!==Object.prototype);return c},hp=(n,c,d)=>{n=String(n),(d===void 0||d>n.length)&&(d=n.length),d-=c.length;const o=n.indexOf(c,d);return o!==-1&&o===d},xp=n=>{if(!n)return null;if(ss(n))return n;let c=n.length;if(!Rf(c))return null;const d=new Array(c);for(;c-- >0;)d[c]=n[c];return d},gp=(n=>c=>n&&c instanceof n)(typeof Uint8Array<"u"&&Ho(Uint8Array)),pp=(n,c)=>{const o=(n&&n[Kr]).call(n);let u;for(;(u=o.next())&&!u.done;){const f=u.value;c.call(n,f[0],f[1])}},bp=(n,c)=>{let d;const o=[];for(;(d=n.exec(c))!==null;)o.push(d);return o},yp=Ft("HTMLFormElement"),vp=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(d,o,u){return o.toUpperCase()+u}),lf=(({hasOwnProperty:n})=>(c,d)=>n.call(c,d))(Object.prototype),jp=Ft("RegExp"),Bf=(n,c)=>{const d=Object.getOwnPropertyDescriptors(n),o={};sn(d,(u,f)=>{let h;(h=c(u,f,n))!==!1&&(o[f]=h||u)}),Object.defineProperties(n,o)},Np=n=>{Bf(n,(c,d)=>{if(vt(n)&&["arguments","caller","callee"].indexOf(d)!==-1)return!1;const o=n[d];if(vt(o)){if(c.enumerable=!1,"writable"in c){c.writable=!1;return}c.set||(c.set=()=>{throw Error("Can not rewrite read-only method '"+d+"'")})}})},wp=(n,c)=>{const d={},o=u=>{u.forEach(f=>{d[f]=!0})};return ss(n)?o(n):o(String(n).split(c)),d},kp=()=>{},Sp=(n,c)=>n!=null&&Number.isFinite(n=+n)?n:c;function Mp(n){return!!(n&&vt(n.append)&&n[Ef]==="FormData"&&n[Kr])}const Ap=n=>{const c=new Array(10),d=(o,u)=>{if(ln(o)){if(c.indexOf(o)>=0)return;if(an(o))return o;if(!("toJSON"in o)){c[u]=o;const f=ss(o)?[]:{};return sn(o,(h,p)=>{const b=d(h,u+1);!as(b)&&(f[p]=b)}),c[u]=void 0,f}}return o};return d(n,0)},Cp=Ft("AsyncFunction"),Dp=n=>n&&(ln(n)||vt(n))&&vt(n.then)&&vt(n.catch),_f=((n,c)=>n?setImmediate:c?((d,o)=>(dl.addEventListener("message",({source:u,data:f})=>{u===dl&&f===d&&o.length&&o.shift()()},!1),u=>{o.push(u),dl.postMessage(d,"*")}))(`axios@${Math.random()}`,[]):d=>setTimeout(d))(typeof setImmediate=="function",vt(dl.postMessage)),Ep=typeof queueMicrotask<"u"?queueMicrotask.bind(dl):typeof process<"u"&&process.nextTick||_f,Tp=n=>n!=null&&vt(n[Kr]),_={isArray:ss,isArrayBuffer:Tf,isBuffer:an,isFormData:lp,isArrayBufferView:Kg,isString:Jg,isNumber:Rf,isBoolean:$g,isObject:ln,isPlainObject:Gr,isEmptyObject:Wg,isReadableStream:np,isRequest:rp,isResponse:ip,isHeaders:cp,isUndefined:as,isDate:Pg,isFile:Ig,isBlob:ep,isRegExp:jp,isFunction:vt,isStream:ap,isURLSearchParams:sp,isTypedArray:gp,isFileList:tp,forEach:sn,merge:Oo,extend:dp,trim:op,stripBOM:up,inherits:mp,toFlatObject:fp,kindOf:Jr,kindOfTest:Ft,endsWith:hp,toArray:xp,forEachEntry:pp,matchAll:bp,isHTMLForm:yp,hasOwnProperty:lf,hasOwnProp:lf,reduceDescriptors:Bf,freezeMethods:Np,toObjectSet:wp,toCamelCase:vp,noop:kp,toFiniteNumber:Sp,findKey:Of,global:dl,isContextDefined:zf,isSpecCompliantForm:Mp,toJSONObject:Ap,isAsyncFn:Cp,isThenable:Dp,setImmediate:_f,asap:Ep,isIterable:Tp};function xe(n,c,d,o,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",c&&(this.code=c),d&&(this.config=d),o&&(this.request=o),u&&(this.response=u,this.status=u.status?u.status:null)}_.inherits(xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_.toJSONObject(this.config),code:this.code,status:this.status}}});const Uf=xe.prototype,Lf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Lf[n]={value:n}});Object.defineProperties(xe,Lf);Object.defineProperty(Uf,"isAxiosError",{value:!0});xe.from=(n,c,d,o,u,f)=>{const h=Object.create(Uf);_.toFlatObject(n,h,function(y){return y!==Error.prototype},g=>g!=="isAxiosError");const p=n&&n.message?n.message:"Error",b=c==null&&n?n.code:c;return xe.call(h,p,b,d,o,u),n&&h.cause==null&&Object.defineProperty(h,"cause",{value:n,configurable:!0}),h.name=n&&n.name||"Error",f&&Object.assign(h,f),h};const Rp=null;function zo(n){return _.isPlainObject(n)||_.isArray(n)}function Hf(n){return _.endsWith(n,"[]")?n.slice(0,-2):n}function sf(n,c,d){return n?n.concat(c).map(function(u,f){return u=Hf(u),!d&&f?"["+u+"]":u}).join(d?".":""):c}function Op(n){return _.isArray(n)&&!n.some(zo)}const zp=_.toFlatObject(_,{},null,function(c){return/^is[A-Z]/.test(c)});function Wr(n,c,d){if(!_.isObject(n))throw new TypeError("target must be an object");c=c||new FormData,d=_.toFlatObject(d,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,w){return!_.isUndefined(w[C])});const o=d.metaTokens,u=d.visitor||y,f=d.dots,h=d.indexes,b=(d.Blob||typeof Blob<"u"&&Blob)&&_.isSpecCompliantForm(c);if(!_.isFunction(u))throw new TypeError("visitor must be a function");function g(j){if(j===null)return"";if(_.isDate(j))return j.toISOString();if(_.isBoolean(j))return j.toString();if(!b&&_.isBlob(j))throw new xe("Blob is not supported. Use a Buffer instead.");return _.isArrayBuffer(j)||_.isTypedArray(j)?b&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function y(j,C,w){let E=j;if(j&&!w&&typeof j=="object"){if(_.endsWith(C,"{}"))C=o?C:C.slice(0,-2),j=JSON.stringify(j);else if(_.isArray(j)&&Op(j)||(_.isFileList(j)||_.endsWith(C,"[]"))&&(E=_.toArray(j)))return C=Hf(C),E.forEach(function(H,$){!(_.isUndefined(H)||H===null)&&c.append(h===!0?sf([C],$,f):h===null?C:C+"[]",g(H))}),!1}return zo(j)?!0:(c.append(sf(w,C,f),g(j)),!1)}const v=[],k=Object.assign(zp,{defaultVisitor:y,convertValue:g,isVisitable:zo});function D(j,C){if(!_.isUndefined(j)){if(v.indexOf(j)!==-1)throw Error("Circular reference detected in "+C.join("."));v.push(j),_.forEach(j,function(E,L){(!(_.isUndefined(E)||E===null)&&u.call(c,E,_.isString(L)?L.trim():L,C,k))===!0&&D(E,C?C.concat(L):[L])}),v.pop()}}if(!_.isObject(n))throw new TypeError("data must be an object");return D(n),c}function nf(n){const c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(o){return c[o]})}function qo(n,c){this._pairs=[],n&&Wr(n,this,c)}const qf=qo.prototype;qf.append=function(c,d){this._pairs.push([c,d])};qf.toString=function(c){const d=c?function(o){return c.call(this,o,nf)}:nf;return this._pairs.map(function(u){return d(u[0])+"="+d(u[1])},"").join("&")};function Bp(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Yf(n,c,d){if(!c)return n;const o=d&&d.encode||Bp;_.isFunction(d)&&(d={serialize:d});const u=d&&d.serialize;let f;if(u?f=u(c,d):f=_.isURLSearchParams(c)?c.toString():new qo(c,d).toString(o),f){const h=n.indexOf("#");h!==-1&&(n=n.slice(0,h)),n+=(n.indexOf("?")===-1?"?":"&")+f}return n}class rf{constructor(){this.handlers=[]}use(c,d,o){return this.handlers.push({fulfilled:c,rejected:d,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(c){this.handlers[c]&&(this.handlers[c]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(c){_.forEach(this.handlers,function(o){o!==null&&c(o)})}}const Gf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_p=typeof URLSearchParams<"u"?URLSearchParams:qo,Up=typeof FormData<"u"?FormData:null,Lp=typeof Blob<"u"?Blob:null,Hp={isBrowser:!0,classes:{URLSearchParams:_p,FormData:Up,Blob:Lp},protocols:["http","https","file","blob","url","data"]},Yo=typeof window<"u"&&typeof document<"u",Bo=typeof navigator=="object"&&navigator||void 0,qp=Yo&&(!Bo||["ReactNative","NativeScript","NS"].indexOf(Bo.product)<0),Yp=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Gp=Yo&&window.location.href||"http://localhost",Vp=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yo,hasStandardBrowserEnv:qp,hasStandardBrowserWebWorkerEnv:Yp,navigator:Bo,origin:Gp},Symbol.toStringTag,{value:"Module"})),dt={...Vp,...Hp};function Xp(n,c){return Wr(n,new dt.classes.URLSearchParams,{visitor:function(d,o,u,f){return dt.isNode&&_.isBuffer(d)?(this.append(o,d.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)},...c})}function Qp(n){return _.matchAll(/\w+|\[(\w*)]/g,n).map(c=>c[0]==="[]"?"":c[1]||c[0])}function Zp(n){const c={},d=Object.keys(n);let o;const u=d.length;let f;for(o=0;o<u;o++)f=d[o],c[f]=n[f];return c}function Vf(n){function c(d,o,u,f){let h=d[f++];if(h==="__proto__")return!0;const p=Number.isFinite(+h),b=f>=d.length;return h=!h&&_.isArray(u)?u.length:h,b?(_.hasOwnProp(u,h)?u[h]=[u[h],o]:u[h]=o,!p):((!u[h]||!_.isObject(u[h]))&&(u[h]=[]),c(d,o,u[h],f)&&_.isArray(u[h])&&(u[h]=Zp(u[h])),!p)}if(_.isFormData(n)&&_.isFunction(n.entries)){const d={};return _.forEachEntry(n,(o,u)=>{c(Qp(o),u,d,0)}),d}return null}function Fp(n,c,d){if(_.isString(n))try{return(c||JSON.parse)(n),_.trim(n)}catch(o){if(o.name!=="SyntaxError")throw o}return(d||JSON.stringify)(n)}const nn={transitional:Gf,adapter:["xhr","http","fetch"],transformRequest:[function(c,d){const o=d.getContentType()||"",u=o.indexOf("application/json")>-1,f=_.isObject(c);if(f&&_.isHTMLForm(c)&&(c=new FormData(c)),_.isFormData(c))return u?JSON.stringify(Vf(c)):c;if(_.isArrayBuffer(c)||_.isBuffer(c)||_.isStream(c)||_.isFile(c)||_.isBlob(c)||_.isReadableStream(c))return c;if(_.isArrayBufferView(c))return c.buffer;if(_.isURLSearchParams(c))return d.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),c.toString();let p;if(f){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Xp(c,this.formSerializer).toString();if((p=_.isFileList(c))||o.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return Wr(p?{"files[]":c}:c,b&&new b,this.formSerializer)}}return f||u?(d.setContentType("application/json",!1),Fp(c)):c}],transformResponse:[function(c){const d=this.transitional||nn.transitional,o=d&&d.forcedJSONParsing,u=this.responseType==="json";if(_.isResponse(c)||_.isReadableStream(c))return c;if(c&&_.isString(c)&&(o&&!this.responseType||u)){const h=!(d&&d.silentJSONParsing)&&u;try{return JSON.parse(c,this.parseReviver)}catch(p){if(h)throw p.name==="SyntaxError"?xe.from(p,xe.ERR_BAD_RESPONSE,this,null,this.response):p}}return c}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dt.classes.FormData,Blob:dt.classes.Blob},validateStatus:function(c){return c>=200&&c<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_.forEach(["delete","get","head","post","put","patch"],n=>{nn.headers[n]={}});const Kp=_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Jp=n=>{const c={};let d,o,u;return n&&n.split(`
`).forEach(function(h){u=h.indexOf(":"),d=h.substring(0,u).trim().toLowerCase(),o=h.substring(u+1).trim(),!(!d||c[d]&&Kp[d])&&(d==="set-cookie"?c[d]?c[d].push(o):c[d]=[o]:c[d]=c[d]?c[d]+", "+o:o)}),c},cf=Symbol("internals");function tn(n){return n&&String(n).trim().toLowerCase()}function Vr(n){return n===!1||n==null?n:_.isArray(n)?n.map(Vr):String(n)}function $p(n){const c=Object.create(null),d=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=d.exec(n);)c[o[1]]=o[2];return c}const Wp=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Ao(n,c,d,o,u){if(_.isFunction(o))return o.call(this,c,d);if(u&&(c=d),!!_.isString(c)){if(_.isString(o))return c.indexOf(o)!==-1;if(_.isRegExp(o))return o.test(c)}}function Pp(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(c,d,o)=>d.toUpperCase()+o)}function Ip(n,c){const d=_.toCamelCase(" "+c);["get","set","has"].forEach(o=>{Object.defineProperty(n,o+d,{value:function(u,f,h){return this[o].call(this,c,u,f,h)},configurable:!0})})}let jt=class{constructor(c){c&&this.set(c)}set(c,d,o){const u=this;function f(p,b,g){const y=tn(b);if(!y)throw new Error("header name must be a non-empty string");const v=_.findKey(u,y);(!v||u[v]===void 0||g===!0||g===void 0&&u[v]!==!1)&&(u[v||b]=Vr(p))}const h=(p,b)=>_.forEach(p,(g,y)=>f(g,y,b));if(_.isPlainObject(c)||c instanceof this.constructor)h(c,d);else if(_.isString(c)&&(c=c.trim())&&!Wp(c))h(Jp(c),d);else if(_.isObject(c)&&_.isIterable(c)){let p={},b,g;for(const y of c){if(!_.isArray(y))throw TypeError("Object iterator must return a key-value pair");p[g=y[0]]=(b=p[g])?_.isArray(b)?[...b,y[1]]:[b,y[1]]:y[1]}h(p,d)}else c!=null&&f(d,c,o);return this}get(c,d){if(c=tn(c),c){const o=_.findKey(this,c);if(o){const u=this[o];if(!d)return u;if(d===!0)return $p(u);if(_.isFunction(d))return d.call(this,u,o);if(_.isRegExp(d))return d.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(c,d){if(c=tn(c),c){const o=_.findKey(this,c);return!!(o&&this[o]!==void 0&&(!d||Ao(this,this[o],o,d)))}return!1}delete(c,d){const o=this;let u=!1;function f(h){if(h=tn(h),h){const p=_.findKey(o,h);p&&(!d||Ao(o,o[p],p,d))&&(delete o[p],u=!0)}}return _.isArray(c)?c.forEach(f):f(c),u}clear(c){const d=Object.keys(this);let o=d.length,u=!1;for(;o--;){const f=d[o];(!c||Ao(this,this[f],f,c,!0))&&(delete this[f],u=!0)}return u}normalize(c){const d=this,o={};return _.forEach(this,(u,f)=>{const h=_.findKey(o,f);if(h){d[h]=Vr(u),delete d[f];return}const p=c?Pp(f):String(f).trim();p!==f&&delete d[f],d[p]=Vr(u),o[p]=!0}),this}concat(...c){return this.constructor.concat(this,...c)}toJSON(c){const d=Object.create(null);return _.forEach(this,(o,u)=>{o!=null&&o!==!1&&(d[u]=c&&_.isArray(o)?o.join(", "):o)}),d}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([c,d])=>c+": "+d).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(c){return c instanceof this?c:new this(c)}static concat(c,...d){const o=new this(c);return d.forEach(u=>o.set(u)),o}static accessor(c){const o=(this[cf]=this[cf]={accessors:{}}).accessors,u=this.prototype;function f(h){const p=tn(h);o[p]||(Ip(u,h),o[p]=!0)}return _.isArray(c)?c.forEach(f):f(c),this}};jt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_.reduceDescriptors(jt.prototype,({value:n},c)=>{let d=c[0].toUpperCase()+c.slice(1);return{get:()=>n,set(o){this[d]=o}}});_.freezeMethods(jt);function Co(n,c){const d=this||nn,o=c||d,u=jt.from(o.headers);let f=o.data;return _.forEach(n,function(p){f=p.call(d,f,u.normalize(),c?c.status:void 0)}),u.normalize(),f}function Xf(n){return!!(n&&n.__CANCEL__)}function ns(n,c,d){xe.call(this,n??"canceled",xe.ERR_CANCELED,c,d),this.name="CanceledError"}_.inherits(ns,xe,{__CANCEL__:!0});function Qf(n,c,d){const o=d.config.validateStatus;!d.status||!o||o(d.status)?n(d):c(new xe("Request failed with status code "+d.status,[xe.ERR_BAD_REQUEST,xe.ERR_BAD_RESPONSE][Math.floor(d.status/100)-4],d.config,d.request,d))}function eb(n){const c=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return c&&c[1]||""}function tb(n,c){n=n||10;const d=new Array(n),o=new Array(n);let u=0,f=0,h;return c=c!==void 0?c:1e3,function(b){const g=Date.now(),y=o[f];h||(h=g),d[u]=b,o[u]=g;let v=f,k=0;for(;v!==u;)k+=d[v++],v=v%n;if(u=(u+1)%n,u===f&&(f=(f+1)%n),g-h<c)return;const D=y&&g-y;return D?Math.round(k*1e3/D):void 0}}function ab(n,c){let d=0,o=1e3/c,u,f;const h=(g,y=Date.now())=>{d=y,u=null,f&&(clearTimeout(f),f=null),n(...g)};return[(...g)=>{const y=Date.now(),v=y-d;v>=o?h(g,y):(u=g,f||(f=setTimeout(()=>{f=null,h(u)},o-v)))},()=>u&&h(u)]}const Qr=(n,c,d=3)=>{let o=0;const u=tb(50,250);return ab(f=>{const h=f.loaded,p=f.lengthComputable?f.total:void 0,b=h-o,g=u(b),y=h<=p;o=h;const v={loaded:h,total:p,progress:p?h/p:void 0,bytes:b,rate:g||void 0,estimated:g&&p&&y?(p-h)/g:void 0,event:f,lengthComputable:p!=null,[c?"download":"upload"]:!0};n(v)},d)},of=(n,c)=>{const d=n!=null;return[o=>c[0]({lengthComputable:d,total:n,loaded:o}),c[1]]},df=n=>(...c)=>_.asap(()=>n(...c)),lb=dt.hasStandardBrowserEnv?((n,c)=>d=>(d=new URL(d,dt.origin),n.protocol===d.protocol&&n.host===d.host&&(c||n.port===d.port)))(new URL(dt.origin),dt.navigator&&/(msie|trident)/i.test(dt.navigator.userAgent)):()=>!0,sb=dt.hasStandardBrowserEnv?{write(n,c,d,o,u,f,h){if(typeof document>"u")return;const p=[`${n}=${encodeURIComponent(c)}`];_.isNumber(d)&&p.push(`expires=${new Date(d).toUTCString()}`),_.isString(o)&&p.push(`path=${o}`),_.isString(u)&&p.push(`domain=${u}`),f===!0&&p.push("secure"),_.isString(h)&&p.push(`SameSite=${h}`),document.cookie=p.join("; ")},read(n){if(typeof document>"u")return null;const c=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return c?decodeURIComponent(c[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function nb(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function rb(n,c){return c?n.replace(/\/?\/$/,"")+"/"+c.replace(/^\/+/,""):n}function Zf(n,c,d){let o=!nb(c);return n&&(o||d==!1)?rb(n,c):c}const uf=n=>n instanceof jt?{...n}:n;function ml(n,c){c=c||{};const d={};function o(g,y,v,k){return _.isPlainObject(g)&&_.isPlainObject(y)?_.merge.call({caseless:k},g,y):_.isPlainObject(y)?_.merge({},y):_.isArray(y)?y.slice():y}function u(g,y,v,k){if(_.isUndefined(y)){if(!_.isUndefined(g))return o(void 0,g,v,k)}else return o(g,y,v,k)}function f(g,y){if(!_.isUndefined(y))return o(void 0,y)}function h(g,y){if(_.isUndefined(y)){if(!_.isUndefined(g))return o(void 0,g)}else return o(void 0,y)}function p(g,y,v){if(v in c)return o(g,y);if(v in n)return o(void 0,g)}const b={url:f,method:f,data:f,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:p,headers:(g,y,v)=>u(uf(g),uf(y),v,!0)};return _.forEach(Object.keys({...n,...c}),function(y){const v=b[y]||u,k=v(n[y],c[y],y);_.isUndefined(k)&&v!==p||(d[y]=k)}),d}const Ff=n=>{const c=ml({},n);let{data:d,withXSRFToken:o,xsrfHeaderName:u,xsrfCookieName:f,headers:h,auth:p}=c;if(c.headers=h=jt.from(h),c.url=Yf(Zf(c.baseURL,c.url,c.allowAbsoluteUrls),n.params,n.paramsSerializer),p&&h.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),_.isFormData(d)){if(dt.hasStandardBrowserEnv||dt.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(_.isFunction(d.getHeaders)){const b=d.getHeaders(),g=["content-type","content-length"];Object.entries(b).forEach(([y,v])=>{g.includes(y.toLowerCase())&&h.set(y,v)})}}if(dt.hasStandardBrowserEnv&&(o&&_.isFunction(o)&&(o=o(c)),o||o!==!1&&lb(c.url))){const b=u&&f&&sb.read(f);b&&h.set(u,b)}return c},ib=typeof XMLHttpRequest<"u",cb=ib&&function(n){return new Promise(function(d,o){const u=Ff(n);let f=u.data;const h=jt.from(u.headers).normalize();let{responseType:p,onUploadProgress:b,onDownloadProgress:g}=u,y,v,k,D,j;function C(){D&&D(),j&&j(),u.cancelToken&&u.cancelToken.unsubscribe(y),u.signal&&u.signal.removeEventListener("abort",y)}let w=new XMLHttpRequest;w.open(u.method.toUpperCase(),u.url,!0),w.timeout=u.timeout;function E(){if(!w)return;const H=jt.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),q={data:!p||p==="text"||p==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:H,config:n,request:w};Qf(function(I){d(I),C()},function(I){o(I),C()},q),w=null}"onloadend"in w?w.onloadend=E:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(E)},w.onabort=function(){w&&(o(new xe("Request aborted",xe.ECONNABORTED,n,w)),w=null)},w.onerror=function($){const q=$&&$.message?$.message:"Network Error",Q=new xe(q,xe.ERR_NETWORK,n,w);Q.event=$||null,o(Q),w=null},w.ontimeout=function(){let $=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const q=u.transitional||Gf;u.timeoutErrorMessage&&($=u.timeoutErrorMessage),o(new xe($,q.clarifyTimeoutError?xe.ETIMEDOUT:xe.ECONNABORTED,n,w)),w=null},f===void 0&&h.setContentType(null),"setRequestHeader"in w&&_.forEach(h.toJSON(),function($,q){w.setRequestHeader(q,$)}),_.isUndefined(u.withCredentials)||(w.withCredentials=!!u.withCredentials),p&&p!=="json"&&(w.responseType=u.responseType),g&&([k,j]=Qr(g,!0),w.addEventListener("progress",k)),b&&w.upload&&([v,D]=Qr(b),w.upload.addEventListener("progress",v),w.upload.addEventListener("loadend",D)),(u.cancelToken||u.signal)&&(y=H=>{w&&(o(!H||H.type?new ns(null,n,w):H),w.abort(),w=null)},u.cancelToken&&u.cancelToken.subscribe(y),u.signal&&(u.signal.aborted?y():u.signal.addEventListener("abort",y)));const L=eb(u.url);if(L&&dt.protocols.indexOf(L)===-1){o(new xe("Unsupported protocol "+L+":",xe.ERR_BAD_REQUEST,n));return}w.send(f||null)})},ob=(n,c)=>{const{length:d}=n=n?n.filter(Boolean):[];if(c||d){let o=new AbortController,u;const f=function(g){if(!u){u=!0,p();const y=g instanceof Error?g:this.reason;o.abort(y instanceof xe?y:new ns(y instanceof Error?y.message:y))}};let h=c&&setTimeout(()=>{h=null,f(new xe(`timeout ${c} of ms exceeded`,xe.ETIMEDOUT))},c);const p=()=>{n&&(h&&clearTimeout(h),h=null,n.forEach(g=>{g.unsubscribe?g.unsubscribe(f):g.removeEventListener("abort",f)}),n=null)};n.forEach(g=>g.addEventListener("abort",f));const{signal:b}=o;return b.unsubscribe=()=>_.asap(p),b}},db=function*(n,c){let d=n.byteLength;if(d<c){yield n;return}let o=0,u;for(;o<d;)u=o+c,yield n.slice(o,u),o=u},ub=async function*(n,c){for await(const d of mb(n))yield*db(d,c)},mb=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const c=n.getReader();try{for(;;){const{done:d,value:o}=await c.read();if(d)break;yield o}}finally{await c.cancel()}},mf=(n,c,d,o)=>{const u=ub(n,c);let f=0,h,p=b=>{h||(h=!0,o&&o(b))};return new ReadableStream({async pull(b){try{const{done:g,value:y}=await u.next();if(g){p(),b.close();return}let v=y.byteLength;if(d){let k=f+=v;d(k)}b.enqueue(new Uint8Array(y))}catch(g){throw p(g),g}},cancel(b){return p(b),u.return()}},{highWaterMark:2})},ff=64*1024,{isFunction:Or}=_,fb=(({Request:n,Response:c})=>({Request:n,Response:c}))(_.global),{ReadableStream:hf,TextEncoder:xf}=_.global,gf=(n,...c)=>{try{return!!n(...c)}catch{return!1}},hb=n=>{n=_.merge.call({skipUndefined:!0},fb,n);const{fetch:c,Request:d,Response:o}=n,u=c?Or(c):typeof fetch=="function",f=Or(d),h=Or(o);if(!u)return!1;const p=u&&Or(hf),b=u&&(typeof xf=="function"?(j=>C=>j.encode(C))(new xf):async j=>new Uint8Array(await new d(j).arrayBuffer())),g=f&&p&&gf(()=>{let j=!1;const C=new d(dt.origin,{body:new hf,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!C}),y=h&&p&&gf(()=>_.isReadableStream(new o("").body)),v={stream:y&&(j=>j.body)};u&&["text","arrayBuffer","blob","formData","stream"].forEach(j=>{!v[j]&&(v[j]=(C,w)=>{let E=C&&C[j];if(E)return E.call(C);throw new xe(`Response type '${j}' is not supported`,xe.ERR_NOT_SUPPORT,w)})});const k=async j=>{if(j==null)return 0;if(_.isBlob(j))return j.size;if(_.isSpecCompliantForm(j))return(await new d(dt.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(_.isArrayBufferView(j)||_.isArrayBuffer(j))return j.byteLength;if(_.isURLSearchParams(j)&&(j=j+""),_.isString(j))return(await b(j)).byteLength},D=async(j,C)=>{const w=_.toFiniteNumber(j.getContentLength());return w??k(C)};return async j=>{let{url:C,method:w,data:E,signal:L,cancelToken:H,timeout:$,onDownloadProgress:q,onUploadProgress:Q,responseType:I,headers:re,withCredentials:F="same-origin",fetchOptions:K}=Ff(j),J=c||fetch;I=I?(I+"").toLowerCase():"text";let ue=ob([L,H&&H.toAbortSignal()],$),pe=null;const ee=ue&&ue.unsubscribe&&(()=>{ue.unsubscribe()});let ce;try{if(Q&&g&&w!=="get"&&w!=="head"&&(ce=await D(re,E))!==0){let S=new d(C,{method:"POST",body:E,duplex:"half"}),V;if(_.isFormData(E)&&(V=S.headers.get("content-type"))&&re.setContentType(V),S.body){const[G,P]=of(ce,Qr(df(Q)));E=mf(S.body,ff,G,P)}}_.isString(F)||(F=F?"include":"omit");const R=f&&"credentials"in d.prototype,W={...K,signal:ue,method:w.toUpperCase(),headers:re.normalize().toJSON(),body:E,duplex:"half",credentials:R?F:void 0};pe=f&&new d(C,W);let te=await(f?J(pe,K):J(C,W));const be=y&&(I==="stream"||I==="response");if(y&&(q||be&&ee)){const S={};["status","statusText","headers"].forEach(se=>{S[se]=te[se]});const V=_.toFiniteNumber(te.headers.get("content-length")),[G,P]=q&&of(V,Qr(df(q),!0))||[];te=new o(mf(te.body,ff,G,()=>{P&&P(),ee&&ee()}),S)}I=I||"text";let Ae=await v[_.findKey(v,I)||"text"](te,j);return!be&&ee&&ee(),await new Promise((S,V)=>{Qf(S,V,{data:Ae,headers:jt.from(te.headers),status:te.status,statusText:te.statusText,config:j,request:pe})})}catch(R){throw ee&&ee(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new xe("Network Error",xe.ERR_NETWORK,j,pe),{cause:R.cause||R}):xe.from(R,R&&R.code,j,pe)}}},xb=new Map,Kf=n=>{let c=n&&n.env||{};const{fetch:d,Request:o,Response:u}=c,f=[o,u,d];let h=f.length,p=h,b,g,y=xb;for(;p--;)b=f[p],g=y.get(b),g===void 0&&y.set(b,g=p?new Map:hb(c)),y=g;return g};Kf();const Go={http:Rp,xhr:cb,fetch:{get:Kf}};_.forEach(Go,(n,c)=>{if(n){try{Object.defineProperty(n,"name",{value:c})}catch{}Object.defineProperty(n,"adapterName",{value:c})}});const pf=n=>`- ${n}`,gb=n=>_.isFunction(n)||n===null||n===!1;function pb(n,c){n=_.isArray(n)?n:[n];const{length:d}=n;let o,u;const f={};for(let h=0;h<d;h++){o=n[h];let p;if(u=o,!gb(o)&&(u=Go[(p=String(o)).toLowerCase()],u===void 0))throw new xe(`Unknown adapter '${p}'`);if(u&&(_.isFunction(u)||(u=u.get(c))))break;f[p||"#"+h]=u}if(!u){const h=Object.entries(f).map(([b,g])=>`adapter ${b} `+(g===!1?"is not supported by the environment":"is not available in the build"));let p=d?h.length>1?`since :
`+h.map(pf).join(`
`):" "+pf(h[0]):"as no adapter specified";throw new xe("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return u}const Jf={getAdapter:pb,adapters:Go};function Do(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new ns(null,n)}function bf(n){return Do(n),n.headers=jt.from(n.headers),n.data=Co.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Jf.getAdapter(n.adapter||nn.adapter,n)(n).then(function(o){return Do(n),o.data=Co.call(n,n.transformResponse,o),o.headers=jt.from(o.headers),o},function(o){return Xf(o)||(Do(n),o&&o.response&&(o.response.data=Co.call(n,n.transformResponse,o.response),o.response.headers=jt.from(o.response.headers))),Promise.reject(o)})}const $f="1.13.2",Pr={};["object","boolean","number","function","string","symbol"].forEach((n,c)=>{Pr[n]=function(o){return typeof o===n||"a"+(c<1?"n ":" ")+n}});const yf={};Pr.transitional=function(c,d,o){function u(f,h){return"[Axios v"+$f+"] Transitional option '"+f+"'"+h+(o?". "+o:"")}return(f,h,p)=>{if(c===!1)throw new xe(u(h," has been removed"+(d?" in "+d:"")),xe.ERR_DEPRECATED);return d&&!yf[h]&&(yf[h]=!0,console.warn(u(h," has been deprecated since v"+d+" and will be removed in the near future"))),c?c(f,h,p):!0}};Pr.spelling=function(c){return(d,o)=>(console.warn(`${o} is likely a misspelling of ${c}`),!0)};function bb(n,c,d){if(typeof n!="object")throw new xe("options must be an object",xe.ERR_BAD_OPTION_VALUE);const o=Object.keys(n);let u=o.length;for(;u-- >0;){const f=o[u],h=c[f];if(h){const p=n[f],b=p===void 0||h(p,f,n);if(b!==!0)throw new xe("option "+f+" must be "+b,xe.ERR_BAD_OPTION_VALUE);continue}if(d!==!0)throw new xe("Unknown option "+f,xe.ERR_BAD_OPTION)}}const Xr={assertOptions:bb,validators:Pr},Pt=Xr.validators;let ul=class{constructor(c){this.defaults=c||{},this.interceptors={request:new rf,response:new rf}}async request(c,d){try{return await this._request(c,d)}catch(o){if(o instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const f=u.stack?u.stack.replace(/^.+\n/,""):"";try{o.stack?f&&!String(o.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+f):o.stack=f}catch{}}throw o}}_request(c,d){typeof c=="string"?(d=d||{},d.url=c):d=c||{},d=ml(this.defaults,d);const{transitional:o,paramsSerializer:u,headers:f}=d;o!==void 0&&Xr.assertOptions(o,{silentJSONParsing:Pt.transitional(Pt.boolean),forcedJSONParsing:Pt.transitional(Pt.boolean),clarifyTimeoutError:Pt.transitional(Pt.boolean)},!1),u!=null&&(_.isFunction(u)?d.paramsSerializer={serialize:u}:Xr.assertOptions(u,{encode:Pt.function,serialize:Pt.function},!0)),d.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?d.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:d.allowAbsoluteUrls=!0),Xr.assertOptions(d,{baseUrl:Pt.spelling("baseURL"),withXsrfToken:Pt.spelling("withXSRFToken")},!0),d.method=(d.method||this.defaults.method||"get").toLowerCase();let h=f&&_.merge(f.common,f[d.method]);f&&_.forEach(["delete","get","head","post","put","patch","common"],j=>{delete f[j]}),d.headers=jt.concat(h,f);const p=[];let b=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(d)===!1||(b=b&&C.synchronous,p.unshift(C.fulfilled,C.rejected))});const g=[];this.interceptors.response.forEach(function(C){g.push(C.fulfilled,C.rejected)});let y,v=0,k;if(!b){const j=[bf.bind(this),void 0];for(j.unshift(...p),j.push(...g),k=j.length,y=Promise.resolve(d);v<k;)y=y.then(j[v++],j[v++]);return y}k=p.length;let D=d;for(;v<k;){const j=p[v++],C=p[v++];try{D=j(D)}catch(w){C.call(this,w);break}}try{y=bf.call(this,D)}catch(j){return Promise.reject(j)}for(v=0,k=g.length;v<k;)y=y.then(g[v++],g[v++]);return y}getUri(c){c=ml(this.defaults,c);const d=Zf(c.baseURL,c.url,c.allowAbsoluteUrls);return Yf(d,c.params,c.paramsSerializer)}};_.forEach(["delete","get","head","options"],function(c){ul.prototype[c]=function(d,o){return this.request(ml(o||{},{method:c,url:d,data:(o||{}).data}))}});_.forEach(["post","put","patch"],function(c){function d(o){return function(f,h,p){return this.request(ml(p||{},{method:c,headers:o?{"Content-Type":"multipart/form-data"}:{},url:f,data:h}))}}ul.prototype[c]=d(),ul.prototype[c+"Form"]=d(!0)});let yb=class Wf{constructor(c){if(typeof c!="function")throw new TypeError("executor must be a function.");let d;this.promise=new Promise(function(f){d=f});const o=this;this.promise.then(u=>{if(!o._listeners)return;let f=o._listeners.length;for(;f-- >0;)o._listeners[f](u);o._listeners=null}),this.promise.then=u=>{let f;const h=new Promise(p=>{o.subscribe(p),f=p}).then(u);return h.cancel=function(){o.unsubscribe(f)},h},c(function(f,h,p){o.reason||(o.reason=new ns(f,h,p),d(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(c){if(this.reason){c(this.reason);return}this._listeners?this._listeners.push(c):this._listeners=[c]}unsubscribe(c){if(!this._listeners)return;const d=this._listeners.indexOf(c);d!==-1&&this._listeners.splice(d,1)}toAbortSignal(){const c=new AbortController,d=o=>{c.abort(o)};return this.subscribe(d),c.signal.unsubscribe=()=>this.unsubscribe(d),c.signal}static source(){let c;return{token:new Wf(function(u){c=u}),cancel:c}}};function vb(n){return function(d){return n.apply(null,d)}}function jb(n){return _.isObject(n)&&n.isAxiosError===!0}const _o={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(_o).forEach(([n,c])=>{_o[c]=n});function Pf(n){const c=new ul(n),d=Df(ul.prototype.request,c);return _.extend(d,ul.prototype,c,{allOwnKeys:!0}),_.extend(d,c,null,{allOwnKeys:!0}),d.create=function(u){return Pf(ml(n,u))},d}const Fe=Pf(nn);Fe.Axios=ul;Fe.CanceledError=ns;Fe.CancelToken=yb;Fe.isCancel=Xf;Fe.VERSION=$f;Fe.toFormData=Wr;Fe.AxiosError=xe;Fe.Cancel=Fe.CanceledError;Fe.all=function(c){return Promise.all(c)};Fe.spread=vb;Fe.isAxiosError=jb;Fe.mergeConfig=ml;Fe.AxiosHeaders=jt;Fe.formToJSON=n=>Vf(_.isHTMLForm(n)?new FormData(n):n);Fe.getAdapter=Jf.getAdapter;Fe.HttpStatusCode=_o;Fe.default=Fe;const{Axios:jv,AxiosError:Nv,CanceledError:wv,isCancel:kv,CancelToken:Sv,VERSION:Mv,all:Av,Cancel:Cv,isAxiosError:Dv,spread:Ev,toFormData:Tv,AxiosHeaders:Rv,HttpStatusCode:Ov,formToJSON:zv,getAdapter:Bv,mergeConfig:_v}=Fe,we=Fe.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}});we.interceptors.request.use(n=>{const c=localStorage.getItem("token");return c&&(n.headers.Authorization=`Bearer ${c}`),n},n=>Promise.reject(n));we.interceptors.response.use(n=>n,n=>{var d,o,u,f,h;const c=((o=(d=n.config)==null?void 0:d.url)==null?void 0:o.includes("/auth/login"))||((f=(u=n.config)==null?void 0:u.url)==null?void 0:f.includes("/auth/signup"));return((h=n.response)==null?void 0:h.status)===401&&!c&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/"),Promise.reject(n)});const ae={login:async(n,c)=>{var d,o;try{const u=await we.post("/auth/login",{email:n,password:c}),{token:f,user:h}=u.data;return localStorage.setItem("token",f),h}catch(u){return console.error("Login error:",((o=(d=u.response)==null?void 0:d.data)==null?void 0:o.message)||u.message),null}},signup:async(n,c,d,o)=>{var u,f;try{const h=await we.post("/auth/signup",{name:n,email:c,password:d,role:o}),{token:p,user:b}=h.data;return localStorage.setItem("token",p),b}catch(h){return console.error("Signup error:",((f=(u=h.response)==null?void 0:u.data)==null?void 0:f.message)||h.message),null}},getCurrentUser:async()=>{try{return(await we.get("/auth/me")).data}catch{return null}},createRoom:async(n,c)=>{var d,o;try{return await we.post("/rooms/create",{name:n,khataId:c}),!0}catch(u){return console.error("Create room error:",((o=(d=u.response)==null?void 0:d.data)==null?void 0:o.message)||u.message),!1}},joinRoom:async n=>{var c,d;try{return await we.post("/rooms/join",{khataId:n}),!0}catch(o){return console.error("Join room error:",((d=(c=o.response)==null?void 0:c.data)==null?void 0:d.message)||o.message),!1}},getMembersForRoom:async n=>{try{return(await we.get(`/rooms/${n}/members`)).data}catch(c){return console.error("Get members error:",c),[]}},getPendingApprovals:async n=>{try{return(await we.get(`/rooms/${n}/pending`)).data}catch(c){return console.error("Get pending approvals error:",c),[]}},approveMember:async(n,c)=>{try{return await we.put(`/rooms/${n}/approve/${c}`),!0}catch(d){return console.error("Approve member error:",d),!1}},getBillsForRoom:async n=>{try{return(await we.get(`/bills/${n}`)).data}catch(c){return console.error("Get bills error:",c),[]}},createBill:async n=>{var c,d;try{return await we.post("/bills",n),!0}catch(o){return console.error("Create bill error:",((d=(c=o.response)==null?void 0:c.data)==null?void 0:d.message)||o.message),!1}},updateBillShareStatus:async(n,c,d)=>{try{const o=await we.put(`/bills/${n}/share/${c}`,{status:d}),u=JSON.parse(localStorage.getItem("user")||"{}");return u.khataId&&(await ae.getBillsForRoom(u.khataId)).find(p=>p.id===n)||null}catch(o){return console.error("Update bill share status error:",o),null}},getBillStats:async n=>{try{return(await we.get(`/bills/${n}/stats`)).data}catch(c){return console.error("Get bill stats error:",c),{totalUnpaid:0,totalPaid:0,totalOverdue:0,pendingApprovals:0}}},getPendingApprovalsCount:async n=>{try{return(await we.get(`/rooms/${n}/pending`)).data.length||0}catch{return 0}},getFundStatus:async n=>({balance:3540}),getMenu:async n=>{try{return(await we.get(`/menu/${n}`)).data}catch(c){return console.error("Get menu error:",c),[]}},saveMenu:async(n,c,d=!1)=>{var o,u;try{return await we.post(`/menu/${n}`,{items:c,isPermanent:d}),!0}catch(f){return console.error("Save menu error:",((u=(o=f.response)==null?void 0:o.data)==null?void 0:u.message)||f.message),!1}},updateMenuDay:async(n,c,d)=>{var o,u;try{return await we.put(`/menu/${n}/day/${c}`,d),!0}catch(f){return console.error("Update menu day error:",((u=(o=f.response)==null?void 0:o.data)==null?void 0:u.message)||f.message),!1}},getShoppingMembers:async n=>{try{return(await we.get(`/shopping/${n}/members`)).data}catch(c){return console.error("Get shopping members error:",c),[]}},getShoppingRoster:async n=>{try{return(await we.get(`/shopping/${n}/roster`)).data.items||[]}catch(c){return console.error("Get shopping roster error:",c),[]}},saveShoppingRoster:async(n,c)=>{var d,o;try{return await we.post(`/shopping/${n}/roster`,{items:c}),!0}catch(u){return console.error("Save shopping roster error:",((o=(d=u.response)==null?void 0:d.data)==null?void 0:o.message)||u.message),!1}},getShoppingSummary:async n=>{try{return(await we.get(`/shopping/${n}/summary`)).data}catch(c){return console.error("Get shopping summary error:",c),null}},getMeals:async(n,c,d)=>{try{const o={};return c&&(o.startDate=c),d&&(o.endDate=d),(await we.get(`/meals/${n}`,{params:o})).data}catch(o){return console.error("Get meals error:",o),[]}},getUserMeals:async(n,c)=>{try{return(await we.get(`/meals/${n}/user/${c}`)).data}catch(d){return console.error("Get user meals error:",d),[]}},submitMeal:async(n,c)=>{var d,o;try{return(await we.post(`/meals/${n}`,c)).data}catch(u){throw console.error("Submit meal error:",((o=(d=u.response)==null?void 0:d.data)==null?void 0:o.message)||u.message),u}},getMealSummary:async n=>{try{return(await we.get(`/meals/${n}/summary`)).data}catch(c){return console.error("Get meal summary error:",c),null}},finalizeMeals:async(n,c)=>{var d,o;try{return await we.post(`/meals/${n}/finalize`,{date:c}),!0}catch(u){return console.error("Finalize meals error:",((o=(d=u.response)==null?void 0:d.data)==null?void 0:o.message)||u.message),!1}},getFinalizationStatus:async(n,c)=>{try{return(await we.get(`/meals/${n}/finalization/${c}`)).data}catch(d){return console.error("Get finalization status error:",d),{isFinalized:!1}}},getDeposits:async n=>{try{return(await we.get(`/deposits/${n}`)).data}catch(c){return console.error("Get deposits error:",c),[]}},createDeposit:async(n,c)=>{var d,o;try{return(await we.post(`/deposits/${n}`,c)).data}catch(u){throw console.error("Create deposit error:",((o=(d=u.response)==null?void 0:d.data)==null?void 0:o.message)||u.message),u}},approveDeposit:async(n,c)=>{try{return await we.put(`/deposits/${n}/${c}/approve`),!0}catch(d){return console.error("Approve deposit error:",d),!1}},rejectDeposit:async(n,c,d)=>{try{return await we.put(`/deposits/${n}/${c}/reject`,{reason:d}),!0}catch(o){return console.error("Reject deposit error:",o),!1}},getExpenses:async n=>{try{return(await we.get(`/expenses/${n}`)).data}catch(c){return console.error("Get expenses error:",c),[]}},createExpense:async(n,c)=>{var d,o;try{return(await we.post(`/expenses/${n}`,c)).data}catch(u){throw console.error("Create expense error:",((o=(d=u.response)==null?void 0:d.data)==null?void 0:o.message)||u.message),u}},approveExpense:async(n,c)=>{try{return await we.put(`/expenses/${n}/${c}/approve`),!0}catch(d){return console.error("Approve expense error:",d),!1}},rejectExpense:async(n,c,d)=>{try{return await we.put(`/expenses/${n}/${c}/reject`,{reason:d}),!0}catch(o){return console.error("Reject expense error:",o),!1}},getHistory:async(n,c)=>{try{const d={};return c&&(d.month=c),(await we.get(`/history/${n}`,{params:d})).data}catch(d){return console.error("Get history error:",d),{transactions:[],summary:{}}}}},If=A.createContext(void 0),Nb=({children:n})=>{const[c,d]=A.useState(null),[o,u]=A.useState(!0),[f,h]=A.useState("landing");A.useEffect(()=>{const y=localStorage.getItem("user");y?(d(JSON.parse(y)),h("dashboard")):h("landing"),u(!1)},[]);const p=async(y,v)=>{const k=await ae.login(y,v);return k&&(d(k),localStorage.setItem("user",JSON.stringify(k)),h("dashboard")),k},b=async(y,v,k,D)=>{const j=await ae.signup(y,v,k,D);return j&&(d(j),localStorage.setItem("user",JSON.stringify(j)),h("dashboard")),j},g=()=>{d(null),localStorage.removeItem("user"),h("landing")};return o?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-50 dark:bg-slate-900",children:a.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-primary-500"})}):a.jsx(If.Provider,{value:{user:c,setUser:d,loading:o,page:f,setPage:h,login:p,signup:b,logout:g},children:n})},ve=()=>{const n=A.useContext(If);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},eh=A.createContext(void 0),wb=({children:n})=>{const[c,d]=A.useState(()=>{const u=localStorage.getItem("theme");return u==="dark"||u==="light"?u:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});A.useEffect(()=>{const u=window.document.documentElement;c==="dark"?u.classList.add("dark"):u.classList.remove("dark"),localStorage.setItem("theme",c)},[c]);const o=()=>{d(u=>u==="light"?"dark":"light")};return a.jsx(eh.Provider,{value:{theme:c,toggleTheme:o},children:n})},kb=()=>{const n=A.useContext(eh);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},hl=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),Ir=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),ei=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),rn=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),Rt=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),th=({className:n="w-6 h-6"})=>a.jsxs("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),cn=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),on=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),dn=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),un=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"})}),mn=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})}),fn=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Ga=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})}),rs=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),Zt=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Va=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),ah=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Vo=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),Zr=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),Xo=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),Sb=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),ti=({className:n="w-6 h-6"})=>a.jsxs("svg",{className:`${n} animate-spin`,fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Qo=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),Mb=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),Ab=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),Cb=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 8h6m-5 0a3 3 0 110 6H9l3 3m-3-6h6m6 1a9 9 0 11-18 0 9 9 0 0118 0z"})}),fl=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),Db=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),lh=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),Eb=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.890-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),Tb=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2l2.5 5 5.5.75-4 4 1 5.5-5-2.75-5 2.75 1-5.5-4-4 5.5-.75z"})}),Rb=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),sh=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),nh=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),hn=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),rh=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),Ob=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),zb=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),Bb=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),_b=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),Ub=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),Lb=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),Hb=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),qb=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),ih=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Yb=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),Uo=({className:n="w-6 h-6"})=>a.jsxs("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Gb=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),Vb=({className:n="w-6 h-6"})=>a.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),Xb=({className:n="w-6 h-6"})=>{},Qb=({onNavigateToSignUp:n,onNavigateToHome:c})=>{const[d,o]=A.useState(""),[u,f]=A.useState(""),[h,p]=A.useState(""),[b,g]=A.useState(!1),{login:y}=ve(),v=async k=>{k.preventDefault(),p(""),g(!0);try{await y(d,u)||p("Invalid email or password.")}catch{p("An unexpected error occurred. Please try again.")}finally{g(!1)}};return a.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex",children:[a.jsxs("div",{className:"hidden lg:flex w-2/5 bg-primary-600 items-center justify-center p-12 text-white flex-col relative",children:[a.jsx("div",{className:"absolute top-8 left-8",children:a.jsxs("button",{onClick:c,className:"flex items-center space-x-2 opacity-70 hover:opacity-100 transition-opacity",children:[a.jsx(cn,{className:"w-6 h-6"}),a.jsx("span",{children:"Home"})]})}),a.jsxs("div",{className:"text-center",children:[a.jsx(hn,{className:"w-24 h-24 mx-auto mb-6 opacity-80"}),a.jsx("h1",{className:"text-4xl font-bold",children:"Welcome Back"}),a.jsx("p",{className:"mt-4 text-lg opacity-80",children:"Manage your shared expenses with ease. Log in to continue where you left off."})]})]}),a.jsx("div",{className:"w-full lg:w-3/5 flex items-center justify-center p-6 sm:p-12",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsx("div",{className:"lg:hidden text-center mb-8",children:a.jsx("h1",{className:"text-center text-4xl font-bold text-primary-600",children:"BillKhata"})}),a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Log in to your account"}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 mt-8 rounded-lg shadow-lg",children:[a.jsxs("form",{className:"space-y-6",onSubmit:v,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:d,onChange:k=>o(k.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm bg-white dark:bg-slate-700 dark:text-white"})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:u,onChange:k=>f(k.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm bg-white dark:bg-slate-700 dark:text-white"})})]}),h&&a.jsx("p",{className:"text-sm text-red-500",children:h}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:b,className:"flex w-full justify-center rounded-md border border-transparent bg-primary-500 py-2.5 px-4 text-sm font-medium text-white shadow-sm hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:opacity-50",children:b?a.jsx(ti,{className:"h-5 w-5"}):"Log In"})})]}),a.jsxs("p",{className:"mt-6 text-center text-sm text-slate-600 dark:text-slate-400",children:["Don't have an account?"," ",a.jsx("button",{onClick:n,className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign up"})]})]})]})})]})};var oe=(n=>(n.Manager="Manager",n.Member="Member",n))(oe||{}),ts=(n=>(n.NoRoom="NoRoom",n.Pending="Pending",n.Approved="Approved",n))(ts||{});const Zb=({onNavigateToLogin:n})=>{const[c,d]=A.useState(""),[o,u]=A.useState(""),[f,h]=A.useState(""),[p,b]=A.useState(null),[g,y]=A.useState(""),[v,k]=A.useState(!1),{signup:D}=ve(),j=async C=>{if(C.preventDefault(),!p){y("Please select a role.");return}y(""),k(!0);try{await D(c,o,f,p)||y("Could not create account. The email might already be in use.")}catch{y("An unexpected error occurred. Please try again.")}finally{k(!1)}};return a.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex",children:[a.jsx("div",{className:"hidden lg:flex w-2/5 bg-primary-600 items-center justify-center p-12 text-white flex-col",children:a.jsxs("div",{className:"text-center",children:[a.jsx(hn,{className:"w-24 h-24 mx-auto mb-6 opacity-80"}),a.jsx("h1",{className:"text-4xl font-bold",children:"Join thousands managing expenses together"}),a.jsx("p",{className:"mt-4 text-lg opacity-80",children:"BillKhata makes it simple to track bills, log meals, and stay organized with your roommates."})]})}),a.jsx("div",{className:"w-full lg:w-3/5 flex items-center justify-center p-6 sm:p-12",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsx("div",{className:"lg:hidden text-center mb-8",children:a.jsx("h1",{className:"text-center text-4xl font-bold text-primary-600",children:"BillKhata"})}),a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Create an Account"}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 mt-8 rounded-lg shadow-lg",children:[a.jsxs("form",{className:"space-y-6",onSubmit:j,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Full Name"}),a.jsx("input",{id:"name",type:"text",required:!0,value:c,onChange:C=>d(C.target.value),className:"mt-1 block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 px-3 py-2 placeholder-slate-400 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm bg-white dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),a.jsx("input",{id:"email",type:"email",autoComplete:"email",required:!0,value:o,onChange:C=>u(C.target.value),className:"mt-1 block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 px-3 py-2 placeholder-slate-400 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm bg-white dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),a.jsx("input",{id:"password",type:"password",required:!0,value:f,onChange:C=>h(C.target.value),className:"mt-1 block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 px-3 py-2 placeholder-slate-400 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm bg-white dark:bg-slate-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"I am a:"}),a.jsx("div",{className:"mt-2 grid grid-cols-2 gap-4",children:[oe.Manager,oe.Member].map(C=>a.jsxs("label",{className:`flex flex-col items-center text-center p-4 rounded-md cursor-pointer border-2 transition-all ${p===C?"border-primary-500 bg-primary-50 dark:bg-primary-500/20 shadow-md":"border-slate-300 dark:border-slate-600 hover:border-primary-300"}`,children:[a.jsx("input",{type:"radio",name:"role",value:C,checked:p===C,onChange:()=>b(C),className:"sr-only"}),a.jsx("span",{className:`font-bold text-base ${p===C?"text-primary-600":"text-slate-800 dark:text-slate-200"}`,children:C}),a.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:C===oe.Manager?"(Create Room)":"(Join Room)"})]},C))})]}),g&&a.jsx("p",{className:"text-sm text-center text-red-500",children:g}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:v,className:"flex w-full justify-center rounded-md border border-transparent bg-primary-500 py-2.5 px-4 text-sm font-medium text-white shadow-sm hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:opacity-50",children:v?a.jsx(ti,{className:"h-5 w-5"}):"Create Account"})})]}),a.jsxs("p",{className:"mt-6 text-center text-sm text-slate-600 dark:text-slate-400",children:["Already have an account?"," ",a.jsx("button",{onClick:n,className:"font-medium text-primary-600 hover:text-primary-500",children:"Log in"})]})]})]})})]})},Fb=[{id:1,type:"bill",title:"New Bill Assigned",message:"Electricity bill (300) - Due: Oct 15",actionText:"View Bill",timestamp:"2 hours ago",read:!1,link:"bills-electricity"},{id:2,type:"payment",title:"Payment Approved",message:"Your Rent payment (5,000) has been approved by the manager.",timestamp:"5 hours ago",read:!0,link:"bills-rent"},{id:3,type:"meal",title:"Meal Reminder",message:"Don't forget to log today's meals.",actionText:"Log Now",timestamp:"6 hours ago",read:!1,link:"meals"},{id:4,type:"room",title:"Member Joined",message:"Amit Hossain has joined the room.",timestamp:"1 day ago",read:!0,link:"members"},{id:5,type:"payment",title:"Payment Reminder",message:"Your Electricity bill is due in 3 days.",timestamp:"2 days ago",read:!1,link:"bills-electricity"},{id:6,type:"bill",title:"Bill Overdue",message:"Your Rent bill is overdue by 7 days.",timestamp:"7 days ago",read:!1,link:"bills-rent"},{id:7,type:"meal",title:"Shopping Approved",message:"Your shopping expense of 850 has been approved.",timestamp:"8 days ago",read:!1,link:"shopping"}],ch=A.createContext(void 0),Kb=({children:n})=>{const[c,d]=A.useState([]),[o,u]=A.useState(Fb),f=o.filter(g=>!g.read).length,h=g=>{const y={...g,id:Date.now()};d(v=>[...v,y]),setTimeout(()=>{d(v=>v.filter(k=>k.id!==y.id))},5e3)},p=()=>{u(g=>g.map(y=>({...y,read:!0})))},b=g=>{u(y=>y.map(v=>v.id===g?{...v,read:!0}:v))};return a.jsx(ch.Provider,{value:{toasts:c,addToast:h,notifications:o,unreadCount:f,markAllAsRead:p,markAsRead:b},children:n})},Le=()=>{const n=A.useContext(ch);if(!n)throw new Error("useNotifications must be used within a NotificationProvider");return n},Jb={breakfast:"Paratha & Omelette",lunch:"Chicken Curry, Rice, Salad",dinner:"Veg Pulao, Raita"},zr=({title:n,value:c,subtitle:d,isLoading:o})=>a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-md transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 font-body",children:n}),o?a.jsx("div",{className:"mt-2 h-8 w-3/4 rounded bg-slate-200 dark:bg-slate-700 bg-shimmer-gradient bg-no-repeat animate-shimmer",style:{backgroundSize:"1000px 100%"}}):a.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-1 font-numeric",children:c}),a.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1 font-body",children:d})]}),Br=({title:n,details:c,onView:d})=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-800 dark:text-white",children:n}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:c})]}),a.jsx("button",{onClick:d,className:"text-sm font-semibold text-primary-600 hover:underline",children:"View "})]}),_r=({icon:n,label:c,onClick:d})=>a.jsxs("button",{onClick:d,className:"flex flex-col items-center justify-center p-4 bg-slate-100 dark:bg-slate-700/50 rounded-xl shadow-sm space-y-2 transition-all hover:bg-slate-200 dark:hover:bg-slate-700 hover:scale-[1.02] active:scale-[0.98]",children:[n,a.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:c})]}),$b=()=>{const{user:n,setPage:c}=ve(),{addToast:d}=Le(),[o,u]=A.useState(Jb),[f,h]=A.useState(null),[p,b]=A.useState(""),[g,y]=A.useState({totalBillsAmount:0,pendingApprovals:0,fundBalance:0,activeMembers:0,totalBillsCount:0}),[v,k]=A.useState(!0);A.useEffect(()=>{n!=null&&n.khataId&&(k(!0),Promise.all([ae.getBillsForRoom(n.khataId),ae.getPendingApprovalsCount(n.khataId),ae.getFundStatus(n.khataId),ae.getMembersForRoom(n.khataId)]).then(([E,L,H,$])=>{const q=E.reduce((Q,I)=>Q+I.totalAmount,0);y({totalBillsAmount:q,pendingApprovals:L,fundBalance:H.balance,activeMembers:$.length,totalBillsCount:E.length}),k(!1)}))},[n]);const D=E=>{h(E),b(o[E])},j=()=>{f&&(u(E=>({...E,[f]:p})),d({type:"success",title:"Menu Updated",message:`${f.charAt(0).toUpperCase()+f.slice(1)} menu has been updated.`}),h(null),b(""))},C=()=>{h(null),b("")},w=(E,L)=>f===E?a.jsxs("tr",{className:"border-b dark:border-slate-700 bg-slate-50 dark:bg-slate-700/50",children:[a.jsx("td",{className:"p-3 font-semibold text-slate-800 dark:text-slate-100",children:L}),a.jsx("td",{className:"p-3",children:a.jsx("input",{type:"text",value:p,onChange:H=>b(H.target.value),className:"w-full px-2 py-1 bg-white dark:bg-slate-600 border-2 border-primary-500 rounded-md focus:outline-none",autoFocus:!0})}),a.jsx("td",{className:"p-3 text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:C,className:"p-2 rounded-full text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600",children:a.jsx(Rt,{className:"w-5 h-5"})}),a.jsx("button",{onClick:j,className:"p-2 rounded-full text-success-500 hover:bg-success-100 dark:hover:bg-success-500/20",children:a.jsx(Zt,{className:"w-5 h-5"})})]})})]}):a.jsxs("tr",{className:"border-b dark:border-slate-700",children:[a.jsx("td",{className:"p-3 font-semibold text-slate-800 dark:text-slate-100",children:L}),a.jsx("td",{className:"p-3 text-slate-600 dark:text-slate-300",children:o[E]}),a.jsx("td",{className:"p-3 text-right",children:a.jsx("button",{onClick:()=>D(E),className:"p-2 rounded-md hover:bg-slate-200 dark:hover:bg-slate-600",children:a.jsx(Vo,{className:"w-5 h-5 text-primary-500"})})})]});return a.jsxs("div",{className:"space-y-8 animate-fade-in",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white font-sans",children:["Assalamu Alaikum, ",n==null?void 0:n.name," "]}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-body text-base",children:"Wednesday, October 08, 2025"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(zr,{title:" Total Bills",value:`${g.totalBillsAmount.toLocaleString()}`,subtitle:`${g.totalBillsCount} bills this month`,isLoading:v}),a.jsx(zr,{title:" Pending Approvals",value:`${g.pendingApprovals} items`,subtitle:"Need your action",isLoading:v}),a.jsx(zr,{title:" Meal Fund Balance",value:`+${g.fundBalance.toLocaleString()}`,subtitle:"Healthy balance",isLoading:v}),a.jsx(zr,{title:" Active Members",value:`${g.activeMembers} members`,subtitle:"in your room",isLoading:v})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[a.jsx("h3",{className:"text-xl font-bold font-sans text-slate-800 dark:text-white mb-4",children:" Today's Menu"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-max text-sm text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b dark:border-slate-700",children:[a.jsx("th",{className:"p-3 w-32",children:"Meal"}),a.jsx("th",{className:"p-3",children:"What Will Be Cooked"}),a.jsx("th",{className:"p-3 text-right w-28",children:"Edit"})]})}),a.jsxs("tbody",{children:[w("breakfast","Breakfast"),w("lunch","Lunch"),w("dinner","Dinner")]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[a.jsx("h3",{className:"text-2xl font-bold font-sans text-slate-800 dark:text-white mb-4",children:"Priority Actions"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Br,{title:" 3 Payment Approvals",details:"Electricity, Water bills",onView:()=>c("pending-approvals")}),a.jsx(Br,{title:" 2 Shopping Approvals",details:"Raj (850), Amit (620)",onView:()=>c("pending-approvals")}),a.jsx(Br,{title:" 2 Deposit Approvals",details:"Priya, Ravi",onView:()=>c("pending-approvals")}),a.jsx(Br,{title:" 1 Join Request",details:"Neha Rahman",onView:()=>c("pending-approvals")})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[a.jsx("h3",{className:"text-2xl font-bold font-sans text-slate-800 dark:text-white mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(_r,{icon:a.jsx(ei,{className:"w-8 h-8 text-primary-500"}),label:"Add Bill",onClick:()=>c("bills-all")}),a.jsx(_r,{icon:a.jsx(hl,{className:"w-8 h-8 text-success-600"}),label:"Finalize Meals",onClick:()=>c("meals")}),a.jsx(_r,{icon:a.jsx(fl,{className:"w-8 h-8 text-warning-600"}),label:"Members",onClick:()=>c("members")}),a.jsx(_r,{icon:a.jsx(rn,{className:"w-8 h-8 text-indigo-500"}),label:"Reports",onClick:()=>c("reports-analytics")})]})]})]})]})},Wb={breakfast:"Paratha & Omelette",lunch:"Chicken Curry, Rice, Salad",dinner:"Veg Pulao, Raita"},Ur=({title:n,value:c,subtitle:d})=>a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-md transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 font-body",children:n}),a.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-1 font-numeric",children:c}),a.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1 font-body",children:d})]}),Lr=({icon:n,label:c})=>a.jsxs("button",{className:"flex flex-col items-center justify-center p-4 bg-white dark:bg-slate-800 rounded-xl shadow-md space-y-2 transition-all hover:bg-slate-50 dark:hover:bg-slate-700/50 hover:scale-[1.02] active:scale-[0.98]",children:[n,a.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:c})]}),Pb=()=>{const{user:n}=ve(),[c,d]=A.useState(Wb),[o,u]=A.useState([]),[f,h]=A.useState(!0),[p,b]=A.useState(0);A.useEffect(()=>{n!=null&&n.khataId?(h(!0),ae.getBillsForRoom(n.khataId).then(C=>{u(C)}),ae.getMealSummary(n.khataId).then(C=>{C&&n.id&&b(C.currentUserMeals||0)}).finally(()=>h(!1))):h(!1)},[n]);const{billsDueAmount:g,billsDueCount:y,nextBillDue:v}=A.useMemo(()=>{if(!n)return{billsDueAmount:0,billsDueCount:0,nextBillDue:null};const C=o.flatMap($=>$.shares.filter(q=>q.userId===n.id&&(q.status==="Unpaid"||q.status==="Overdue")).map(q=>({...$,myShare:q}))),w=C.reduce(($,q)=>$+q.myShare.amount,0),E=C.length,L=C.filter($=>new Date($.dueDate)>=new Date("2025-10-08")).sort(($,q)=>new Date($.dueDate).getTime()-new Date(q.dueDate).getTime()),H=L.length>0?L[0]:null;return{billsDueAmount:w,billsDueCount:E,nextBillDue:H}},[o,n]),k=v?`${v.category} - ${new Date(v.dueDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})}`:"No upcoming bills",D=v?Math.ceil((new Date(v.dueDate).getTime()-new Date("2025-10-08").getTime())/(1e3*60*60*24)):0,j=v?`${D} days left`:"All clear!";return a.jsxs("div",{className:"space-y-8 animate-fade-in",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white font-sans",children:["Assalamu Alaikum, ",n==null?void 0:n.name," "]}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-base",children:"Wednesday, Oct 8, 2025"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[a.jsx(Ur,{title:" Bills Due",value:`${g.toFixed(2)}`,subtitle:`${y} bills pending`}),a.jsx(Ur,{title:" Your Meals",value:`${p} quantities`,subtitle:"This month"}),a.jsx(Ur,{title:" Refund Available",value:"+452",subtitle:"After meal cost"}),a.jsx(Ur,{title:" Next Bill Due",value:k,subtitle:j})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[a.jsx("h3",{className:"text-xl font-bold font-sans text-slate-800 dark:text-white mb-4",children:" Today's Menu"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsx("table",{className:"w-full text-sm text-left",children:a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-b dark:border-slate-700",children:[a.jsx("td",{className:"p-3 font-semibold text-slate-800 dark:text-slate-100 w-32",children:"Breakfast"}),a.jsx("td",{className:"p-3 text-slate-600 dark:text-slate-300",children:c.breakfast})]}),a.jsxs("tr",{className:"border-b dark:border-slate-700",children:[a.jsx("td",{className:"p-3 font-semibold text-slate-800 dark:text-slate-100",children:"Lunch"}),a.jsx("td",{className:"p-3 text-slate-600 dark:text-slate-300",children:c.lunch})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"p-3 font-semibold text-slate-800 dark:text-slate-100",children:"Dinner"}),a.jsx("td",{className:"p-3 text-slate-600 dark:text-slate-300",children:c.dinner})]})]})})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold font-sans text-slate-800 dark:text-white mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(Lr,{icon:a.jsx(hl,{className:"w-8 h-8 text-primary-500"}),label:"Log Meal"}),a.jsx(Lr,{icon:a.jsx(Ir,{className:"w-8 h-8 text-success-600"}),label:"Pay Bill"}),a.jsx(Lr,{icon:a.jsx(ei,{className:"w-8 h-8 text-warning-600"}),label:"Deposit"}),a.jsx(Lr,{icon:a.jsx(rn,{className:"w-8 h-8 text-indigo-500"}),label:"History"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold font-sans text-slate-800 dark:text-white mb-4",children:"Recent Activity"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg shadow-sm",children:[a.jsxs("p",{className:"text-sm font-medium",children:["Electricity bill added (",a.jsx("span",{className:"font-numeric",children:"300"}),")"]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"2 hours ago"})]}),a.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg shadow-sm",children:[a.jsx("p",{className:"text-sm font-medium",children:"Your rent payment approved "}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"5 hours ago"})]}),a.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 rounded-lg shadow-sm",children:[a.jsx("p",{className:"text-sm font-medium",children:"Amit joined the room "}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Yesterday"})]})]}),a.jsx("button",{className:"mt-4 text-sm font-semibold text-primary-600 hover:underline",children:"View All "})]})]})},Ib=()=>a.jsx(Pb,{}),ey=()=>{const{user:n}=ve();return n?a.jsx("div",{children:n.role===oe.Manager?a.jsx($b,{}):a.jsx(Ib,{})}):a.jsx("div",{children:"Loading..."})},ty={Paid:"bg-success-500/10 text-success-700 dark:text-success-400","Pending Approval":"bg-warning-500/10 text-warning-600 dark:text-warning-400",Unpaid:"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-200",Overdue:"bg-danger-500/10 text-danger-600 dark:text-danger-400"},ay={Rent:a.jsx(cn,{className:"w-6 h-6 text-danger-500"}),Electricity:a.jsx(on,{className:"w-6 h-6 text-yellow-500"}),Water:a.jsx(dn,{className:"w-6 h-6 text-blue-500"}),Gas:a.jsx(un,{className:"w-6 h-6 text-orange-500"}),"Wi-Fi":a.jsx(mn,{className:"w-6 h-6 text-cyan-500"}),Maid:a.jsx(fn,{className:"w-6 h-6 text-purple-500"}),Others:a.jsx(Ga,{className:"w-6 h-6 text-slate-500"})},vf=()=>{const{user:n,setPage:c}=ve(),[d,o]=A.useState([]),[u,f]=A.useState(!0);A.useEffect(()=>{n!=null&&n.khataId&&(f(!0),ae.getBillsForRoom(n.khataId).then(b=>{o(b),f(!1)}))},[n]);const h=A.useMemo(()=>{const b=new Date,g=b.getMonth(),y=b.getFullYear(),v=d.filter(k=>{const D=new Date(k.dueDate);return D.getMonth()===g&&D.getFullYear()===y});if((n==null?void 0:n.role)===oe.Manager){const k=v.reduce((C,w)=>C+w.totalAmount,0),D=v.reduce((C,w)=>{const E=w.shares.filter(L=>L.status==="Paid").reduce((L,H)=>L+H.amount,0);return C+E},0),j=k-D;return{total:k,paid:D,due:j,label:"Room Summary (This Month)"}}else{const k=v.flatMap(w=>w.shares.filter(E=>E.userId===(n==null?void 0:n.id))),D=k.reduce((w,E)=>w+E.amount,0),j=k.filter(w=>w.status==="Paid").reduce((w,E)=>w+E.amount,0),C=D-j;return{total:D,paid:j,due:C,label:"My Summary (This Month)"}}},[d,n]),p=A.useMemo(()=>d.reduce((b,g)=>((b[g.category]=b[g.category]||[]).push(g),b),{}),[d]);return u?a.jsx("div",{className:"text-center p-8",children:"Loading..."}):n?a.jsxs("div",{className:"space-y-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white font-sans",children:"Bills Overview"}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md",children:[a.jsx("h2",{className:"text-xl font-bold font-sans text-slate-800 dark:text-white mb-4",children:h.label}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Total Bills"}),a.jsxs("p",{className:"text-2xl font-bold text-slate-800 dark:text-white font-numeric",children:["",h.total.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Paid"}),a.jsxs("p",{className:"text-2xl font-bold text-success-600 dark:text-success-400 font-numeric",children:["",h.paid.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Due"}),a.jsxs("p",{className:"text-2xl font-bold text-danger-600 dark:text-danger-400 font-numeric",children:["",h.due.toFixed(2)]})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(p).map(([b,g])=>{const y=g.reduce((j,C)=>j+C.totalAmount,0),v=g.flatMap(j=>j.shares).filter(j=>j.userId===n.id).reduce((j,C)=>j+C.amount,0),k=[...g].sort((j,C)=>new Date(C.dueDate).getTime()-new Date(j.dueDate).getTime())[0],D=k==null?void 0:k.shares.find(j=>j.userId===n.id);return a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-5 flex flex-col justify-between transition-all hover:shadow-lg hover:scale-[1.02]",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[ay[b]||a.jsx(Ga,{className:"w-6 h-6 text-slate-500"}),a.jsx("h3",{className:"text-xl font-bold font-sans text-slate-900 dark:text-white",children:b})]}),a.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Total: ",a.jsxs("span",{className:"font-semibold font-numeric",children:["",y.toFixed(2)]})]}),a.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Your Share: ",a.jsxs("span",{className:"font-semibold font-numeric",children:["",v.toFixed(2)]})]}),D&&a.jsx("div",{className:"mt-2",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${ty[D.status]}`,children:D.status})}),k&&a.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Last due: ",k.dueDate]})]}),a.jsx("button",{onClick:()=>c(`bills-${b.toLowerCase().replace(" ","-")}`),className:"mt-4 text-sm font-semibold text-primary-600 hover:underline self-start",children:"View Details "})]},b)})})]}):null},jf=[{id:"3",name:"Priya Das",role:oe.Member,lastRent:4500},{id:"4",name:"Ravi Islam",role:oe.Member,lastRent:5e3},{id:"9",name:"Amit Hossain",role:oe.Member,lastRent:5200}],ly=()=>{const n=[],c=new Date(2025,9,1);for(let d=1;d<=3;d++){const o=new Date(c);o.setMonth(o.getMonth()+d),n.push(o.toLocaleString("default",{month:"long",year:"numeric"}))}return n},sy=({onClose:n,onConfirm:c})=>{const[d,o]=A.useState(jf.map(k=>({userId:k.id,userName:k.name,amount:k.lastRent}))),[u]=A.useState(ly()),[f,h]=A.useState(u[0]),[p,b]=A.useState("2025-11-01"),g=(k,D)=>{const j=parseInt(D,10)||0;o(C=>C.map(w=>w.userId===k?{...w,amount:j}:w))},y=d.reduce((k,D)=>k+D.amount,0),v=()=>{c({rentData:d,month:f,dueDate:p}),n()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:n,children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg animate-scale-in",onClick:k=>k.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b dark:border-slate-700",children:[a.jsxs("h2",{className:"text-xl font-bold font-sans text-slate-900 dark:text-white",children:["Push ",f," Rent Bills"]}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Review amounts and confirm to create bills for all members."})]}),a.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Bill Month"}),a.jsx("select",{value:f,onChange:k=>h(k.target.value),className:"w-full px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500",children:u.map(k=>a.jsx("option",{value:k,children:k},k))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Due Date"}),a.jsx("input",{type:"date",value:p,onChange:k=>b(k.target.value),className:"w-full px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500"})]})]}),a.jsxs("div",{className:"border-t dark:border-slate-600 pt-4",children:[a.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white mb-2",children:"Member Amounts"}),d.map(k=>{var D;return a.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[a.jsx(Va,{className:"w-10 h-10 text-slate-400 flex-shrink-0"}),a.jsxs("div",{className:"flex-grow",children:[a.jsx("p",{className:"font-semibold text-slate-800 dark:text-white",children:k.userName}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Previous: ",(D=jf.find(j=>j.id===k.userId))==null?void 0:D.lastRent.toLocaleString()]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute inset-y-0 left-3 flex items-center text-slate-500",children:""}),a.jsx("input",{type:"number",value:k.amount,onChange:j=>g(k.userId,j.target.value),className:"w-32 pl-8 pr-2 py-2 text-right bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500 transition-colors"})]})]},k.userId)})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-700/50 rounded-b-xl flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:"Total: "}),a.jsxs("span",{className:"font-bold text-lg font-numeric",children:["",y.toLocaleString()]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:n,className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 font-semibold rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:v,className:"px-4 py-2 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600 transition-colors",children:"Confirm & Push"})]})]})]})})},ny=({billToEdit:n,onClose:c,onBillUpdated:d})=>{const o=n.shares[0],[u,f]=A.useState(o.amount),h=()=>{const p={...n,totalAmount:u,shares:[{...o,amount:u}]};d(p),c()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:c,children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm animate-scale-in",onClick:p=>p.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b dark:border-slate-700",children:[a.jsx("h2",{className:"text-xl font-bold font-sans text-slate-900 dark:text-white",children:"Edit Rent"}),a.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Update the rent amount for ",o.userName,"."]})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[a.jsx(Va,{className:"w-10 h-10 text-slate-400 flex-shrink-0"}),a.jsx("p",{className:"font-semibold text-slate-800 dark:text-white text-lg",children:o.userName})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"rent-amount",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Rent Amount"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute inset-y-0 left-3 flex items-center text-slate-500",children:""}),a.jsx("input",{id:"rent-amount",type:"number",value:u,onChange:p=>f(parseFloat(p.target.value)||0),className:"w-full pl-8 pr-4 py-2 text-lg font-semibold bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500 transition-colors"})]})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-700/50 rounded-b-xl flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:c,className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 font-semibold rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:"Cancel"}),a.jsx("button",{type:"button",onClick:h,className:"px-4 py-2 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600 transition-colors",children:"Confirm"})]})]})})},oh={Paid:{bg:"bg-success-500/10",text:"text-success-700 dark:text-success-400",border:"border-success-500/30"},"Pending Approval":{bg:"bg-warning-500/10",text:"text-warning-600 dark:text-warning-400",border:"border-warning-500/30"},Unpaid:{bg:"bg-slate-100 dark:bg-slate-700/20",text:"text-slate-700 dark:text-slate-300",border:"border-slate-200 dark:border-slate-600"},Overdue:{bg:"bg-danger-500/10",text:"text-danger-600 dark:text-danger-400",border:"border-danger-500/30"}},ry=({bill:n,role:c,onEdit:d,onApprove:o,onDeny:u})=>{const f=n.shares[0],h=oh[f.status];return a.jsxs("div",{className:`p-4 rounded-lg border ${h.border} ${h.bg}`,children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Va,{className:"w-10 h-10 text-slate-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:f.userName}),a.jsx("p",{className:`text-sm font-semibold ${h.text}`,children:f.status})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-bold text-slate-800 dark:text-white font-numeric",children:["",f.amount.toFixed(2)]}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Due: ",n.dueDate]})]})]}),c===oe.Manager&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-700/50 flex justify-end gap-2",children:[f.status==="Pending Approval"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>u(n.id,f.userId),className:"px-3 py-1 text-xs font-semibold bg-danger-500/10 text-danger-600 rounded-md hover:bg-danger-500/20 transition-all active:scale-95",children:"Deny"}),a.jsx("button",{onClick:()=>o(n.id,f.userId),className:"px-3 py-1 text-xs font-semibold bg-success-500/10 text-success-600 rounded-md hover:bg-success-500/20 transition-all active:scale-95",children:"Approve"})]}),f.status==="Overdue"&&a.jsx("button",{className:"px-3 py-1 text-xs font-semibold border border-primary-500 text-primary-600 rounded-md hover:bg-primary-500/10 transition-all active:scale-95",children:"Send Reminder"}),a.jsx("button",{onClick:()=>d(n),className:"px-3 py-1 text-xs font-semibold border border-slate-300 dark:border-slate-600 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700 transition-all active:scale-95",children:"Edit"})]})]})},iy=()=>{const n=[],c=new Date;for(let d=0;d<6;d++){const o=new Date(c);o.setMonth(o.getMonth()-d),n.push(o.toLocaleString("default",{month:"long",year:"numeric"}))}return n},cy=()=>{var re;const{user:n,setPage:c}=ve(),[d,o]=A.useState([]),[u,f]=A.useState(!0),[h,p]=A.useState(null),[b,g]=A.useState(null),[y,v]=A.useState(!1),{addToast:k}=Le(),[D]=A.useState(iy()),[j,C]=A.useState(D[0]);A.useEffect(()=>{n!=null&&n.khataId&&(f(!0),ae.getBillsForRoom(n.khataId).then(F=>{o(F.filter(K=>K.category==="Rent")),f(!1)}))},[n]);const w=A.useMemo(()=>{if(!j)return[];const[F,K]=j.split(" "),J=parseInt(K,10),ue=new Date(Date.parse(F+" 1, 2012")).getMonth();return d.filter(pe=>{const ee=new Date(pe.dueDate);return ee.getFullYear()===J&&ee.getMonth()===ue})},[d,j]),E=async()=>{if(!h||!n)return;const F=await ae.updateBillShareStatus(h.id,n.id,"Pending Approval");F&&(o(K=>K.map(J=>J.id===F.id?F:J)),k({type:"success",title:"Payment Sent",message:"Your payment is now pending approval."})),p(null)},L=async(F,K)=>{const J=await ae.updateBillShareStatus(F,K,"Paid");J?(o(ue=>ue.map(pe=>pe.id===J.id?J:pe)),k({type:"success",title:"Approved",message:"Rent payment approved successfully."})):k({type:"error",title:"Error",message:"Failed to approve payment."})},H=async(F,K)=>{const J=await ae.updateBillShareStatus(F,K,"Unpaid");J?(o(ue=>ue.map(pe=>pe.id===J.id?J:pe)),k({type:"info",title:"Denied",message:"Rent payment rejected. Status reset to Unpaid."})):k({type:"error",title:"Error",message:"Failed to deny payment."})},$=F=>{o(K=>K.map(J=>J.id===F.id?F:J)),k({type:"success",title:"Rent Updated",message:`Rent for ${F.shares[0].userName} has been updated.`}),g(null)},q=F=>{const{rentData:K,month:J,dueDate:ue}=F,pe=K.map(ee=>({id:`rent-${J.toLowerCase().split(" ")[0]}-${ee.userId}`,khataId:n.khataId,title:`${J} Rent`,category:"Rent",totalAmount:ee.amount,dueDate:ue,createdBy:n.id,shares:[{userId:ee.userId,userName:ee.userName,amount:ee.amount,status:"Unpaid"}]}));o(ee=>[...pe,...ee]),k({type:"success",title:"Bills Created",message:`${J} rent bills have been pushed to all members.`})};if(u)return a.jsx("div",{className:"text-center p-8",children:"Loading rent bills..."});if(!n)return null;const Q=()=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-xl font-bold font-sans text-slate-800 dark:text-white",children:[j," Rent Status"]}),a.jsx("button",{onClick:()=>v(!0),className:"px-4 py-2 text-sm font-semibold bg-primary-500 text-white rounded-lg hover:bg-primary-600 shadow-sm transition-all active:scale-95",children:"Push Next Month's Bills"})]}),a.jsx("div",{className:"space-y-4",children:w.map(F=>a.jsx(ry,{bill:F,role:n.role,onEdit:g,onApprove:L,onDeny:H},F.id))})]}),I=()=>{const F=w.find(pe=>{var ee;return((ee=pe.shares[0])==null?void 0:ee.userId)===n.id});if(!F)return a.jsx("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-lg shadow-sm",children:a.jsxs("p",{className:"text-lg text-slate-600 dark:text-slate-300",children:["Your rent details for ",j," are not available."]})});const K=F.shares[0],J=oh[K.status],ue=K.status==="Unpaid"||K.status==="Overdue";return a.jsxs("div",{className:`p-6 rounded-xl border-2 ${J.border} ${J.bg}`,children:[a.jsx("p",{className:"text-sm font-semibold",children:j}),a.jsxs("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-1 font-numeric",children:["",K.amount.toFixed(2)]}),a.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:["Due: ",F.dueDate]}),a.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[a.jsx("span",{className:`px-3 py-1 text-sm font-bold rounded-full ${J.bg} ${J.text}`,children:K.status}),ue?a.jsx("button",{onClick:()=>p(F),className:"px-4 py-2 bg-gradient-success text-white font-semibold rounded-md hover:shadow-lg transition-all active:scale-[0.98]",children:"Pay Now"}):null]})]})};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>c("bills"),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-all active:scale-95",children:a.jsx(rs,{className:"w-6 h-6 text-slate-600 dark:text-slate-300"})}),a.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white font-sans",children:"Rent Bills"})]}),a.jsx("select",{value:j,onChange:F=>C(F.target.value),className:"px-4 py-2 text-sm font-semibold bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm",children:D.map(F=>a.jsx("option",{value:F,children:F},F))})]}),w.length===0?a.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-lg shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-medium font-sans text-slate-900 dark:text-white",children:["No rent bills found for ",j,"."]}),n.role===oe.Manager&&a.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:`Click "Push Next Month's Bills" to create them.`})]}):n.role===oe.Manager?Q():I()]}),b&&a.jsx(ny,{billToEdit:b,onClose:()=>g(null),onBillUpdated:$}),h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fade-in",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-sm animate-scale-in",children:[a.jsx("h3",{className:"text-lg font-bold font-sans text-slate-900 dark:text-white",children:"Confirm Payment"}),a.jsxs("div",{className:"mt-4 mb-6 text-sm text-slate-600 dark:text-slate-300",children:[a.jsxs("p",{children:["Bill: ",a.jsx("span",{className:"font-semibold",children:h.title})]}),a.jsxs("p",{children:["Amount to Pay: ",a.jsxs("span",{className:"font-semibold font-numeric",children:["",(re=h.shares.find(F=>F.userId===(n==null?void 0:n.id)))==null?void 0:re.amount.toFixed(2)]})]}),a.jsx("p",{className:"mt-4 p-2 bg-warning-500/10 text-warning-600 dark:text-warning-400 rounded-md",children:" This will be sent to the manager for approval."})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>p(null),className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 text-slate-800 dark:text-slate-200 font-semibold rounded-md hover:bg-slate-300 dark:hover:bg-slate-500 transition-all active:scale-95",children:"Cancel"}),a.jsx("button",{onClick:E,className:"px-4 py-2 bg-gradient-success text-white font-semibold rounded-md hover:shadow-lg transition-all active:scale-95",children:"Confirm Payment"})]})]})}),y&&n.role===oe.Manager&&a.jsx(sy,{onClose:()=>v(!1),onConfirm:q})]})},dh=({onClose:n,onBillAdded:c,preselectedCategory:d,availableMonths:o,selectedMonth:u})=>{const{user:f}=ve(),[h,p]=A.useState(""),[b,g]=A.useState(d||"Electricity"),[y,v]=A.useState(""),[k,D]=A.useState(""),[j,C]=A.useState("equally"),[w,E]=A.useState([]),[L,H]=A.useState(!0),[$,q]=A.useState(!1),[Q,I]=A.useState([]),[re,F]=A.useState({}),{addToast:K}=Le();A.useEffect(()=>{(async()=>{if(f!=null&&f.khataId){H(!0);try{const P=await ae.getMembersForRoom(f.khataId);E(P),I(P.map(se=>se.id))}catch(P){console.error("Error fetching members:",P),K({type:"error",title:"Error",message:"Failed to load room members"})}finally{H(!1)}}})()},[f==null?void 0:f.khataId]);const J=G=>{if(G)try{const[P,se]=G.split(" "),me=parseInt(se,10),ye=new Date(Date.parse(P+" 1, 2012")).getMonth();return new Date(me,ye,1).toISOString().split("T")[0]}catch{return new Date().toISOString().split("T")[0]}return new Date().toISOString().split("T")[0]},[ue,pe]=A.useState(u||(o?o[0]:"")),[ee,ce]=A.useState(J(u)),R=G=>{const P=G.target.value;pe(P);const[se,me]=P.split(" "),ye=parseInt(me,10),Ge=new Date(Date.parse(se+" 1, 2012")).getMonth(),Oe=new Date(ye,Ge,1);ce(Oe.toISOString().split("T")[0])},W=G=>{const P=Q.includes(G)?Q.filter(se=>se!==G):[...Q,G];I(P)},te=(G,P)=>{const se=parseFloat(P)||0;F(me=>({...me,[G]:se}))},be=A.useMemo(()=>Q.reduce((G,P)=>G+(re[P]||0),0),[re,Q]),Ae=Math.abs(be-(y||0))<.01,S=async G=>{if(G.preventDefault(),y===""||y<=0){K({type:"error",title:"Invalid Amount",message:"Please enter a valid total amount."});return}if(Q.length===0){K({type:"error",title:"No Members Selected",message:"Please select at least one member to split the bill."});return}if(j==="custom"&&!Ae){K({type:"error",title:"Invalid Amounts",message:"Custom split amounts must add up to the total bill amount."});return}if(!f||!f.khataId){K({type:"error",title:"Error",message:"You must be logged in to add a bill."});return}q(!0);try{const P=Q.map(ye=>{const Ge=w.find(Xa=>Xa.id===ye),Oe=j==="equally"?y/Q.length:re[ye]||0;return{userId:ye,userName:Ge.name,amount:parseFloat(Oe.toFixed(2)),status:"Unpaid"}}),se={title:h,category:b,totalAmount:y,dueDate:ee,description:k,shares:P};if(await ae.createBill(se)){if(K({type:"success",title:"Bill Created",message:`${h} has been successfully created.`}),f.khataId){const Ge=(await ae.getBillsForRoom(f.khataId)).find(Oe=>Oe.title===h&&Oe.category===b);Ge&&c(Ge)}n()}else K({type:"error",title:"Error",message:"Failed to create bill. Please try again."})}catch(P){console.error("Error creating bill:",P),K({type:"error",title:"Error",message:"Failed to create bill. Please try again."})}finally{q(!1)}},V=()=>{if(Q.length===0)return a.jsx("p",{className:"text-sm text-slate-500 text-center",children:"Select members to split the bill."});if(j==="equally"){const G=(y||0)/Q.length;return a.jsxs("p",{className:"text-center font-semibold",children:["",G.toFixed(2)," per person"]})}return a.jsxs("div",{className:"space-y-2",children:[Q.map(G=>{const P=w.find(se=>se.id===G);return a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"text-sm",children:P==null?void 0:P.name}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",children:""}),a.jsx("input",{type:"number",step:"0.01",placeholder:"0.00",value:re[G]||"",onChange:se=>te(G,se.target.value),className:"w-28 pl-7 pr-2 py-1 text-right bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-md focus:outline-none focus:border-primary-500"})]})]},G)}),a.jsxs("div",{className:`mt-2 pt-2 border-t dark:border-slate-600 flex justify-between font-semibold ${Ae?"text-success-600":"text-danger-600"}`,children:[a.jsx("span",{children:"Total Custom:"}),a.jsxs("span",{children:["",be.toFixed(2)]})]})]})};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:n,children:a.jsxs("form",{onSubmit:S,className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg animate-scale-in",onClick:G=>G.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b dark:border-slate-700 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold font-sans text-slate-900 dark:text-white",children:"Add New Bill"}),a.jsx("button",{type:"button",onClick:n,className:"p-1 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700",children:a.jsx(Rt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto space-y-4 text-sm",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Title"}),a.jsx("input",{type:"text",placeholder:"e.g., October Electricity",value:h,onChange:G=>p(G.target.value),className:"w-full mt-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Category"}),a.jsx("select",{value:b,onChange:G=>g(G.target.value),className:"w-full mt-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500",required:!0,children:["Rent","Electricity","Water","Gas","Wi-Fi","Maid","Others"].map(G=>a.jsx("option",{value:G,children:G},G))})]}),o&&o.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Month"}),a.jsx("select",{value:ue,onChange:R,className:"w-full mt-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500",required:!0,children:o.map(G=>a.jsx("option",{value:G,children:G},G))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Total Amount"}),a.jsx("input",{type:"number",step:"0.01",value:y,onChange:G=>v(parseFloat(G.target.value)||""),className:"w-full mt-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Due Date"}),a.jsx("input",{type:"date",value:ee,onChange:G=>ce(G.target.value),className:"w-full mt-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Description (Optional)"}),a.jsx("textarea",{value:k,onChange:G=>D(G.target.value),rows:2,className:"w-full mt-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500"})]}),a.jsxs("div",{className:"border-t pt-4 dark:border-slate-600",children:[a.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:"Split Bill With"}),L?a.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"Loading members..."}):w.length===0?a.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"No members found in this room"}):a.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2",children:w.map(G=>a.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700/50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:Q.includes(G.id),onChange:()=>W(G.id),className:"h-5 w-5 rounded border-slate-300 text-primary-600 focus:ring-primary-500"}),a.jsx("span",{children:G.name})]},G.id))})]}),Q.length>0&&a.jsxs("div",{className:"border-t pt-4 dark:border-slate-600",children:[a.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:"Split Method"}),a.jsxs("div",{className:"mt-2 flex gap-2 p-1 bg-slate-100 dark:bg-slate-700 rounded-lg",children:[a.jsx("button",{type:"button",onClick:()=>C("equally"),className:`flex-1 py-1.5 text-sm font-semibold rounded-md ${j==="equally"?"bg-white dark:bg-slate-600 shadow":""}`,children:"Split Equally"}),a.jsx("button",{type:"button",onClick:()=>C("custom"),className:`flex-1 py-1.5 text-sm font-semibold rounded-md ${j==="custom"?"bg-white dark:bg-slate-600 shadow":""}`,children:"Custom Amount"})]}),a.jsx("div",{className:"mt-4 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:V()})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-700/50 rounded-b-xl flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 font-semibold rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500",disabled:$,children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",disabled:$||L,children:$?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating..."]}):"Add Bill"})]})]})})},oy=({billToEdit:n,onClose:c,onBillUpdated:d})=>{const[o,u]=A.useState(n.title),[f,h]=A.useState(n.totalAmount),[p,b]=A.useState(n.dueDate),[g,y]=A.useState(n.description||""),[v,k]=A.useState("equally"),[D,j]=A.useState({});A.useEffect(()=>{const q=n.shares;if(q.length>0){const Q=q[0].amount;if(q.every(re=>Math.abs(re.amount-Q)<.01)&&q.length>1)k("equally");else{k("custom");const re=q.reduce((F,K)=>(F[K.userId]=K.amount,F),{});j(re)}}},[n]);const C=(q,Q)=>{const I=parseFloat(Q)||0;j(re=>({...re,[q]:I}))},w=A.useMemo(()=>f<=0||n.shares.length===0?0:f/n.shares.length,[f,n.shares.length]),E=A.useMemo(()=>n.shares.reduce((q,Q)=>q+(D[Q.userId]||0),0),[D,n.shares]),L=Math.abs(E-f)<.01,H=()=>{if(v==="custom"&&!L){alert("Custom split amounts must add up to the total bill amount.");return}const q=n.shares.map(I=>{const re=v==="equally"?w:D[I.userId]||0;return{...I,amount:parseFloat(re.toFixed(2))}}),Q={...n,title:o,totalAmount:f,dueDate:p,description:g,shares:q};d(Q),c()},$=()=>n.shares.length===0?a.jsx("p",{className:"text-sm text-slate-500 text-center",children:"No members assigned to this bill."}):v==="equally"?a.jsx("div",{className:"space-y-2",children:n.shares.map(q=>a.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 dark:bg-slate-700/50 rounded-md",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Va,{className:"w-6 h-6 text-slate-400"}),a.jsx("span",{children:q.userName})]}),a.jsxs("span",{className:"font-semibold font-numeric",children:["",w.toFixed(2)]})]},q.userId))}):a.jsxs("div",{className:"space-y-2",children:[n.shares.map(q=>a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"text-sm",children:q.userName}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",children:""}),a.jsx("input",{type:"number",step:"0.01",value:D[q.userId]||"",onChange:Q=>C(q.userId,Q.target.value),className:"w-28 pl-7 pr-2 py-1 text-right bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-md focus:outline-none focus:border-primary-500"})]})]},q.userId)),a.jsxs("div",{className:`mt-2 pt-2 border-t dark:border-slate-600 flex justify-between font-semibold ${L?"text-success-600":"text-danger-600"}`,children:[a.jsx("span",{children:"Total Custom:"}),a.jsxs("span",{children:["",E.toFixed(2)]})]})]});return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:c,children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg animate-scale-in",onClick:q=>q.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b dark:border-slate-700 flex justify-between items-center",children:[a.jsxs("h2",{className:"text-xl font-bold font-sans text-slate-900 dark:text-white",children:["Edit ",n.category," Bill"]}),a.jsx("button",{type:"button",onClick:c,className:"p-1 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700",children:a.jsx(Rt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto space-y-4 text-sm",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Title"}),a.jsx("input",{type:"text",value:o,onChange:q=>u(q.target.value),className:"w-full mt-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Due Date"}),a.jsx("input",{type:"date",value:p,onChange:q=>b(q.target.value),className:"w-full mt-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Total Amount"}),a.jsx("input",{type:"number",step:"0.01",value:f,onChange:q=>h(parseFloat(q.target.value)||0),className:"w-full mt-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Description (Optional)"}),a.jsx("textarea",{value:g,onChange:q=>y(q.target.value),rows:2,className:"w-full mt-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500"})]}),a.jsxs("div",{className:"border-t pt-4 dark:border-slate-600",children:[a.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:"Split Method"}),a.jsxs("div",{className:"mt-2 flex gap-2 p-1 bg-slate-100 dark:bg-slate-700 rounded-lg",children:[a.jsx("button",{type:"button",onClick:()=>k("equally"),className:`flex-1 py-1.5 text-sm font-semibold rounded-md ${v==="equally"?"bg-white dark:bg-slate-600 shadow":""}`,children:"Split Equally"}),a.jsx("button",{type:"button",onClick:()=>k("custom"),className:`flex-1 py-1.5 text-sm font-semibold rounded-md ${v==="custom"?"bg-white dark:bg-slate-600 shadow":""}`,children:"Custom Amount"})]}),a.jsx("div",{className:"mt-4",children:$()})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-700/50 rounded-b-xl flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:c,className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 font-semibold rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500",children:"Cancel"}),a.jsx("button",{type:"button",onClick:H,className:"px-4 py-2 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600",children:"Save Changes"})]})]})})},Nf={Paid:{text:"text-success-700 dark:text-success-400",bg:"bg-success-500/10"},"Pending Approval":{text:"text-warning-600 dark:text-warning-400",bg:"bg-warning-500/10"},Unpaid:{text:"text-slate-800 dark:text-slate-200",bg:"bg-slate-100 dark:bg-slate-700"},Overdue:{text:"text-danger-600 dark:text-danger-400",bg:"bg-danger-500/10"}},dy=()=>{const n=[],c=new Date;for(let d=0;d<6;d++){const o=new Date(c);o.setMonth(o.getMonth()-d),n.push(o.toLocaleString("default",{month:"long",year:"numeric"}))}return n},Il=({category:n,icon:c})=>{var pe;const{user:d,setPage:o}=ve(),[u,f]=A.useState([]),[h,p]=A.useState(!0),[b,g]=A.useState(null),[y,v]=A.useState(null),{addToast:k}=Le(),[D]=A.useState(dy()),[j,C]=A.useState(D[0]),[w,E]=A.useState(!1);A.useEffect(()=>{d!=null&&d.khataId&&(p(!0),ae.getBillsForRoom(d.khataId).then(ee=>{const ce=ee.filter(R=>R.category===n).sort((R,W)=>new Date(W.dueDate).getTime()-new Date(R.dueDate).getTime());f(ce),p(!1)}))},[d,n]);const L=async()=>{if(!b||!d)return;const ee=await ae.updateBillShareStatus(b.id,d.id,"Pending Approval");ee&&(f(ce=>ce.map(R=>R.id===ee.id?ee:R)),k({type:"success",title:"Payment Submitted",message:"Your payment is now pending approval."})),g(null)},H=async(ee,ce)=>{const R=await ae.updateBillShareStatus(ee,ce,"Paid");R?(f(W=>W.map(te=>te.id===R.id?R:te)),k({type:"success",title:"Approved",message:"Payment approved successfully."})):k({type:"error",title:"Error",message:"Failed to approve payment."})},$=async(ee,ce)=>{const R=await ae.updateBillShareStatus(ee,ce,"Unpaid");R?(f(W=>W.map(te=>te.id===R.id?R:te)),k({type:"info",title:"Denied",message:"Payment rejected. Status reset to Unpaid."})):k({type:"error",title:"Error",message:"Failed to deny payment."})},q=ee=>{f(ce=>ce.map(R=>R.id===ee.id?ee:R)),k({type:"success",title:"Bill Updated",message:`The ${ee.title} bill has been successfully updated.`}),v(null)},Q=ee=>{f(ce=>[ee,...ce].sort((R,W)=>new Date(W.dueDate).getTime()-new Date(R.dueDate).getTime())),k({type:"success",title:"Bill Added",message:`The new ${n} bill has been successfully created.`}),E(!1)},I=()=>{k({type:"info",title:"Reminder Sent",message:"Reminders have been sent to all unpaid members."})},re=ee=>{window.confirm(`Are you sure you want to delete the ${ee.title} bill? This action cannot be undone.`)&&(f(ce=>ce.filter(R=>R.id!==ee.id)),k({type:"error",title:"Bill Deleted",message:`The ${ee.title} bill has been removed.`}))},F=A.useMemo(()=>{if(!j)return null;const[ee,ce]=j.split(" "),R=parseInt(ce,10),W=new Date(Date.parse(ee+" 1, 2012")).getMonth();return u.find(te=>{const be=new Date(te.dueDate);return be.getFullYear()===R&&be.getMonth()===W})},[u,j]);if(h)return a.jsxs("div",{className:"text-center p-8",children:["Loading ",n," bills..."]});if(!d)return null;const K=ee=>{const ce=new Date,R=new Date(ee);ce.setHours(0,0,0,0),R.setHours(0,0,0,0);const W=R.getTime()-ce.getTime(),te=Math.ceil(W/(1e3*60*60*24));return te<0?{text:`Overdue by ${Math.abs(te)} day(s)`,isOverdue:!0}:te===0?{text:"Due today",isOverdue:!1}:{text:`${te} day(s) left`,isOverdue:!1}},J=ee=>a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-6 space-y-4",children:[a.jsxs("h2",{className:"text-xl font-bold font-sans text-slate-800 dark:text-white",children:[j," Bill"]}),a.jsxs("div",{className:"space-y-1 text-sm text-slate-600 dark:text-slate-300",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Total Amount:"})," ",a.jsxs("span",{className:"font-numeric text-base",children:["",ee.totalAmount.toFixed(2)]})]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Bill Date:"})," ",new Date(new Date(ee.dueDate).setDate(1)).toLocaleDateString()]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Due Date:"})," ",ee.dueDate]}),ee.description&&a.jsxs("p",{children:[a.jsx("strong",{children:"Notes:"})," ",ee.description]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold font-sans text-slate-800 dark:text-white mb-2",children:["Split Among ",ee.shares.length," Members:"]}),a.jsx("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg space-y-2",children:ee.shares.map(ce=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-slate-800 dark:text-slate-200",children:[ce.userName," - ",a.jsxs("span",{className:"font-numeric",children:["",ce.amount.toFixed(2)]})]}),a.jsx("span",{className:`text-xs font-semibold ${Nf[ce.status].text}`,children:ce.status})]}),a.jsxs("div",{className:"flex gap-2",children:[ce.status==="Pending Approval"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>$(ee.id,ce.userId),className:"px-2 py-1 text-xs font-semibold bg-danger-500/10 text-danger-600 rounded-md hover:bg-danger-500/20 transition-all active:scale-95",children:"Deny"}),a.jsx("button",{onClick:()=>H(ee.id,ce.userId),className:"px-2 py-1 text-xs font-semibold bg-success-500/10 text-success-600 rounded-md hover:bg-success-500/20 transition-all active:scale-95",children:"Approve"})]}),ce.status==="Paid"&&a.jsx("span",{className:"text-success-600",children:""})]})]},ce.userId))})]}),a.jsxs("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700 flex flex-wrap gap-2 justify-end",children:[a.jsx("button",{onClick:I,className:"px-3 py-1.5 text-sm font-semibold border border-primary-500 text-primary-600 rounded-md hover:bg-primary-500/10 transition-all active:scale-95",children:"Send Reminder"}),a.jsx("button",{onClick:()=>v(ee),className:"px-3 py-1.5 text-sm font-semibold border border-slate-300 dark:border-slate-600 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700 transition-all active:scale-95",children:"Edit Bill"}),a.jsx("button",{onClick:()=>re(ee),className:"px-3 py-1.5 text-sm font-semibold text-danger-600 bg-danger-500/10 rounded-md hover:bg-danger-500/20 transition-all active:scale-95",children:"Delete"})]})]})}),ue=ee=>{const ce=ee.shares.find(be=>be.userId===d.id);if(!ce)return a.jsx("p",{children:"Your details for this bill are not available."});const R=K(ee.dueDate),W=Nf[ce.status],te=ce.status==="Unpaid"||ce.status==="Overdue";return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-6 space-y-4",children:[a.jsx("h2",{className:"text-xl font-bold font-sans text-slate-800 dark:text-white",children:j}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:[a.jsxs("p",{children:["Total Bill: ",a.jsxs("span",{className:"font-semibold text-slate-800 dark:text-white font-numeric",children:["",ee.totalAmount.toFixed(2)]})]}),a.jsxs("p",{className:"text-lg mt-1",children:["Your Share: ",a.jsxs("span",{className:"font-bold text-xl text-primary-600 font-numeric",children:["",ce.amount.toFixed(2)]})]})]}),a.jsxs("div",{children:[a.jsxs("p",{className:`text-sm ${R.isOverdue&&!te?"text-danger-600 font-semibold":"text-slate-500 dark:text-slate-400"}`,children:["Due: ",ee.dueDate,te&&` (${R.text})`]}),a.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Status: ",a.jsx("span",{className:`font-semibold ${W.text}`,children:ce.status})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsx("button",{className:"px-4 py-2 text-sm font-semibold border border-slate-300 dark:border-slate-600 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700 transition-all active:scale-95",children:"View Bill Image "}),te&&a.jsx("button",{onClick:()=>g(ee),className:"px-4 py-2 text-sm font-semibold bg-gradient-success text-white rounded-md hover:shadow-lg transition-all active:scale-[0.98]",children:"Pay Now"})]})]})})};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>o("bills"),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-all active:scale-95",children:a.jsx(rs,{className:"w-6 h-6 text-slate-600 dark:text-slate-300"})}),c,a.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white font-sans",children:[n," Bills"]})]}),d.role===oe.Manager&&a.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-success text-white font-semibold rounded-md hover:shadow-lg transition-all active:scale-[0.98]",children:[a.jsx(ei,{className:"w-5 h-5"}),"Add Bill"]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("select",{value:j,onChange:ee=>C(ee.target.value),className:"px-4 py-2 text-sm font-semibold bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm",children:D.map(ee=>a.jsx("option",{value:ee,children:ee},ee))})}),F?d.role===oe.Manager?J(F):ue(F):a.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-lg shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-medium font-sans text-slate-900 dark:text-white",children:["No ",n," bill found for ",j,"."]}),d.role===oe.Manager&&a.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:'Click "Add Bill" to create one.'})]})]}),y&&a.jsx(oy,{billToEdit:y,onClose:()=>v(null),onBillUpdated:q}),w&&a.jsx(dh,{onClose:()=>E(!1),onBillAdded:Q,preselectedCategory:n,availableMonths:D,selectedMonth:j}),b&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fade-in",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-sm animate-scale-in",children:[a.jsx("h3",{className:"text-lg font-bold font-sans text-slate-900 dark:text-white",children:"Confirm Payment"}),a.jsxs("div",{className:"mt-4 mb-6 text-sm text-slate-600 dark:text-slate-300",children:[a.jsxs("p",{children:["Bill: ",a.jsx("span",{className:"font-semibold",children:b.title})]}),a.jsxs("p",{children:["Amount to Pay: ",a.jsxs("span",{className:"font-semibold font-numeric",children:["",(pe=b.shares.find(ee=>ee.userId===(d==null?void 0:d.id)))==null?void 0:pe.amount.toFixed(2)]})]}),a.jsx("p",{className:"mt-4 p-2 bg-warning-500/10 text-warning-600 dark:text-warning-400 rounded-md",children:" This will be sent to the manager for approval."})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>g(null),className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 text-slate-800 dark:text-slate-200 font-semibold rounded-md hover:bg-slate-300 dark:hover:bg-slate-500 transition-all active:scale-95",children:"Cancel"}),a.jsx("button",{onClick:L,className:"px-4 py-2 bg-gradient-success text-white rounded-md font-semibold hover:shadow-lg transition-all active:scale-95",children:"Confirm Payment"})]})]})})]})},uh={Rent:a.jsx(cn,{className:"w-6 h-6 text-danger-500"}),Electricity:a.jsx(on,{className:"w-6 h-6 text-yellow-500"}),Water:a.jsx(dn,{className:"w-6 h-6 text-blue-500"}),Gas:a.jsx(un,{className:"w-6 h-6 text-orange-500"}),"Wi-Fi":a.jsx(mn,{className:"w-6 h-6 text-cyan-500"}),Maid:a.jsx(fn,{className:"w-6 h-6 text-purple-500"}),Others:a.jsx(Ga,{className:"w-6 h-6 text-slate-500"})},uy=({bills:n})=>{const{setPage:c}=ve(),[d,o]=A.useState("All"),[u,f]=A.useState(""),h=A.useMemo(()=>n.filter(b=>{if(!b.title.toLowerCase().includes(u.toLowerCase()))return!1;if(d==="All")return!0;const y=new Date(b.dueDate)<new Date&&b.shares.some(k=>k.status!=="Paid");if(d==="Overdue")return y;const v=b.shares.every(k=>k.status==="Paid");return d==="Approved"?v:d==="Pending Payment"?!v&&!y:!0}),[n,d,u]),p=({paid:b,total:g})=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:g}).map((y,v)=>a.jsx("div",{className:`w-3 h-3 rounded-full ${v<b?"bg-success-500":"bg-slate-300 dark:bg-slate-600"}`},v))}),a.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 font-numeric",children:[b,"/",g," Paid"]})]});return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[a.jsx("div",{className:"flex-shrink-0 grid grid-cols-2 sm:grid-cols-4 gap-2 bg-slate-100 dark:bg-slate-800 p-1 rounded-lg",children:["All","Pending Payment","Approved","Overdue"].map(b=>a.jsx("button",{onClick:()=>o(b),className:`px-3 py-1.5 text-sm font-semibold rounded-md transition-colors ${d===b?"bg-white dark:bg-slate-700 text-primary-600 shadow":"text-slate-600 dark:text-slate-300 hover:bg-white/50"}`,children:b},b))}),a.jsxs("div",{className:"relative flex-grow min-w-[200px]",children:[a.jsx(Ob,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search bills...",value:u,onChange:b=>f(b.target.value),className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(b=>{const g=b.shares.filter(v=>v.status==="Paid").length,y=b.shares.length;return a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-5 flex flex-col justify-between transition-all hover:shadow-lg hover:scale-[1.02]",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[uh[b.category]||a.jsx(Ga,{className:"w-6 h-6 text-slate-500"}),a.jsx("h3",{className:"font-bold text-xl font-sans text-slate-800 dark:text-white",children:b.title})]}),a.jsxs("p",{className:"text-2xl font-bold text-primary-600 font-numeric",children:["",b.totalAmount.toFixed(2)]}),a.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Due: ",b.dueDate]}),a.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Split: ",a.jsxs("span",{className:"font-numeric",children:["",(b.totalAmount/y).toFixed(2)]})," per person"]})]}),a.jsxs("div",{className:"mt-4 space-y-3",children:[a.jsx(p,{paid:g,total:y}),a.jsx("div",{className:"flex gap-2",children:a.jsx("button",{onClick:()=>c(`bills-detail_${b.id}`),className:"px-3 py-1 text-sm bg-slate-100 dark:bg-slate-700 rounded-md font-semibold hover:bg-slate-200 dark:hover:bg-slate-600 transition-all active:scale-95",children:"View Details"})})]})]},b.id)})})]})},my=({bills:n,setConfirmingPayment:c})=>{const{setPage:d}=ve(),o=u=>{const f=new Date,h=new Date(u);f.setHours(0,0,0,0),h.setHours(0,0,0,0);const p=h.getTime()-f.getTime(),b=Math.ceil(p/(1e3*60*60*24));return b<0?{text:`Overdue by ${Math.abs(b)} day(s)`,isOverdue:!0}:b===0?{text:"Due today",isOverdue:!1}:{text:`${b} day(s) left`,isOverdue:!1}};return a.jsx("div",{className:"space-y-4",children:n.map(u=>{const f=o(u.dueDate),h=u.myShare.status;return a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-5 space-y-3 transition-all hover:shadow-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[uh[u.category],a.jsx("h3",{className:"font-bold text-lg font-sans text-slate-800 dark:text-white",children:u.title})]}),a.jsxs("p",{className:"text-slate-600 dark:text-slate-300",children:["Your Share: ",a.jsxs("span",{className:"font-bold text-lg text-slate-800 dark:text-white font-numeric",children:["",u.myShare.amount.toFixed(2)]})]}),a.jsxs("p",{className:`text-sm ${f.isOverdue&&h!=="Paid"?"text-danger-600 font-semibold":"text-slate-500 dark:text-slate-400"}`,children:["Due Date: ",new Date(u.dueDate).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}),h!=="Paid"&&` (${f.text})`]}),a.jsxs("div",{className:"flex justify-between items-center border-t border-slate-200 dark:border-slate-700 pt-3",children:[a.jsx("div",{children:h==="Unpaid"||h==="Overdue"?a.jsx("button",{onClick:()=>c(u),className:"px-4 py-2 text-white font-semibold rounded-md bg-gradient-success hover:shadow-lg transition-all active:scale-[0.98]",children:"Pay Now"}):h==="Pending Approval"?a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-warning-600 dark:text-warning-400",children:["Status: ",a.jsx("span",{className:"font-semibold",children:" Waiting for Approval"})]})}):a.jsx("div",{children:a.jsx("p",{className:"text-sm text-success-600 dark:text-success-400",children:"Paid "})})}),a.jsx("button",{onClick:()=>d(`bills-detail_${u.id}`),className:"text-sm font-semibold text-primary-600 hover:underline",children:"View Details "})]})]},u.id)})})},fy=()=>{var C;const{user:n}=ve(),[c,d]=A.useState([]),[o,u]=A.useState(!0),[f,h]=A.useState("Due Now"),[p,b]=A.useState(null),[g,y]=A.useState(!1),{addToast:v}=Le();A.useEffect(()=>{n!=null&&n.khataId&&(u(!0),ae.getBillsForRoom(n.khataId).then(w=>{d(w.sort((E,L)=>new Date(L.dueDate).getTime()-new Date(E.dueDate).getTime())),u(!1)}))},[n]);const k=async()=>{if(!p||!n)return;const w=await ae.updateBillShareStatus(p.id,n.id,"Pending Approval");w&&(d(E=>E.map(L=>L.id===w.id?w:L)),v({type:"success",title:"Payment Submitted",message:"Your payment is now pending manager approval."})),b(null)},D=w=>{d(E=>[w,...E].sort((L,H)=>new Date(H.dueDate).getTime()-new Date(L.dueDate).getTime())),v({type:"success",title:"Bill Added",message:`The "${w.title}" bill has been successfully created.`}),y(!1)},j=A.useMemo(()=>!n||n.role===oe.Manager?[]:c.map(E=>{const L=E.shares.find(H=>H.userId===n.id);return L?{...E,myShare:L}:null}).filter(E=>E!==null).filter(E=>{const L=E.myShare.status;return f==="History"?!0:f==="Due Now"?L==="Unpaid"||L==="Overdue":L===f}),[c,n,f]);return o?a.jsx("div",{className:"text-center p-8",children:"Loading all bills..."}):n?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white font-sans",children:n.role===oe.Manager?"Bills":"My Bills"}),n.role===oe.Manager&&a.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-4 py-2 text-white font-semibold rounded-lg bg-gradient-success hover:shadow-lg transition-all active:scale-[0.98]",children:[a.jsx(ei,{className:"w-5 h-5"}),"Add New Bill"]})]}),n.role===oe.Manager?a.jsx(uy,{bills:c}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex-shrink-0 grid grid-cols-2 sm:grid-cols-4 gap-2 bg-slate-100 dark:bg-slate-800 p-1 rounded-lg",children:["Due Now","Paid","Pending Approval","History"].map(w=>a.jsx("button",{onClick:()=>h(w),className:`px-3 py-1.5 text-sm font-semibold rounded-md transition-colors ${f===w?"bg-white dark:bg-slate-700 text-primary-600 shadow":"text-slate-600 dark:text-slate-300 hover:bg-white/50"}`,children:w},w))}),a.jsx(my,{bills:j,setConfirmingPayment:b})]})]}),g&&a.jsx(dh,{onClose:()=>y(!1),onBillAdded:D}),p&&n.role===oe.Member&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fade-in",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl p-6 w-full max-w-sm m-4 animate-scale-in",children:[a.jsx("h3",{className:"text-lg font-bold font-sans text-slate-900 dark:text-white",children:"Confirm Payment"}),a.jsxs("div",{className:"my-4 text-sm text-slate-600 dark:text-slate-300 space-y-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Bill:"})," ",p.title]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Amount to Pay:"})," ",a.jsxs("span",{className:"font-numeric",children:["",(C=p.shares.find(w=>w.userId===(n==null?void 0:n.id)))==null?void 0:C.amount.toFixed(2)]})]}),a.jsx("p",{className:"mt-4 p-3 bg-warning-500/10 text-warning-600 dark:text-warning-400 rounded-md text-center",children:" This will be sent to the manager for approval."})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>b(null),className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 text-slate-800 dark:text-slate-200 font-semibold rounded-md hover:bg-slate-300 dark:hover:bg-slate-500 transition-all active:scale-95",children:"Cancel"}),a.jsx("button",{onClick:k,className:"px-4 py-2 bg-gradient-success text-white rounded-md font-semibold hover:shadow-lg transition-all active:scale-95",children:"Confirm Payment"})]})]})})]}):null},hy=({billId:n})=>{const{setPage:c,user:d}=ve(),[o,u]=A.useState(null),[f,h]=A.useState(!0),{addToast:p}=Le();if(A.useEffect(()=>{(async()=>{if(d!=null&&d.khataId)try{const k=(await ae.getBillsForRoom(d.khataId)).find(D=>D.id===n);u(k||null)}catch(v){console.error("Error fetching bill details:",v),p({type:"error",title:"Error",message:"Failed to load bill details"})}finally{h(!1)}})()},[n,d==null?void 0:d.khataId]),f)return a.jsx("div",{className:"p-8 text-center",children:"Loading bill details..."});if(!o)return a.jsx("div",{className:"p-8 text-center",children:"Bill not found"});const g=o.shares.filter(y=>y.status==="Paid").reduce((y,v)=>y+v.amount,0)/o.totalAmount*100;return a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>c("bills"),className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:a.jsx(rs,{className:"w-6 h-6 text-slate-600 dark:text-slate-300"})}),a.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:o.title})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Total Amount"}),a.jsxs("p",{className:"text-3xl font-bold text-primary-600 font-numeric",children:["",o.totalAmount.toFixed(2)]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Due Date"}),a.jsx("p",{className:"font-semibold text-slate-800 dark:text-white",children:new Date(o.dueDate).toLocaleDateString()})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:"Payment Progress"}),a.jsxs("span",{className:"font-semibold text-slate-800 dark:text-white",children:[Math.round(g),"%"]})]}),a.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:a.jsx("div",{className:"bg-success-500 h-2.5 rounded-full transition-all duration-500",style:{width:`${g}%`}})})]}),a.jsx("h3",{className:"font-bold text-lg mb-4 text-slate-800 dark:text-white",children:"Share Details"}),a.jsx("div",{className:"space-y-3",children:o.shares.map(y=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${y.status==="Paid"?"bg-success-500":y.status==="Pending Approval"?"bg-warning-500":"bg-danger-500"}`}),a.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:y.userName})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"font-numeric font-semibold text-slate-700 dark:text-slate-200",children:["",y.amount.toFixed(2)]}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-semibold ${y.status==="Paid"?"bg-success-100 text-success-700 dark:bg-success-900/30 dark:text-success-400":y.status==="Pending Approval"?"bg-warning-100 text-warning-700 dark:bg-warning-900/30 dark:text-warning-400":"bg-danger-100 text-danger-700 dark:bg-danger-900/30 dark:text-danger-400"}`,children:y.status})]})]},y.userId))})]})]})},xy=()=>{const{page:n}=ve(),c="bills-detail_";if(n.startsWith(c)){const d=n.substring(c.length);return a.jsx(hy,{billId:d})}switch(n){case"bills":return a.jsx(vf,{});case"bills-all":return a.jsx(fy,{});case"bills-rent":return a.jsx(cy,{});case"bills-electricity":return a.jsx(Il,{category:"Electricity",icon:a.jsx(on,{className:"w-8 h-8 text-yellow-500"})});case"bills-water":return a.jsx(Il,{category:"Water",icon:a.jsx(dn,{className:"w-8 h-8 text-blue-500"})});case"bills-gas":return a.jsx(Il,{category:"Gas",icon:a.jsx(un,{className:"w-8 h-8 text-orange-500"})});case"bills-wifi":return a.jsx(Il,{category:"Wi-Fi",icon:a.jsx(mn,{className:"w-8 h-8 text-cyan-500"})});case"bills-maid":return a.jsx(Il,{category:"Maid",icon:a.jsx(fn,{className:"w-8 h-8 text-purple-500"})});case"bills-others":return a.jsx(Il,{category:"Others",icon:a.jsx(Ga,{className:"w-8 h-8 text-gray-500"})});default:return a.jsx(vf,{})}},gy=()=>{const{theme:n,toggleTheme:c}=kb();return a.jsx("button",{onClick:c,className:"w-full flex items-center justify-center p-2 rounded-md text-slate-600 dark:text-slate-300 bg-slate-100 dark:bg-slate-700/50 hover:bg-slate-200 dark:hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 dark:focus:ring-offset-slate-800 transition-colors","aria-label":"Toggle theme",children:n==="dark"?a.jsxs(a.Fragment,{children:[a.jsx(zb,{className:"w-5 h-5 mr-2 text-yellow-400"}),a.jsx("span",{className:"text-sm font-medium",children:"Light Mode"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Bb,{className:"w-5 h-5 mr-2 text-slate-700"}),a.jsx("span",{className:"text-sm font-medium",children:"Dark Mode"})]})})},py=({type:n})=>{switch(n){case"bill":return a.jsx(Ir,{className:"w-5 h-5 text-blue-500"});case"payment":return a.jsx(Zt,{className:"w-5 h-5 text-green-500"});case"meal":return a.jsx(hl,{className:"w-5 h-5 text-orange-500"});case"room":return a.jsx(fl,{className:"w-5 h-5 text-purple-500"});default:return null}},by=({isOpen:n,onClose:c})=>{const{notifications:d,unreadCount:o,markAllAsRead:u,markAsRead:f}=Le(),{setPage:h}=ve(),[p,b]=A.useState("All"),g=d.filter(v=>p==="Unread"?!v.read:!0),y=v=>{f(v.id),v.link&&(h(v.link),c())};return a.jsxs("div",{className:`fixed inset-0 z-50 transition-transform transform duration-300 ease-in-out ${n?"translate-x-0":"translate-x-full"}`,children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:c}),a.jsxs("div",{className:"relative w-full max-w-sm h-full bg-white dark:bg-slate-800 float-right flex flex-col",children:[a.jsxs("div",{className:"flex-shrink-0 p-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Notifications"}),a.jsx("button",{onClick:c,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:a.jsx(Rt,{className:"w-6 h-6 text-slate-500"})})]}),a.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>b("All"),className:`px-3 py-1 text-sm rounded-md ${p==="All"?"bg-primary-100 text-primary-600 dark:bg-primary-500/20":"hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:"All"}),a.jsxs("button",{onClick:()=>b("Unread"),className:`px-3 py-1 text-sm rounded-md ${p==="Unread"?"bg-primary-100 text-primary-600 dark:bg-primary-500/20":"hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:["Unread (",o,")"]})]}),a.jsx("button",{onClick:u,className:"text-sm font-medium text-primary-600 hover:underline",children:"Mark all as read"})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[g.map((v,k)=>a.jsxs("button",{className:"w-full text-left p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg flex gap-4 relative transition-colors hover:bg-slate-100 dark:hover:bg-slate-700 group animate-fade-in",style:{animationDelay:`${k*50}ms`},onClick:()=>y(v),children:[!v.read&&a.jsx("div",{className:"absolute left-1 top-1/2 -translate-y-1/2 w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("div",{className:"flex-shrink-0 pt-1",children:a.jsx(py,{type:v.type})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white",children:v.title}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:v.message}),v.actionText&&a.jsx("span",{className:"mt-2 inline-block text-sm font-semibold text-primary-600 group-hover:underline",children:v.actionText}),a.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-2",children:v.timestamp})]})]},v.id)),g.length>5&&a.jsx("button",{className:"w-full text-center text-sm font-semibold text-primary-600 hover:underline p-2",children:"Load More..."})]})]})]})},Pe=({page:n,icon:c,children:d,isSublink:o=!1,badgeCount:u})=>{const{page:f,setPage:h}=ve(),p=f===n;return a.jsxs("button",{onClick:()=>h(n),className:`w-full flex items-center text-left ${o?"pl-12 pr-3 py-2":"px-3 py-2.5"} rounded-md text-sm font-medium transition-all group duration-200 active:scale-[0.98] ${p?"bg-primary-100 text-primary-600 dark:bg-primary-500/20 dark:text-primary-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-slate-100"}`,children:[Cf.cloneElement(c,{className:`flex-shrink-0 w-6 h-6 mr-3 transition-colors ${p?"text-primary-500":"text-slate-400 dark:text-slate-500 group-hover:text-primary-500 dark:group-hover:text-primary-400"}`}),a.jsx("span",{className:"flex-grow font-semibold",children:d}),u&&u>0&&a.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${p?"bg-primary-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200"}`,children:u})]})},yy=()=>{const[n,c]=A.useState(!1),{page:d,setPage:o}=ve(),u=d.startsWith("bills");return a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>{c(!n),d.startsWith("bills-")||o("bills")},className:`w-full flex items-center text-left px-3 py-2.5 rounded-md text-sm font-medium transition-all group duration-200 active:scale-[0.98] ${u?"bg-primary-100 text-primary-600 dark:bg-primary-500/20 dark:text-primary-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-slate-100"}`,children:[a.jsx(Ir,{className:`flex-shrink-0 w-6 h-6 mr-3 transition-colors ${u?"text-primary-500":"text-slate-400 dark:text-slate-500 group-hover:text-primary-500 dark:group-hover:text-primary-400"}`}),a.jsx("span",{className:"flex-grow font-semibold",children:"Bills"}),a.jsx(_b,{className:`w-5 h-5 transition-transform duration-300 ${n?"rotate-180":""}`})]}),a.jsx("div",{className:`overflow-hidden transition-max-height duration-500 ease-in-out ${n?"max-h-96":"max-h-0"}`,children:a.jsxs("div",{className:"mt-1 space-y-1",children:[a.jsx(Pe,{page:"bills",icon:a.jsx(ih,{}),isSublink:!0,children:"Overview"}),a.jsx(Pe,{page:"bills-all",icon:a.jsx(Gb,{}),isSublink:!0,children:"All Bills"}),a.jsx(Pe,{page:"bills-rent",icon:a.jsx(cn,{}),isSublink:!0,children:"Rent Bills"}),a.jsx(Pe,{page:"bills-electricity",icon:a.jsx(on,{}),isSublink:!0,children:"Electricity"}),a.jsx(Pe,{page:"bills-water",icon:a.jsx(dn,{}),isSublink:!0,children:"Water"}),a.jsx(Pe,{page:"bills-gas",icon:a.jsx(un,{}),isSublink:!0,children:"Gas"}),a.jsx(Pe,{page:"bills-wifi",icon:a.jsx(mn,{}),isSublink:!0,children:"Wi-Fi"}),a.jsx(Pe,{page:"bills-maid",icon:a.jsx(fn,{}),isSublink:!0,children:"Maid"}),a.jsx(Pe,{page:"bills-others",icon:a.jsx(Ga,{}),isSublink:!0,children:"Others"})]})})]})},wf=()=>{const{user:n,logout:c}=ve();return a.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-slate-800/50 backdrop-blur-sm",children:[a.jsxs("div",{className:"h-16 flex items-center px-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(hn,{className:"w-8 h-8 text-primary-500"}),a.jsx("span",{className:"ml-2 font-bold text-2xl text-slate-800 dark:text-white font-sans",children:"BillKhata"})]}),a.jsxs("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:[a.jsx(Pe,{page:"dashboard",icon:a.jsx(ih,{}),children:"Dashboard"}),(n==null?void 0:n.role)===oe.Manager&&a.jsx(Pe,{page:"pending-approvals",icon:a.jsx(Vb,{}),badgeCount:5,children:"Pending Approvals"}),a.jsx(yy,{}),a.jsx(Pe,{page:"meals",icon:a.jsx(hl,{}),children:"Meal Management"}),a.jsx(Pe,{page:"shopping",icon:a.jsx(sh,{}),children:"Shopping"}),a.jsx(Pe,{page:"calendar",icon:a.jsx(ah,{}),children:"Calendar"}),a.jsx(Pe,{page:"menu",icon:a.jsx(rh,{}),children:"Menu"}),a.jsx(Pe,{page:"members",icon:a.jsx(fl,{}),children:"Room Members"}),a.jsx(Pe,{page:"history",icon:a.jsx(Xb,{}),children:"History"}),(n==null?void 0:n.role)===oe.Manager&&a.jsxs(a.Fragment,{children:[a.jsx(Pe,{page:"payment-dashboard",icon:a.jsx(Ab,{}),children:"Payment Dashboard"}),a.jsx(Pe,{page:"reports-analytics",icon:a.jsx(rn,{}),children:"Reports & Analytics"})]}),a.jsx(Pe,{page:"settings",icon:a.jsx(Uo,{}),children:"Settings"})]}),n&&a.jsxs("div",{className:"px-4 py-3 border-t border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3 transition-transform duration-200 hover:scale-105",children:[a.jsx(Va,{className:"w-10 h-10 text-slate-500"}),a.jsxs("div",{className:"flex-grow",children:[a.jsx("p",{className:"font-semibold text-sm text-slate-800 dark:text-white",children:n.name}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[n.role,"  Room 3B"]})]})]}),a.jsx("button",{onClick:c,className:"p-2 rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 transition-all active:scale-95 duration-200","aria-label":"Logout",children:a.jsx(qb,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"mt-3",children:a.jsx(gy,{})})]})]})},vy=({children:n})=>{const[c,d]=A.useState(!1),[o,u]=A.useState(!1),{unreadCount:f}=Le();return a.jsxs("div",{className:"h-screen flex overflow-hidden bg-slate-100 dark:bg-slate-900",children:[c&&a.jsxs("div",{className:"fixed inset-0 flex z-40 md:hidden",role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"fixed inset-0 bg-slate-600 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:()=>d(!1)}),a.jsxs("div",{className:"relative flex-1 flex flex-col max-w-xs w-full animate-slide-in-right",children:[a.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:a.jsxs("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>d(!1),children:[a.jsx("span",{className:"sr-only",children:"Close sidebar"}),a.jsx(Rt,{className:"h-6 w-6 text-white"})]})}),a.jsx(wf,{})]}),a.jsx("div",{className:"flex-shrink-0 w-14","aria-hidden":"true"})]}),a.jsx("div",{className:"hidden md:flex md:flex-shrink-0",children:a.jsx("div",{className:"flex flex-col w-64",children:a.jsx("div",{className:"flex flex-col h-0 flex-1 border-r border-slate-200 dark:border-slate-700",children:a.jsx(wf,{})})})}),a.jsxs("div",{className:"flex flex-col w-0 flex-1 overflow-hidden",children:[a.jsxs("div",{className:"relative z-30 flex-shrink-0 flex h-16 bg-white dark:bg-slate-800 shadow-sm",children:[a.jsxs("button",{type:"button",className:"px-4 border-r border-slate-200 dark:border-slate-700 text-slate-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500 md:hidden",onClick:()=>d(!0),children:[a.jsx("span",{className:"sr-only",children:"Open sidebar"}),a.jsx(Yb,{className:"h-6 w-6"})]}),a.jsxs("div",{className:"flex-1 px-4 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center md:hidden",children:[a.jsx(hn,{className:"w-8 h-8 text-primary-500"}),a.jsx("span",{className:"ml-2 font-bold text-xl text-slate-800 dark:text-white font-sans",children:"BillKhata"})]}),a.jsx("div",{className:"hidden md:block"}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("button",{onClick:()=>u(!0),className:"relative p-2 rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 transition-all active:scale-95",children:[a.jsx("span",{className:"sr-only",children:"View notifications"}),a.jsx(Xo,{className:"h-6 w-6"}),f>0&&a.jsx("span",{className:"absolute top-0 right-0 block h-2.5 w-2.5 rounded-full bg-danger-500 ring-2 ring-white dark:ring-slate-800"})]})})]})]}),a.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:a.jsx("div",{className:"py-6",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:n})})})]}),a.jsx(by,{isOpen:o,onClose:()=>u(!1)})]})},Eo=({icon:n,title:c,description:d})=>a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all",children:[a.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-full bg-primary-100 dark:bg-primary-900/50 mb-4",children:n}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:c}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:d})]}),jy=({onNavigateToLogin:n,onNavigateToSignUp:c})=>a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 text-slate-800 dark:text-slate-200",children:[a.jsxs("header",{className:"py-4 px-6 md:px-12 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(hn,{className:"w-8 h-8 text-primary-500"}),a.jsx("span",{className:"font-bold text-2xl",children:"BillKhata"})]}),a.jsxs("div",{className:"space-x-2",children:[a.jsx("button",{onClick:n,className:"px-4 py-2 text-sm font-semibold rounded-md hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Login"}),a.jsx("button",{onClick:c,className:"px-4 py-2 text-sm font-semibold rounded-md bg-primary-500 text-white hover:bg-primary-600 transition-colors",children:"Sign Up"})]})]}),a.jsx("main",{className:"py-20 px-6 md:px-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto grid md:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{className:"text-center md:text-left",children:[a.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold tracking-tight text-slate-900 dark:text-white",children:["Split Bills,",a.jsx("br",{}),a.jsx("span",{className:"text-primary-500",children:"Share Meals,"}),a.jsx("br",{}),"Stay Friends."]}),a.jsx("p",{className:"mt-6 text-lg text-slate-600 dark:text-slate-400 max-w-lg mx-auto md:mx-0",children:"The ultimate app for managing shared living expenses. From rent and utilities to daily meals, BillKhata keeps everything fair and transparent."}),a.jsxs("div",{className:"mt-8 flex gap-4 justify-center md:justify-start",children:[a.jsx("button",{onClick:c,className:"px-8 py-3 font-semibold rounded-md bg-primary-500 text-white hover:bg-primary-600 transition-transform hover:scale-105 shadow-lg",children:"Create Your Khata"}),a.jsx("button",{className:"px-8 py-3 font-semibold rounded-md bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-slate-200 hover:bg-slate-300 dark:hover:bg-slate-600 transition-transform hover:scale-105",children:"See Demo"})]})]}),a.jsx("div",{className:"hidden md:block",children:a.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-2xl transform rotate-3",children:a.jsx("div",{className:"aspect-video bg-slate-200 dark:bg-slate-700 rounded-lg flex items-center justify-center",children:a.jsx("p",{className:"text-slate-400 font-medium",children:"[Dashboard Preview Animated Mockup]"})})})})]})}),a.jsx("section",{className:"py-24 bg-white dark:bg-slate-800/50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-12 text-center",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Everything you need in one place"}),a.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 mb-12 max-w-3xl mx-auto",children:"BillKhata is packed with features to make shared living easier, more transparent, and conflict-free."}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[a.jsx(Eo,{icon:a.jsx(Ir,{className:"w-6 h-6 text-primary-500"}),title:" Bill Splitting",description:"Easily add bills for rent, utilities, and more. Split them equally or assign custom amounts per person."}),a.jsx(Eo,{icon:a.jsx(hl,{className:"w-6 h-6 text-primary-500"}),title:" Meal Tracker",description:"Log daily meals to automatically calculate costs. Perfect for managing shared grocery funds fairly."}),a.jsx(Eo,{icon:a.jsx(rn,{className:"w-6 h-6 text-primary-500"}),title:" Smart Analytics",description:"Get clear insights with per-member breakdowns, monthly trends, and payment history reports."})]})]})}),a.jsx("section",{className:"py-24",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-12 text-center",children:[a.jsx("h2",{className:"text-3xl font-bold mb-12",children:"Get Started in 4 Simple Steps"}),a.jsxs("div",{className:"grid md:grid-cols-4 gap-8 relative",children:[a.jsx("div",{className:"hidden md:block absolute top-1/2 left-0 w-full h-px -translate-y-8",children:a.jsx("svg",{width:"100%",height:"2",children:a.jsx("line",{x1:"0",y1:"1",x2:"100%",y2:"1",strokeWidth:"2",strokeDasharray:"8, 8",className:"stroke-current text-slate-300 dark:text-slate-600"})})}),a.jsxs("div",{className:"relative flex flex-col items-center",children:[a.jsx("div",{className:"h-16 w-16 bg-primary-500 text-white rounded-full flex items-center justify-center font-bold text-2xl z-10",children:"1"}),a.jsx("h3",{className:"mt-4 font-bold text-lg",children:"Create Room"}),a.jsx("p",{className:"mt-1 text-slate-600 dark:text-slate-400",children:"A manager sets up a new room and gets a unique code."})]}),a.jsxs("div",{className:"relative flex flex-col items-center",children:[a.jsx("div",{className:"h-16 w-16 bg-primary-500 text-white rounded-full flex items-center justify-center font-bold text-2xl z-10",children:"2"}),a.jsx("h3",{className:"mt-4 font-bold text-lg",children:"Add Members"}),a.jsx("p",{className:"mt-1 text-slate-600 dark:text-slate-400",children:"Members join the room using the shared 6-digit code."})]}),a.jsxs("div",{className:"relative flex flex-col items-center",children:[a.jsx("div",{className:"h-16 w-16 bg-primary-500 text-white rounded-full flex items-center justify-center font-bold text-2xl z-10",children:"3"}),a.jsx("h3",{className:"mt-4 font-bold text-lg",children:"Track Expenses"}),a.jsx("p",{className:"mt-1 text-slate-600 dark:text-slate-400",children:"Log all bills, meals, and deposits as they happen."})]}),a.jsxs("div",{className:"relative flex flex-col items-center",children:[a.jsx("div",{className:"h-16 w-16 bg-primary-500 text-white rounded-full flex items-center justify-center font-bold text-2xl z-10",children:"4"}),a.jsx("h3",{className:"mt-4 font-bold text-lg",children:"Settle Up"}),a.jsx("p",{className:"mt-1 text-slate-600 dark:text-slate-400",children:"View clear balances and settle dues with a single click."})]})]})]})}),a.jsx("footer",{className:"py-8 bg-white dark:bg-slate-800/50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6 md:px-12 text-center text-slate-500 dark:text-slate-400",children:a.jsx("p",{children:" 2024 BillKhata. All rights reserved."})})})]}),Ny=()=>{const[n,c]=A.useState(""),[d,o]=A.useState(!1),[u,f]=A.useState(""),[h,p]=A.useState(!1),{user:b,setUser:g,logout:y}=ve(),{addToast:v}=Le(),k=async C=>{C.preventDefault(),o(!0);try{const w=Math.random().toString(36).substring(2,8).toUpperCase();await ae.createRoom(n,w)?(f(w),v({type:"success",title:"Success!",message:"Room created successfully."})):v({type:"error",title:"Error",message:"Failed to create room. Please try again."})}catch(w){console.error("Create room error:",w),v({type:"error",title:"Error",message:"Failed to create room. Please try again."})}finally{o(!1)}},D=()=>{u&&(navigator.clipboard.writeText(u),p(!0),v({type:"success",title:"Copied!",message:"Room code copied to clipboard."}),setTimeout(()=>p(!1),2e3))},j=async()=>{if(b){const C=await ae.getCurrentUser();C&&(g(C),localStorage.setItem("user",JSON.stringify(C)))}};return a.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-900 p-4",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-primary-600",children:"BillKhata"}),a.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:["Welcome, ",b==null?void 0:b.name,"!"]})]}),a.jsx("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-lg p-8 text-center",children:u?a.jsxs(a.Fragment,{children:[a.jsx(Zt,{className:"w-16 h-16 mx-auto text-green-500"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mt-4",children:"Room Created!"}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 mb-6",children:"Share this code with your members so they can join."}),a.jsxs("div",{className:"w-full flex items-center justify-between p-3 bg-slate-100 dark:bg-slate-700 rounded-lg border-2 border-dashed border-slate-300 dark:border-slate-600 cursor-pointer",onClick:D,children:[a.jsx("p",{className:"text-3xl font-mono tracking-widest text-slate-700 dark:text-slate-200",children:u}),h?a.jsx(Zt,{className:"w-6 h-6 text-green-500"}):a.jsx(Qo,{className:"w-6 h-6 text-slate-500"})]}),a.jsx("button",{onClick:j,className:"w-full mt-6 px-4 py-3 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600 transition-colors",children:"Go to Dashboard"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Sb,{className:"w-16 h-16 mx-auto text-primary-500 opacity-80"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mt-4",children:"Create Your Room"}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 mb-6",children:"Give your shared space a name to get started."}),a.jsxs("form",{onSubmit:k,children:[a.jsx("input",{type:"text",placeholder:'e.g., "Apartment 3B"',value:n,onChange:C=>c(C.target.value),className:"w-full px-4 py-3 bg-slate-100 dark:bg-slate-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary-500 transition-colors dark:text-white",required:!0}),a.jsx("button",{type:"submit",disabled:d,className:"w-full mt-4 px-4 py-3 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600 disabled:opacity-50 transition-colors flex items-center justify-center",children:d?a.jsx(ti,{className:"w-6 h-6"}):"Create Room"})]})]})}),a.jsx("button",{onClick:y,className:"mt-8 text-sm text-slate-500 hover:underline",children:"Logout"})]})},wy=()=>{const[n,c]=A.useState(Array(6).fill("")),[d,o]=A.useState(!1),{user:u,setUser:f,logout:h}=ve(),{addToast:p}=Le(),b=A.useRef([]),g=(k,D)=>{var C;const{value:j}=k.target;if(/^[a-zA-Z0-9]$/.test(j)||j===""){const w=[...n];w[D]=j.toUpperCase(),c(w),j&&D<5&&((C=b.current[D+1])==null||C.focus())}},y=(k,D)=>{var j;k.key==="Backspace"&&!n[D]&&D>0&&((j=b.current[D-1])==null||j.focus())},v=async k=>{k.preventDefault();const D=n.join("");if(D.length===6){o(!0);try{if(await ae.joinRoom(D)){const C=await ae.getCurrentUser();C&&(f(C),localStorage.setItem("user",JSON.stringify(C))),p({type:"success",title:"Request Sent",message:"Your join request is now pending manager approval."})}else p({type:"error",title:"Error",message:"Failed to join room. Please check the code and try again."})}catch(j){console.error("Join room error:",j),p({type:"error",title:"Error",message:"Failed to join room. Please try again."})}finally{o(!1)}}};return a.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-900 p-4",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-primary-600",children:"BillKhata"}),a.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:["Welcome, ",u==null?void 0:u.name,"!"]})]}),a.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-lg p-8 text-center",children:[a.jsx(Mb,{className:"w-16 h-16 mx-auto text-primary-500 opacity-80"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mt-4",children:"Join a Room"}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 mb-6",children:"Enter the 6-digit room code from your manager."}),a.jsxs("form",{onSubmit:v,children:[a.jsx("div",{className:"flex justify-center gap-2 mb-4",children:n.map((k,D)=>a.jsx("input",{ref:j=>{b.current[D]=j},type:"text",maxLength:1,value:k,onChange:j=>g(j,D),onKeyDown:j=>y(j,D),className:"w-12 h-14 text-center text-2xl font-bold bg-slate-100 dark:bg-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"},D))}),a.jsx("button",{type:"submit",disabled:d||n.join("").length<6,className:"w-full mt-4 px-4 py-3 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600 disabled:opacity-50 transition-colors flex items-center justify-center",children:d?a.jsx(ti,{className:"w-6 h-6"}):"Request to Join"})]})]}),a.jsx("button",{onClick:h,className:"mt-8 text-sm text-slate-500 hover:underline",children:"Logout"})]})},ky=()=>{const{user:n,setUser:c,logout:d}=ve(),{addToast:o}=Le(),[u,f]=A.useState(!1);A.useEffect(()=>{const b=async()=>{if(!u){f(!0);try{const y=await ae.getCurrentUser();y&&y.roomStatus===ts.Approved&&(c(y),localStorage.setItem("user",JSON.stringify(y)),o({type:"success",title:"Approved!",message:"Your request has been approved. Welcome to the room!"}))}catch(y){console.error("Error checking approval status:",y)}finally{f(!1)}}};b();const g=setInterval(b,5e3);return()=>clearInterval(g)},[u]);const h=()=>{if(n){const b={...n,roomStatus:ts.NoRoom};c(b),localStorage.setItem("user",JSON.stringify(b)),o({type:"warning",title:"Request Withdrawn",message:"You have withdrawn your request to join the room."})}},p=async()=>{f(!0);try{const b=await ae.getCurrentUser();b&&(c(b),localStorage.setItem("user",JSON.stringify(b)),b.roomStatus===ts.Approved?o({type:"success",title:"Approved!",message:"Your request has been approved. Welcome to the room!"}):o({type:"info",title:"Still Pending",message:"Your request is still awaiting approval."}))}catch(b){console.error("Error refreshing status:",b),o({type:"error",title:"Error",message:"Failed to refresh status"})}finally{f(!1)}};return a.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-900 p-4 text-center",children:a.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-lg p-10",children:[a.jsx("div",{className:"w-16 h-16 bg-yellow-100 dark:bg-yellow-500/20 rounded-full flex items-center justify-center mx-auto",children:a.jsx("svg",{className:"w-8 h-8 text-yellow-500 dark:text-yellow-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mt-6",children:"Request Sent!"}),a.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:["Your request to join the room is now pending approval from the manager.",u&&a.jsx("span",{className:"block mt-2 text-primary-500",children:"Checking for updates..."})]}),a.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-2",children:"Auto-refreshing every 5 seconds"}),a.jsxs("div",{className:"mt-8 space-y-3",children:[a.jsx("button",{onClick:p,disabled:u,className:"w-full px-4 py-2.5 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Checking..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Check Status Now"]})}),a.jsx("button",{onClick:h,className:"w-full px-4 py-2.5 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600 transition-colors",children:"Withdraw Request"}),a.jsx("button",{onClick:d,className:"w-full px-4 py-2.5 bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-slate-200 font-semibold rounded-lg hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:"Logout"})]})]})})},To=({meal:n,label:c,icon:d,value:o,onChange:u,disabled:f,note:h})=>a.jsxs("div",{children:[a.jsxs("label",{className:"font-semibold text-gray-800 dark:text-white",children:[d," ",c,":"]}),a.jsx("div",{className:"flex items-center gap-x-3 mt-2 flex-wrap",children:[0,.5,1,2].map(p=>a.jsx("button",{type:"button",onClick:()=>u(p),disabled:f,className:`w-10 h-10 rounded-full text-sm font-bold flex items-center justify-center border-2 transition-all ${o===p?"bg-primary-100 dark:bg-primary-500/20 border-primary text-primary":"bg-gray-100 dark:bg-gray-700 border-gray-200 dark:border-gray-600"} ${f?"opacity-50 cursor-not-allowed":"hover:border-primary-300"}`,children:p},p))}),h&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:h})]}),Sy=({memberName:n,memberList:c,onClose:d,onSubmit:o,isFinalized:u})=>{const f=A.useMemo(()=>c.find(D=>D.name===n),[n,c]),h=A.useMemo(()=>(f==null?void 0:f.meals)||{breakfast:2,lunch:2,dinner:2},[f]),[p,b]=A.useState(h),[g,y]=A.useState(u?"Was out of town":""),v=()=>{o({memberName:n,newMeals:p,originalMeals:h,reason:g}),d()},k=D=>{if(p[D]!==h[D])return`(Changing from ${h[D]} to ${p[D]})`};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-sm",onClick:D=>D.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Edit Meal - ",n]}),a.jsx("button",{onClick:d,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:a.jsx(Rt,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"border-t my-4 border-gray-200 dark:border-gray-700"}),a.jsxs("div",{className:"space-y-4",children:[u&&a.jsx("p",{className:"p-2 text-sm text-yellow-800 bg-yellow-100 dark:text-yellow-200 dark:bg-yellow-900/50 rounded-md text-center",children:" Already finalized. Changes need member approval."}),a.jsx(To,{meal:"breakfast",icon:"",label:"Breakfast",value:p.breakfast,onChange:D=>b(j=>({...j,breakfast:D})),disabled:!1,note:k("breakfast")}),a.jsx(To,{meal:"lunch",icon:"",label:"Lunch",value:p.lunch,onChange:D=>b(j=>({...j,lunch:D})),disabled:!1,note:k("lunch")}),a.jsx(To,{meal:"dinner",icon:"",label:"Dinner",value:p.dinner,onChange:D=>b(j=>({...j,dinner:D})),disabled:!1,note:k("dinner")}),u&&a.jsxs("div",{children:[a.jsx("label",{className:"font-semibold text-gray-800 dark:text-white text-sm",children:"Reason for Change:"}),a.jsx("input",{type:"text",value:g,onChange:D=>y(D.target.value),className:"w-full mt-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors"})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{onClick:d,className:"flex-1 py-2.5 bg-gray-200 dark:bg-gray-600 font-semibold rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:v,className:"flex-1 py-2.5 bg-primary text-white font-semibold rounded-lg hover:bg-primary-600 transition-colors",children:u?"Send for Approval":"Save Changes"})]})]})})},My=({pendingEdit:n})=>{const c=[];return Object.keys(n.newMeals).forEach(d=>{n.newMeals[d]!==n.originalMeals[d]&&c.push(`${d} from ${n.originalMeals[d]} to ${n.newMeals[d]}`)}),c.length===0?null:a.jsxs("p",{className:"text-sm font-medium",children:["Manager changed meals for Oct ",n.date,": ",c.join(", "),"."]})},Ay=({isFinalized:n,meals:c,setMeals:d,pendingEdit:o,onApprovalAction:u,onSaveChanges:f})=>{const h=c.breakfast+c.lunch+c.dinner;return a.jsxs("div",{className:"space-y-6 pb-32",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Today's Meal Count"}),n?a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg mb-4",children:a.jsx("p",{className:"text-sm font-semibold text-yellow-800 dark:text-yellow-200",children:" Finalized by Manager - No changes allowed"})}),a.jsxs("div",{className:"space-y-2 text-gray-700 dark:text-gray-200",children:[a.jsxs("p",{className:"flex justify-between",children:[a.jsx("span",{children:" Breakfast:"})," ",a.jsx("span",{className:"font-bold",children:c.breakfast})]}),a.jsxs("p",{className:"flex justify-between",children:[a.jsx("span",{children:" Lunch:"})," ",a.jsx("span",{className:"font-bold",children:c.lunch})]}),a.jsxs("p",{className:"flex justify-between",children:[a.jsx("span",{children:" Dinner:"})," ",a.jsx("span",{className:"font-bold",children:c.dinner})]})]})]}):a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"font-medium text-gray-700 dark:text-gray-300",children:" Breakfast"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>d(p=>({...p,breakfast:Math.max(0,p.breakfast-1)})),className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 font-bold",children:""}),a.jsx("span",{className:"w-12 text-center font-bold text-xl",children:c.breakfast}),a.jsx("button",{onClick:()=>d(p=>({...p,breakfast:p.breakfast+1})),className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 font-bold",children:"+"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"font-medium text-gray-700 dark:text-gray-300",children:" Lunch"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>d(p=>({...p,lunch:Math.max(0,p.lunch-1)})),className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 font-bold",children:""}),a.jsx("span",{className:"w-12 text-center font-bold text-xl",children:c.lunch}),a.jsx("button",{onClick:()=>d(p=>({...p,lunch:p.lunch+1})),className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 font-bold",children:"+"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"font-medium text-gray-700 dark:text-gray-300",children:" Dinner"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>d(p=>({...p,dinner:Math.max(0,p.dinner-1)})),className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 font-bold",children:""}),a.jsx("span",{className:"w-12 text-center font-bold text-xl",children:c.dinner}),a.jsx("button",{onClick:()=>d(p=>({...p,dinner:p.dinner+1})),className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 font-bold",children:"+"})]})]})]})]}),o&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2 text-yellow-600 dark:text-yellow-400",children:" Manager Edit Pending Approval"}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-3"}),a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[a.jsx(My,{pendingEdit:o}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:['Reason: "',o.reason,'"']}),a.jsxs("div",{className:"flex gap-2 mt-3 justify-end",children:[a.jsx("button",{onClick:()=>u("deny"),className:"px-3 py-1 text-sm font-semibold bg-red-100 text-red-700 rounded-md hover:bg-red-200 dark:bg-red-900/50 dark:text-red-300 dark:hover:bg-red-900",children:"Deny"}),a.jsx("button",{onClick:()=>u("approve"),className:"px-3 py-1 text-sm font-semibold bg-green-100 text-green-700 rounded-md hover:bg-green-200 dark:bg-green-900/50 dark:text-green-300 dark:hover:bg-green-900",children:"Approve Change"})]})]})]}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-700 dark:bg-gray-900 text-white p-4 shadow-lg z-40",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-2",children:[a.jsxs("p",{className:"text-lg font-semibold",children:["Total Today: ",h," quantities"]}),a.jsx("button",{onClick:f,disabled:n,className:"w-full max-w-md mx-auto py-2.5 bg-white text-gray-900 font-semibold rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Save Changes"})]})})]})},Cy=({isFinalized:n,onFinalize:c,setIsEditingMember:d,memberList:o})=>{const u=o.reduce((f,h)=>f+h.meals.breakfast+h.meals.lunch+h.meals.dinner,0);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:" Today - October 8, 2025"}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-3"}),a.jsx("p",{className:`font-semibold ${n?"text-green-600 dark:text-green-400":"text-yellow-600 dark:text-yellow-400"}`,children:n?" Status: Finalized":" Status: Not Finalized"}),!n&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:c,className:"mt-3 w-full py-2.5 bg-primary text-white font-semibold rounded-lg hover:bg-primary-600",children:" Finalize Today's Meals"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 text-center",children:"(After this, members can't change)"})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:" Today's Meal List"}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-3"}),a.jsx("div",{className:"space-y-3",children:o.map(f=>{const h=f.meals.breakfast+f.meals.lunch+f.meals.dinner;return a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[a.jsx("p",{className:"font-bold text-gray-800 dark:text-white",children:f.name}),a.jsx("div",{className:"text-sm mt-1 text-gray-600 dark:text-gray-300",children:a.jsxs("p",{children:[" B: ",f.meals.breakfast,",  L: ",f.meals.lunch,",  D: ",f.meals.dinner]})}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 my-2"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{className:"text-sm font-semibold",children:["Total: ",h]}),a.jsx("div",{className:"flex gap-2",children:a.jsx("button",{onClick:()=>d(f.name),className:"text-xs font-semibold text-primary hover:underline",children:"Edit"})})]})]},f.id)})}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-3"}),a.jsx("div",{className:"text-center font-semibold space-y-1",children:a.jsxs("p",{children:["Total Today: ",u," quantities"]})})]})]})},Dy=()=>{const{user:n,setPage:c}=ve(),{addToast:d}=Le(),[o,u]=A.useState(!1),[f,h]=A.useState({breakfast:0,lunch:0,dinner:0}),[p,b]=A.useState(null),[g,y]=A.useState(null),[v,k]=A.useState([]),[D,j]=A.useState(!0);if(!n)return null;A.useEffect(()=>{(async()=>{if(!(n!=null&&n.khataId)){j(!1);return}try{j(!0);const $=new Date;$.setHours(0,0,0,0);const q=$.toISOString(),Q=await ae.getMeals(n.khataId,q,q),I=await ae.getFinalizationStatus(n.khataId,q);if(u(I.isFinalized),n.role===oe.Manager){const F=(await ae.getMembersForRoom(n.khataId)).map(K=>{const J=Q.find(ue=>ue.userId===K.id);return{id:K.id,name:K.name,meals:{breakfast:(J==null?void 0:J.breakfast)||0,lunch:(J==null?void 0:J.lunch)||0,dinner:(J==null?void 0:J.dinner)||0}}});k(F)}else{const re=Q.find(F=>F.userId===n.id);h(re?{breakfast:re.breakfast,lunch:re.lunch,dinner:re.dinner}:{breakfast:0,lunch:0,dinner:0})}}catch($){console.error("Error fetching meals:",$),d({type:"error",title:"Error",message:"Failed to load meal data"})}finally{j(!1)}})()},[n==null?void 0:n.khataId,n==null?void 0:n.role,n==null?void 0:n.id]);const C=async()=>{if(n!=null&&n.khataId)try{const H=new Date;H.setHours(0,0,0,0),await ae.finalizeMeals(n.khataId,H.toISOString())?(u(!0),d({type:"success",title:"Meals Finalized",message:"Today's meal counts are now locked."})):d({type:"error",title:"Error",message:"Failed to finalize meals"})}catch(H){console.error("Error finalizing meals:",H),d({type:"error",title:"Error",message:"Failed to finalize meals"})}},w=async H=>{const{memberName:$,newMeals:q,originalMeals:Q,reason:I}=H;if(!(n!=null&&n.khataId))return;const re=v.find(F=>F.name===$);if(re){try{const F=new Date;F.setHours(0,0,0,0),await ae.submitMeal(n.khataId,{date:F.toISOString(),breakfast:q.breakfast,lunch:q.lunch,dinner:q.dinner,userId:re.id,userName:re.name}),k(K=>K.map(J=>J.id===re.id?{...J,meals:q}:J)),d({type:"success",title:"Meals Updated",message:`${$}'s meals have been updated.`})}catch(F){console.error("Error updating meal:",F),d({type:"error",title:"Error",message:"Failed to update meal"})}y(null)}},E=H=>{H==="approve"&&p?(h(p.newMeals),d({type:"success",title:"Change Approved",message:"Meal change has been applied."})):d({type:"warning",title:"Change Denied",message:"The meal change was not applied."}),b(null)},L=async()=>{if(n!=null&&n.khataId)try{const H=new Date;H.setHours(0,0,0,0),await ae.submitMeal(n.khataId,{date:H.toISOString(),breakfast:f.breakfast,lunch:f.lunch,dinner:f.dinner}),d({type:"success",title:"Meals Updated",message:"Your meal plan for today has been saved."})}catch(H){console.error("Error saving meal:",H),d({type:"error",title:"Error",message:"Failed to save meal"})}};return D?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-primary-500"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>c("dashboard"),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 md:hidden",children:a.jsx(rs,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),a.jsx(hl,{className:"w-8 h-8 text-primary"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Meal Management"})]}),n.role===oe.Member&&a.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:a.jsx(Xo,{className:"w-6 h-6"})})]}),n.role===oe.Manager?a.jsx(Cy,{isFinalized:o,onFinalize:C,setIsEditingMember:y,memberList:v}):a.jsx(Ay,{isFinalized:o,meals:f,setMeals:h,pendingEdit:p,onApprovalAction:E,onSaveChanges:L})]}),n.role===oe.Manager&&g&&a.jsx(Sy,{memberName:g,memberList:v,onClose:()=>y(null),onSubmit:w,isFinalized:o})]})},Fr={Monday:{name:"",status:"Upcoming",amount:0},Tuesday:{name:"",status:"Upcoming",amount:0},Wednesday:{name:"",status:"Upcoming",amount:0},Thursday:{name:"",status:"Upcoming",amount:0},Friday:{name:"",status:"Upcoming",amount:0},Saturday:{name:"",status:"Upcoming",amount:0},Sunday:{name:"",status:"Upcoming",amount:0}},Ey={totalDeposits:0,totalShopping:0,balance:0,rate:0},Ty={totalDeposits:0,mealCost:0,refundable:0},Ry=({onClose:n,roster:c,members:d,onSave:o})=>{const[u,f]=A.useState(c),h=(b,g)=>{f(y=>{const v=y[b],k=g==="",D=v.name!==g;let j=v.status;return k?j="Upcoming":D&&(j="Assigned"),{...y,[b]:{...v,name:g,status:j,amount:D?0:v.amount}}})},p=()=>{o(u)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:n,children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-md",onClick:b=>b.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Shopping Roster"}),a.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:a.jsx(Rt,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"space-y-4",children:Object.entries(u).map(([b,g])=>{const y=g;return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"font-semibold text-gray-700 dark:text-gray-300",children:[b,":"]}),a.jsxs("select",{value:y.name,onChange:v=>h(b,v.target.value),className:"px-3 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors",children:[a.jsx("option",{value:"",children:"None"}),d.map(v=>a.jsx("option",{value:v.name,children:v.name},v.id))]})]},b)})}),a.jsxs("div",{className:"flex gap-3 mt-6 justify-end",children:[a.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 font-semibold rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),a.jsx("button",{onClick:p,className:"px-4 py-2 bg-primary text-white font-semibold rounded-lg hover:bg-primary-600",children:"Save Changes"})]})]})})},Oy=({onClose:n,onSubmit:c})=>{const{user:d}=ve(),{addToast:o}=Le(),[u,f]=A.useState("1500"),[h,p]=A.useState("bKash"),[b,g]=A.useState(""),[y,v]=A.useState(!1),k=async D=>{var j,C;if(D.preventDefault(),!(d!=null&&d.khataId)){o({type:"error",title:"Error",message:"User not found"});return}v(!0);try{await ae.createDeposit(d.khataId,{amount:parseFloat(u),paymentMethod:h,transactionId:b,screenshotUrl:""}),o({type:"success",title:"Deposit Submitted",message:"Your deposit is now pending manager approval."}),c(),n()}catch(w){o({type:"error",title:"Error",message:((C=(j=w.response)==null?void 0:j.data)==null?void 0:C.message)||"Failed to submit deposit"})}finally{v(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-sm",onClick:D=>D.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Deposit to Meal Fund"}),a.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:a.jsx(Rt,{className:"w-5 h-5"})})]}),a.jsxs("form",{className:"space-y-4",onSubmit:k,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Amount:"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx("span",{className:"absolute inset-y-0 left-3 flex items-center text-gray-500",children:""}),a.jsx("input",{type:"number",value:u,onChange:D=>f(D.target.value),className:"w-full pl-8 pr-4 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Payment Method:"}),a.jsx("div",{className:"grid grid-cols-3 gap-2 mt-1",children:["bKash","Nagad","Rocket","Cash","Bank Transfer"].map(D=>a.jsx("button",{type:"button",onClick:()=>p(D),className:`px-2 py-2 text-xs font-semibold rounded-md border-2 ${h===D?"border-primary bg-primary-50 dark:bg-primary-500/20":"border-gray-200 dark:border-gray-600"}`,children:D},D))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Transaction ID (optional):"}),a.jsx("input",{type:"text",placeholder:"TRX12345678",value:b,onChange:D=>g(D.target.value),className:"w-full mt-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Upload Screenshot (optional):"}),a.jsxs("div",{className:"flex gap-2 mt-1",children:[a.jsxs("button",{type:"button",className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",children:[a.jsx(th,{className:"w-5 h-5"}),"Take Photo"]}),a.jsxs("button",{type:"button",className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",children:[a.jsx(nh,{className:"w-5 h-5"}),"Gallery"]})]})]}),a.jsx("button",{type:"submit",disabled:y,className:"w-full mt-2 py-2.5 bg-primary text-white font-semibold rounded-lg hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Submitting...":"Submit for Approval"})]})]})})},zy=({onClose:n,onSubmit:c})=>{const{user:d}=ve(),{addToast:o}=Le(),[u,f]=A.useState(""),[h,p]=A.useState(""),[b,g]=A.useState(""),[y,v]=A.useState(!1),k=async D=>{var j,C;if(D.preventDefault(),!(d!=null&&d.khataId)){o({type:"error",title:"Error",message:"User not found"});return}v(!0);try{await ae.createExpense(d.khataId,{amount:parseFloat(u),items:h,notes:b,receiptUrl:""}),o({type:"success",title:"Expense Submitted",message:"Your shopping expense is now pending manager approval."}),c(),n()}catch(w){o({type:"error",title:"Error",message:((C=(j=w.response)==null?void 0:j.data)==null?void 0:C.message)||"Failed to submit expense"})}finally{v(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:n,children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-sm",onClick:D=>D.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Add Shopping Expense"}),a.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:a.jsx(Rt,{className:"w-5 h-5"})})]}),a.jsxs("form",{className:"space-y-4",onSubmit:k,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Amount:"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx("span",{className:"absolute inset-y-0 left-3 flex items-center text-gray-500",children:""}),a.jsx("input",{type:"number",value:u,onChange:D=>f(D.target.value),className:"w-full pl-8 pr-4 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Items Purchased:"}),a.jsx("textarea",{value:h,onChange:D=>p(D.target.value),rows:3,placeholder:"e.g., Rice (5kg), Vegetables, Oil (1L)",className:"w-full mt-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Notes (optional):"}),a.jsx("input",{type:"text",value:b,onChange:D=>g(D.target.value),className:"w-full mt-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Upload Receipt (optional):"}),a.jsxs("div",{className:"flex gap-2 mt-1",children:[a.jsxs("button",{type:"button",className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",children:[a.jsx(th,{className:"w-5 h-5"}),"Take Photo"]}),a.jsxs("button",{type:"button",className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",children:[a.jsx(nh,{className:"w-5 h-5"}),"Gallery"]})]})]}),a.jsx("button",{type:"submit",disabled:y,className:"w-full mt-2 py-2.5 bg-primary text-white font-semibold rounded-lg hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Submitting...":"Submit for Approval"})]})]})})},By=()=>{const{user:n}=ve(),[c,d]=A.useState([]),[o,u]=A.useState([]),[f,h]=A.useState(!1),[p,b]=A.useState(Fr),[g,y]=A.useState([]),[v,k]=A.useState(Ey),{addToast:D}=Le();A.useEffect(()=>{n!=null&&n.khataId&&(ae.getShoppingSummary(n.khataId).then(E=>{E&&E.fundStatus&&k(E.fundStatus)}),ae.getShoppingRoster(n.khataId).then(E=>{if(E&&E.length>0){const L={...Fr};E.forEach(H=>{L[H.day]&&(L[H.day]={name:H.userName||"",status:H.status,amount:H.amount})}),b(L)}}),ae.getShoppingMembers(n.khataId).then(E=>{y(E)}),ae.getDeposits(n.khataId).then(E=>{const L=E.filter(H=>H.status==="Pending");d(L)}),ae.getExpenses(n.khataId).then(E=>{const L=E.filter(H=>H.status==="Pending");u(L)}))},[n==null?void 0:n.khataId]);const j=async(E,L)=>{if(!(n!=null&&n.khataId))return;let H=!1;L==="approve"?H=await ae.approveDeposit(n.khataId,E):H=await ae.rejectDeposit(n.khataId,E,"Denied by manager"),H?(d($=>$.filter(q=>q._id!==E)),D({type:L==="approve"?"success":"error",title:L==="approve"?"Approved":"Denied",message:`Deposit has been ${L==="approve"?"approved":"denied"}.`})):D({type:"error",title:"Error",message:"Failed to update deposit status."})},C=async(E,L)=>{if(!(n!=null&&n.khataId))return;let H=!1;L==="approve"?H=await ae.approveExpense(n.khataId,E):H=await ae.rejectExpense(n.khataId,E,"Denied by manager"),H?(u($=>$.filter(q=>q._id!==E)),D({type:L==="approve"?"success":"error",title:L==="approve"?"Approved":"Denied",message:`Expense has been ${L==="approve"?"approved":"denied"}.`})):D({type:"error",title:"Error",message:"Failed to update expense status."})},w=async E=>{if(!(n!=null&&n.khataId))return;const L=Object.entries(E).map(([$,q])=>{var Q;return{day:$,userName:q.name,status:q.status,amount:q.amount,userId:(Q=g.find(I=>I.name===q.name))==null?void 0:Q.id}});await ae.saveShoppingRoster(n.khataId,L)?(b(E),D({type:"success",title:"Roster Updated",message:"The shopping duty roster has been saved."}),h(!1)):D({type:"error",title:"Error",message:"Failed to save roster."})};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[a.jsx("h3",{className:"font-semibold text-lg mb-3",children:"This Week's Shopping Duty"}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3 space-y-2 text-sm",children:Object.entries(p).map(([E,L])=>{const H=L,$=H.name||"None";return a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:[E,": ",$]}),a.jsx("span",{className:`${H.status==="Completed"?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:H.status==="Completed"?` Completed - ${H.amount}`:H.status==="Assigned"?" Assigned":""})]},E)})}),a.jsx("button",{onClick:()=>h(!0),className:"text-sm font-semibold text-primary hover:underline mt-4",children:"Edit Roster"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[a.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Fund Status"}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3 grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-md",children:[a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Deposits"}),a.jsxs("p",{className:"font-bold text-lg text-gray-800 dark:text-white",children:["",v.totalDeposits.toLocaleString()]})]}),a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-md",children:[a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Shopping"}),a.jsxs("p",{className:"font-bold text-lg text-gray-800 dark:text-white",children:["",v.totalShopping.toLocaleString()]})]}),a.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-500/10 rounded-md",children:[a.jsx("p",{className:"text-sm text-green-600 dark:text-green-300",children:"Fund Balance"}),a.jsxs("p",{className:"font-bold text-lg text-green-600 dark:text-green-300",children:[v.balance>=0?"+":"","",v.balance.toLocaleString()]})]}),a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-md",children:[a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Current Rate"}),a.jsxs("p",{className:"font-bold text-lg text-gray-800 dark:text-white",children:["",v.rate,"/qty"]})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[a.jsxs("h3",{className:"font-semibold text-lg mb-3 text-yellow-600 dark:text-yellow-400",children:[" Pending Approvals (",c.length+o.length,")"]}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3 space-y-4",children:[c.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-2",children:[" Deposits (",c.length,")"]}),c.map(E=>a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[a.jsxs("p",{className:"font-bold",children:[E.userName," - ",E.amount," - ",E.paymentMethod]}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(E.createdAt).toLocaleDateString(),"  ",E.transactionId||"No TRX ID"]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[a.jsx("button",{className:"text-xs font-semibold text-primary hover:underline",children:"View Screenshot"}),a.jsx("button",{onClick:()=>j(E._id,"deny"),className:"px-2 py-0.5 text-xs bg-red-100 text-red-700 rounded-md hover:bg-red-200 dark:bg-red-900/50 dark:text-red-300 dark:hover:bg-red-900",children:"Deny"}),a.jsx("button",{onClick:()=>j(E._id,"approve"),className:"px-2 py-0.5 text-xs bg-green-100 text-green-700 rounded-md hover:bg-green-200 dark:bg-green-900/50 dark:text-green-300 dark:hover:bg-green-900",children:"Approve"})]})]},E._id))]}),o.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-2",children:[" Shopping Expenses (",o.length,")"]}),o.map(E=>a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[a.jsxs("p",{className:"font-bold",children:[E.userName," - ",E.amount]}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(E.createdAt).toLocaleDateString(),"  ",E.items]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[a.jsx("button",{className:"text-xs font-semibold text-primary hover:underline",children:"View Receipt"}),a.jsx("button",{onClick:()=>C(E._id,"deny"),className:"px-2 py-0.5 text-xs bg-red-100 text-red-700 rounded-md hover:bg-red-200 dark:bg-red-900/50 dark:text-red-300 dark:hover:bg-red-900",children:"Deny"}),a.jsx("button",{onClick:()=>C(E._id,"approve"),className:"px-2 py-0.5 text-xs bg-green-100 text-green-700 rounded-md hover:bg-green-200 dark:bg-green-900/50 dark:text-green-300 dark:hover:bg-green-900",children:"Approve"})]})]},E._id))]})]})]})]}),f&&a.jsx(Ry,{onClose:()=>h(!1),roster:p,members:g,onSave:w})]})},_y=()=>{var re;const{user:n}=ve(),[c,d]=A.useState(!1),[o,u]=A.useState(!1),{addToast:f}=Le(),[h,p]=A.useState("deposits"),[b,g]=A.useState(Fr),[y,v]=A.useState([]),[k,D]=A.useState([]),[j,C]=A.useState(Ty);A.useEffect(()=>{n!=null&&n.khataId&&(ae.getShoppingSummary(n.khataId).then(F=>{F&&F.memberSummary&&C(F.memberSummary)}),ae.getShoppingRoster(n.khataId).then(F=>{if(F&&F.length>0){const K={...Fr};F.forEach(J=>{K[J.day]&&(K[J.day]={name:J.userName||"",status:J.status,amount:J.amount})}),g(K)}}),ae.getDeposits(n.khataId).then(F=>{const K=F.filter(J=>{var pe;return(((pe=J.userId)==null?void 0:pe._id)||J.userId)===n.id});v(K)}),ae.getExpenses(n.khataId).then(F=>{const K=F.filter(J=>{var pe;return(((pe=J.userId)==null?void 0:pe._id)||J.userId)===n.id});D(K)}))},[n==null?void 0:n.khataId,n==null?void 0:n.id]);const w=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],E=w[new Date().getDay()],L=(n==null?void 0:n.name)||"",H=((re=b[E])==null?void 0:re.name)===L,$=Object.entries(b).find(([F,K])=>K.name===L&&w.indexOf(F)>w.indexOf(E)),q=H?"Today is your shopping day! ":$?`Your next shopping duty is on ${$[0]}.`:"You have no upcoming shopping duties this week.",Q=()=>{n!=null&&n.khataId&&(ae.getDeposits(n.khataId).then(F=>{const K=F.filter(J=>{var ue;return(((ue=J.userId)==null?void 0:ue._id)||J.userId)===n.id});v(K)}),ae.getShoppingSummary(n.khataId).then(F=>{F&&F.memberSummary&&C(F.memberSummary)}))},I=()=>{n!=null&&n.khataId&&ae.getExpenses(n.khataId).then(F=>{const K=F.filter(J=>{var ue;return(((ue=J.userId)==null?void 0:ue._id)||J.userId)===n.id});D(K)})};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-primary-50 dark:bg-primary-500/10 p-4 rounded-lg text-center",children:a.jsx("p",{className:"font-semibold text-primary-700 dark:text-primary-300",children:q})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[a.jsx("h3",{className:"font-semibold text-lg mb-3",children:"This Week's Shopping Duty"}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3 space-y-2 text-sm",children:Object.entries(b).map(([F,K])=>{const J=K,ue=J.name||"None",pe=J.name===L;return a.jsxs("div",{className:`flex justify-between items-center p-2 rounded ${pe?"bg-primary-50 dark:bg-primary-500/10":""}`,children:[a.jsxs("span",{className:`font-medium ${pe?"text-primary-700 dark:text-primary-300":"text-gray-600 dark:text-gray-300"}`,children:[F,": ",ue," ",pe?"(You)":""]}),a.jsx("span",{className:`${J.status==="Completed"?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:J.status==="Completed"?" Completed":J.status==="Assigned"?" Assigned":""})]},F)})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("button",{onClick:()=>d(!0),className:"py-4 text-center bg-white dark:bg-slate-800 rounded-xl shadow-md font-semibold text-slate-700 dark:text-slate-200 hover:scale-105 transition-transform active:scale-95",children:" Add Deposit"}),a.jsx("button",{onClick:()=>u(!0),className:"py-4 text-center bg-white dark:bg-slate-800 rounded-xl shadow-md font-semibold text-slate-700 dark:text-slate-200 hover:scale-105 transition-transform active:scale-95",children:" Add Expense"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-6 grid grid-cols-2 divide-x dark:divide-slate-700 text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Deposit Balance"}),a.jsxs("p",{className:"text-2xl font-bold text-slate-800 dark:text-white font-numeric",children:["",j.totalDeposits.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Due / Refund"}),a.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 font-numeric",children:[j.refundable>=0?"+":"","",j.refundable.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md",children:[a.jsx("div",{className:"p-4 border-b dark:border-slate-700",children:a.jsxs("div",{className:"flex gap-2 p-1 bg-slate-100 dark:bg-slate-700 rounded-lg",children:[a.jsx("button",{onClick:()=>p("deposits"),className:`flex-1 py-1.5 text-sm font-semibold rounded-md transition-colors ${h==="deposits"?"bg-white dark:bg-slate-600 shadow":""}`,children:"Deposit History"}),a.jsx("button",{onClick:()=>p("expenses"),className:`flex-1 py-1.5 text-sm font-semibold rounded-md transition-colors ${h==="expenses"?"bg-white dark:bg-slate-600 shadow":""}`,children:"Expense History"})]})}),a.jsxs("div",{className:"p-4 space-y-2",children:[h==="deposits"&&(y.length>0?y.map(F=>a.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-slate-50 dark:bg-slate-700/50 rounded-md",children:[a.jsxs("span",{children:[new Date(F.createdAt).toLocaleDateString()," - ",F.paymentMethod]}),a.jsxs("span",{className:"font-semibold flex items-center gap-1",children:["",F.amount.toLocaleString(),F.status==="Approved"&&a.jsx(Zt,{className:"w-4 h-4 text-green-500"}),F.status==="Pending"&&a.jsx("span",{className:"text-yellow-500 text-xs",children:" Pending"}),F.status==="Rejected"&&a.jsx("span",{className:"text-red-500 text-xs",children:" Rejected"})]})]},F._id)):a.jsx("p",{className:"text-center text-gray-500 py-4",children:"No deposit history found."})),h==="expenses"&&(k.length>0?k.map(F=>a.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-slate-50 dark:bg-slate-700/50 rounded-md",children:[a.jsx("span",{children:new Date(F.createdAt).toLocaleDateString()}),a.jsxs("span",{className:"font-semibold flex items-center gap-1",children:["",F.amount.toLocaleString(),F.status==="Approved"&&a.jsx("span",{className:"text-green-600 dark:text-green-400 text-xs",children:" Approved"}),F.status==="Pending"&&a.jsx("span",{className:"text-yellow-600 dark:text-yellow-400 text-xs",children:" Pending"}),F.status==="Rejected"&&a.jsx("span",{className:"text-red-600 dark:text-red-400 text-xs",children:" Rejected"})]})]},F._id)):a.jsx("p",{className:"text-center text-gray-500 py-4",children:"No expense history found."})),a.jsx("button",{className:"text-sm font-semibold text-primary hover:underline mt-2 w-full text-center p-2",children:"View All "})]})]})]}),c&&a.jsx(Oy,{onClose:()=>d(!1),onSubmit:Q}),o&&a.jsx(zy,{onClose:()=>u(!1),onSubmit:I})]})},Uy=()=>{const{user:n,setPage:c}=ve();return n?a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>c("dashboard"),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 md:hidden",children:a.jsx(rs,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),a.jsx(sh,{className:"w-8 h-8 text-primary"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Shopping & Funds"})]}),n.role===oe.Manager&&a.jsx("button",{className:"px-4 py-2 text-sm bg-primary text-white font-semibold rounded-lg hover:bg-primary-600",children:"Assign Duty"})]}),n.role===oe.Manager?a.jsx(By,{}):a.jsx(_y,{})]}):null},Ly=({member:n,onClose:c})=>n?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:c,children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",onClick:d=>d.stopPropagation(),children:[a.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-800 z-10 p-4 border-b dark:border-gray-700",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[a.jsx("button",{onClick:c,className:"mr-2 p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:a.jsx(rs,{className:"w-5 h-5"})}),n.name,"'s Profile"]}),a.jsx("button",{onClick:c,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:a.jsx(Rt,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"p-4 border rounded-lg dark:border-gray-700",children:[a.jsx("h4",{className:"font-bold text-lg mb-2",children:"Member Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Name:"})," ",n.name]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Email:"})," ",n.email]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Role:"})," ",n.role]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Room Status:"})," ",n.roomStatus]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Room ID:"})," ",n.khataId||"N/A"]})]})]}),a.jsxs("div",{className:"p-4 border rounded-lg dark:border-gray-700",children:[a.jsx("h4",{className:"font-bold text-lg mb-2",children:"Contact Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Phone:"})," ",n.phone||"Not added"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"WhatsApp:"})," ",n.whatsapp||"Not added"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Facebook:"})," ",n.facebook||"Not added"]})]})]})]})]})}):null,Hy=({member:n,onHistoryClick:c})=>{const{user:d}=ve(),o=n.role===oe.Manager,u=()=>{if(n.whatsapp&&n.whatsapp!=="Available"&&n.whatsapp!=="Not available"){const h=n.whatsapp.replace(/[^0-9]/g,"");window.open(`https://wa.me/${h}`,"_blank")}},f=()=>{if(n.phone){const h=n.phone.replace(/[^0-9+]/g,"");window.open(`tel:${h}`)}};return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-5",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Va,{className:"w-12 h-12 text-gray-400 flex-shrink-0"}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-lg text-gray-900 dark:text-white flex items-center gap-2",children:[n.name," ",o&&a.jsx(Tb,{className:"w-5 h-5 text-yellow-500"})]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:n.email})]})]}),a.jsx("div",{className:"border-t my-3 border-gray-200 dark:border-gray-700"}),a.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-300",children:[a.jsxs("p",{children:[" ",n.phone||"Not added"]}),a.jsxs("p",{children:[" WhatsApp: ",n.whatsapp||"Not added"]}),a.jsxs("p",{children:[" Facebook: ",n.facebook||"Not added"]})]}),a.jsx("div",{className:"border-t my-3 border-gray-200 dark:border-gray-700"}),a.jsxs("div",{className:"space-y-1 text-sm text-gray-500 dark:text-gray-400",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Role:"})," ",n.role]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," ",n.roomStatus]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Room:"})," ",n.room||n.khataId||"N/A"]})]}),a.jsx("div",{className:"border-t my-3 border-gray-200 dark:border-gray-700"}),a.jsx("div",{className:"flex flex-wrap gap-2 text-sm font-semibold",children:(d==null?void 0:d.role)===oe.Manager&&n.id!==d.id?a.jsx(a.Fragment,{children:a.jsx("button",{onClick:c,className:"text-primary hover:underline",children:"View Profile"})}):a.jsxs(a.Fragment,{children:[n.whatsapp&&n.whatsapp!=="Not added"&&a.jsxs("button",{onClick:u,className:"flex-1 px-3 py-2 bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 rounded-md flex items-center justify-center gap-2 transition-colors hover:bg-green-200 dark:hover:bg-green-900",children:[a.jsx(Eb,{className:"w-4 h-4"})," WhatsApp"]}),n.phone&&n.phone!=="Not added"&&a.jsxs("button",{onClick:f,className:"flex-1 px-3 py-2 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-md flex items-center justify-center gap-2 transition-colors hover:bg-blue-200 dark:hover:bg-blue-900",children:[a.jsx(lh,{className:"w-4 h-4"})," Call"]}),a.jsx("button",{onClick:c,className:"w-full text-left mt-1 text-primary hover:underline p-1",children:"View Profile "})]})})]})},qy=()=>{const{user:n}=ve(),{addToast:c}=Le(),[d,o]=A.useState(null),[u,f]=A.useState([]),[h,p]=A.useState([]),[b,g]=A.useState(!0),[y,v]=A.useState(!1);A.useEffect(()=>{(async()=>{if(!(n!=null&&n.khataId)){g(!1);return}try{const C=await ae.getMembersForRoom(n.khataId);if(f(C),n.role===oe.Manager){const w=await ae.getPendingApprovals(n.khataId);p(w)}}catch(C){console.error("Error fetching room data:",C),c({type:"error",title:"Error",message:"Failed to load room members"})}finally{g(!1)}})()},[n==null?void 0:n.khataId,n==null?void 0:n.role]);const k=()=>{n!=null&&n.khataId&&(navigator.clipboard.writeText(n.khataId),v(!0),c({type:"success",title:"Copied!",message:"Room code copied to clipboard."}),setTimeout(()=>v(!1),2e3))},D=async j=>{if(n!=null&&n.khataId)try{if(await ae.approveMember(n.khataId,j)){c({type:"success",title:"Success",message:"Member approved successfully!"});const w=await ae.getPendingApprovals(n.khataId);p(w);const E=await ae.getMembersForRoom(n.khataId);f(E)}else c({type:"error",title:"Error",message:"Failed to approve member"})}catch(C){console.error("Error approving member:",C),c({type:"error",title:"Error",message:"Failed to approve member"})}};return b?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-primary-500"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsx("div",{className:"flex flex-wrap justify-between items-center gap-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(fl,{className:"w-8 h-8 text-primary"}),a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["Room Members (",u.length,")"]})]})}),(n==null?void 0:n.role)===oe.Manager&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-4 flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"font-semibold",children:[a.jsx("span",{children:" Room Code: "}),a.jsx("span",{className:"font-mono text-lg bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-md",children:n.khataId})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{onClick:k,className:"flex items-center gap-1.5 px-3 py-1 text-sm bg-gray-200 dark:bg-gray-600 rounded-md font-semibold hover:bg-gray-300 dark:hover:bg-gray-500",children:[y?a.jsx(Zt,{className:"w-4 h-4 text-green-600"}):a.jsx(Qo,{className:"w-4 h-4"}),y?"Copied!":"Copy"]})})]}),u.length===0?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-8 text-center",children:[a.jsx(fl,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No members yet"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:(n==null?void 0:n.role)===oe.Manager?"Share your room code to invite members":"Waiting for members to join"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(j=>a.jsx(Hy,{member:j,onHistoryClick:()=>o(j)},j.id))}),(n==null?void 0:n.role)===oe.Manager&&h.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold mb-3 text-gray-800 dark:text-white",children:[" Pending Join Requests (",h.length,")"]}),a.jsx("div",{className:"space-y-4",children:h.map(j=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-5",children:[a.jsx("h4",{className:"font-bold text-lg text-gray-900 dark:text-white",children:j.name}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:j.email}),a.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:["Requested: ",new Date(j.requestedAt).toLocaleString()]}),a.jsx("div",{className:"flex gap-2 justify-end mt-3",children:a.jsx("button",{onClick:()=>D(j.id),className:"px-4 py-1.5 text-sm font-semibold bg-green-100 text-green-700 rounded-md hover:bg-green-200 dark:bg-green-900/50 dark:text-green-300 dark:hover:bg-green-900",children:"Approve & Add"})})]},j.id))})]})]}),a.jsx(Ly,{member:d,onClose:()=>o(null)})]})},Yy=({onClose:n,transactions:c,month:d})=>{const{totalExpenses:o,totalDeposits:u,balance:f}=A.useMemo(()=>{let p=0,b=0;return c.forEach(g=>{g.type==="Deposit"?b+=g.amount:p+=g.amount}),{totalExpenses:p,totalDeposits:b,balance:b-p}},[c]),h=[...c].sort((p,b)=>new Date(b.date).getTime()-new Date(p.date).getTime());return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:n,children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",onClick:p=>p.stopPropagation(),children:[a.jsxs("div",{className:"p-5 border-b dark:border-slate-700 flex justify-between items-center sticky top-0 bg-white dark:bg-slate-800 z-10",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold font-sans",children:["Detailed Report - ",d]}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"A full breakdown of all transactions."})]}),a.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700",children:a.jsx(Rt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-5 overflow-y-auto",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4 text-center",children:[a.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-500/10 rounded-lg",children:[a.jsx("p",{className:"text-sm text-red-600 dark:text-red-300",children:"Total Expenses"}),a.jsxs("p",{className:"font-bold text-lg text-red-600 dark:text-red-300",children:["-",o.toFixed(2)]})]}),a.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-500/10 rounded-lg",children:[a.jsx("p",{className:"text-sm text-green-600 dark:text-green-300",children:"Total Deposits"}),a.jsxs("p",{className:"font-bold text-lg text-green-600 dark:text-green-300",children:["+",u.toFixed(2)]})]}),a.jsxs("div",{className:`p-3 rounded-lg ${f>=0?"bg-green-50 dark:bg-green-500/10":"bg-red-50 dark:bg-red-500/10"}`,children:[a.jsx("p",{className:`text-sm ${f>=0?"text-green-600 dark:text-green-300":"text-red-600 dark:text-red-300"}`,children:"Final Balance"}),a.jsx("p",{className:`font-bold text-lg ${f>=0?"text-green-600 dark:text-green-300":"text-red-600 dark:text-red-300"}`,children:f>=0?`+${f.toFixed(2)}`:`-${Math.abs(f).toFixed(2)}`})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 text-xs text-slate-600 dark:text-slate-300 uppercase",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2",children:"Date"}),a.jsx("th",{className:"px-4 py-2",children:"Description"}),a.jsx("th",{className:"px-4 py-2",children:"Member"}),a.jsx("th",{className:"px-4 py-2 text-right",children:"Amount"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:h.map(p=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2",children:new Date(p.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short"})}),a.jsxs("td",{className:"px-4 py-2",children:[p.description," (",p.type,")"]}),a.jsx("td",{className:"px-4 py-2",children:p.userName}),a.jsx("td",{className:`px-4 py-2 text-right font-semibold ${p.type==="Deposit"?"text-green-600 dark:text-green-400":"text-slate-700 dark:text-slate-300"}`,children:p.type==="Deposit"?`+${p.amount.toFixed(2)}`:`-${p.amount.toFixed(2)}`})]},p.id))})]})})]}),a.jsx("div",{className:"p-4 border-t dark:border-slate-700 flex justify-end sticky bottom-0 bg-white dark:bg-slate-800 z-10",children:a.jsx("button",{onClick:n,className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 font-semibold rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500",children:"Close"})})]})})},Gy=({user:n,historyData:c,selectedMonth:d,setSelectedMonth:o})=>{const u=A.useMemo(()=>{const b=c.filter(q=>q.userId===n.id),g=b.filter(q=>q.type==="Bill"),y=b.filter(q=>q.type==="Meal Cost"),v=b.filter(q=>q.type==="Deposit"),k=g.reduce((q,Q)=>q+Q.amount,0),D=g.filter(q=>q.status==="Paid"||q.status==="Approved").reduce((q,Q)=>q+Q.amount,0),j=g.filter(q=>q.status==="Pending").reduce((q,Q)=>q+Q.amount,0),C=k-D-j,w=y.reduce((q,Q)=>q+Q.amount,0),E=new Set(y.map(q=>q.date.split("T")[0])).size,L=E>0?w/E:0,H=v.reduce((q,Q)=>q+Q.amount,0),$=H-w;return{totalBills:k,paid:D,pendingApproval:j,due:C,totalMealCost:w,avgMealCost:L,totalDeposits:H,refundable:$,meals:E}},[c,n.id]),[f,h]=A.useState("All"),p=A.useMemo(()=>{const b=c.filter(g=>g.userId===n.id&&g.type!=="Meal Cost");return f==="All"?b:f==="Payments"?b.filter(g=>g.type==="Bill"||g.type==="Shopping"):f==="Deposits"?b.filter(g=>g.type==="Deposit"):[]},[c,n.id,f]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-6",children:[a.jsxs("h3",{className:"font-bold text-lg mb-3",children:[d," Summary"]}),a.jsxs("div",{className:"border-t pt-3 dark:border-slate-700 grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[a.jsxs("div",{children:["Total Bills Assigned: ",a.jsxs("span",{className:"font-semibold float-right",children:["",u.totalBills.toFixed(2)]})]}),a.jsxs("div",{className:"text-green-600 dark:text-green-400",children:["Paid: ",a.jsxs("span",{className:"font-semibold float-right",children:["",u.paid.toFixed(2)," "]})]}),a.jsxs("div",{className:"text-yellow-600 dark:text-yellow-400",children:["Pending Approval: ",a.jsxs("span",{className:"font-semibold float-right",children:["",u.pendingApproval.toFixed(2)," "]})]}),a.jsxs("div",{className:"text-red-600 dark:text-red-400",children:["Due: ",a.jsxs("span",{className:"font-semibold float-right",children:["",u.due.toFixed(2)," "]})]}),a.jsx("div",{className:"col-span-2 my-1 border-t dark:border-slate-700"}),a.jsxs("div",{children:["Meals (",u.meals," days): ",a.jsxs("span",{className:"font-semibold float-right",children:["",u.totalMealCost.toFixed(2)]})]}),a.jsxs("div",{children:["Average Meal Cost/Day: ",a.jsxs("span",{className:"font-semibold float-right",children:["",u.avgMealCost.toFixed(2)]})]}),a.jsxs("div",{children:["Deposits: ",a.jsxs("span",{className:"font-semibold float-right",children:["",u.totalDeposits.toFixed(2)]})]}),a.jsxs("div",{className:"col-span-2 font-semibold text-green-600 dark:text-green-400",children:["Refundable: ",a.jsxs("span",{className:"font-bold float-right",children:["",u.refundable.toFixed(2)]})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-6",children:[a.jsx("h3",{className:"font-bold text-lg mb-3",children:"Recent Activity"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:["All","Payments","Deposits"].map(b=>a.jsx("button",{onClick:()=>h(b),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${f===b?"bg-primary text-white":"bg-slate-200 dark:bg-slate-700 hover:bg-slate-300"}`,children:b},b))}),a.jsx("div",{className:"border-t pt-3 dark:border-slate-700 space-y-2",children:p.length===0?a.jsx("p",{className:"text-center text-gray-500 text-sm py-4",children:"No activity found."}):p.slice(0,6).map(b=>a.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 dark:bg-slate-700/50 rounded-md text-sm",children:[a.jsxs("span",{children:[new Date(b.date).toLocaleDateString("en-GB",{day:"numeric",month:"short"}),"  ",b.description," (",b.amount,")"]}),a.jsx("span",{className:`font-semibold ${b.status==="Approved"||b.status==="Paid"?"text-green-600":"text-yellow-600"}`,children:b.status})]},b.id))})]})]})},Vy=({historyData:n,summaryData:c,selectedMonth:d,selectedMember:o,setSelectedMember:u,costCategory:f,setCostCategory:h,onOpenReport:p,members:b})=>{const g=A.useMemo(()=>b.map(v=>{const k=n.filter(Q=>Q.userId===v.id),D=k.filter(Q=>Q.type==="Bill"),j=k.filter(Q=>Q.type==="Meal Cost"),C=k.filter(Q=>Q.type==="Deposit"),w=D.reduce((Q,I)=>Q+I.amount,0),E=D.filter(Q=>Q.status==="Paid"||Q.status==="Approved").reduce((Q,I)=>Q+I.amount,0),L=w-E,H=j.reduce((Q,I)=>Q+I.amount,0),$=C.reduce((Q,I)=>Q+I.amount,0),q=$-H;return{name:v.name,billsDue:w,paid:E,pending:L,deposits:$,refund:q}}),[n,b]),y=A.useMemo(()=>{const v=n.filter(K=>o==="All Members"||K.userName===o),k=v.filter(K=>K.type==="Bill"),D=v.filter(K=>K.type==="Deposit"),j=v.filter(K=>K.type==="Meal Cost"),C=k.reduce((K,J)=>K+J.amount,0),w=k.filter(K=>K.status==="Paid"||K.status==="Approved").reduce((K,J)=>K+J.amount,0),E=k.filter(K=>K.status==="Unpaid"||K.status==="Overdue"||K.status==="Pending").reduce((K,J)=>K+J.amount,0),L=D.reduce((K,J)=>K+J.amount,0),H=j.reduce((K,J)=>K+J.amount,0),$=L-H,q=j.reduce((K,J)=>(K[J.userName]=(K[J.userName]||0)+1,K),{});let Q={name:"N/A",count:0},I={name:"N/A",count:1/0};Object.entries(q).forEach(([K,J])=>{const ue=J;ue>Q.count&&(Q={name:K,count:ue}),ue<I.count&&(I={name:K,count:ue})}),I.count===1/0&&(I.name="N/A");const re=new Set(j.map(K=>K.date.split("T")[0])).size,F=re>0?H/re:0;return{billsDue:C,paid:w,pending:E,deposits:L,totalMealCost:H,refund:$,totalMeals:j.length,avgMealCost:F,maxTaker:Q,minTaker:I}},[n,o]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("select",{value:o,onChange:v=>u(v.target.value),className:"px-4 py-2 text-sm font-semibold rounded-lg bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600",children:[a.jsx("option",{value:"All Members",children:"All Members"}),b.map(v=>a.jsx("option",{value:v.name,children:v.name},v.id))]}),a.jsxs("select",{value:f,onChange:v=>h(v.target.value),className:"px-4 py-2 text-sm font-semibold rounded-lg bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600",children:[a.jsx("option",{value:"All Costs",children:"All Costs"}),a.jsx("option",{value:"Bills",children:"Bills"}),a.jsx("option",{value:"Shopping",children:"Shopping"}),a.jsx("option",{value:"Deposits",children:"Deposits"})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-6",children:[a.jsxs("h3",{className:"font-bold text-lg mb-3",children:[d," Summary"]}),a.jsxs("div",{className:"border-t pt-3 dark:border-slate-700 grid grid-cols-2 md:grid-cols-3 gap-x-6 gap-y-3 text-sm",children:[a.jsxs("div",{children:["Total Bills: ",a.jsxs("span",{className:"font-semibold float-right",children:["",y.billsDue.toFixed(2)]})]}),a.jsxs("div",{className:"text-green-600 dark:text-green-400",children:["Total Paid: ",a.jsxs("span",{className:"font-semibold float-right",children:["",y.paid.toFixed(2)]})]}),a.jsxs("div",{className:"text-red-600 dark:text-red-400",children:["Total Pending: ",a.jsxs("span",{className:"font-semibold float-right",children:["",y.pending.toFixed(2)]})]}),a.jsx("div",{className:"col-span-full my-1 border-t dark:border-slate-700"}),a.jsxs("div",{children:["Total Deposits: ",a.jsxs("span",{className:"font-semibold float-right",children:["",y.deposits.toFixed(2)]})]}),a.jsxs("div",{children:["Total Meal Cost: ",a.jsxs("span",{className:"font-semibold float-right",children:["",y.totalMealCost.toFixed(2)]})]}),a.jsxs("div",{className:`font-semibold ${y.refund>=0?"text-green-600":"text-red-600"}`,children:[y.refund>=0?"Total Refundable:":"Total Due:",a.jsx("span",{className:"font-bold float-right",children:y.refund>=0?`+${y.refund.toFixed(2)}`:`-${Math.abs(y.refund).toFixed(2)}`})]}),a.jsx("div",{className:"col-span-full my-1 border-t dark:border-slate-700"}),a.jsxs("div",{children:["Total Meals: ",a.jsx("span",{className:"font-semibold float-right",children:y.totalMeals})]}),a.jsxs("div",{children:["Avg Meal Cost/Day: ",a.jsxs("span",{className:"font-semibold float-right",children:["",y.avgMealCost.toFixed(2)]})]}),a.jsxs("div",{children:["Max Meal Taker: ",a.jsx("span",{className:"font-semibold float-right",children:y.maxTaker.name})]}),a.jsxs("div",{children:["Min Meal Taker: ",a.jsx("span",{className:"font-semibold float-right",children:y.minTaker.name})]})]}),a.jsx("button",{onClick:p,className:"text-sm font-semibold text-primary hover:underline mt-4",children:"View Detailed Report "})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md overflow-x-auto",children:[a.jsx("h3",{className:"font-bold text-lg p-5",children:"Member Breakdown"}),a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 text-xs text-slate-600 dark:text-slate-300 uppercase",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:"Member"}),a.jsx("th",{className:"px-4 py-3",children:"Bills Due"}),a.jsx("th",{className:"px-4 py-3",children:"Paid"}),a.jsx("th",{className:"px-4 py-3",children:"Pending"}),a.jsx("th",{className:"px-4 py-3",children:"Deposits"}),a.jsx("th",{className:"px-4 py-3",children:"Refund/Due"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:g.map(v=>a.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[a.jsx("td",{className:"px-4 py-3 font-medium text-slate-900 dark:text-white",children:v.name}),a.jsxs("td",{className:"px-4 py-3",children:["",v.billsDue.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-3 text-green-600",children:["",v.paid.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-3 text-red-600",children:["",v.pending.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-3",children:["",v.deposits.toFixed(2)]}),a.jsx("td",{className:`px-4 py-3 font-semibold ${v.refund>=0?"text-green-600":"text-red-600"}`,children:v.refund>=0?`+${v.refund.toFixed(2)}`:`-${Math.abs(v.refund).toFixed(2)}`})]},v.name))})]})]})]})},Xy=()=>{const{user:n}=ve(),{addToast:c}=Le(),[d,o]=A.useState(!1),[u,f]=A.useState(()=>{const H=new Date;return`${H.getFullYear()}-${String(H.getMonth()+1).padStart(2,"0")}`}),[h,p]=A.useState("All Members"),[b,g]=A.useState("All Costs"),[y,v]=A.useState([]),[k,D]=A.useState({}),[j,C]=A.useState([]),[w,E]=A.useState(!1);A.useEffect(()=>{(async()=>{if(n!=null&&n.khataId){E(!0);try{const $=await ae.getHistory(n.khataId,u);if(v($.transactions),D($.summary),n.role===oe.Manager){const q=await ae.getMembersForRoom(n.khataId);C(q.map(Q=>({id:Q.id,name:Q.name})))}}catch($){console.error("Failed to fetch history data",$),c({type:"error",title:"Error",message:"Failed to load history data"})}finally{E(!1)}}})()},[n==null?void 0:n.khataId,n==null?void 0:n.role,u,c]);const L=A.useMemo(()=>y.filter(H=>h==="All Members"||H.userName===h),[y,h]);return n?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(rn,{className:"w-8 h-8 text-primary"}),a.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:n.role===oe.Manager?"All Members History":"My Payment History"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"month",value:u,onChange:H=>f(H.target.value),className:"px-4 py-2 text-sm font-semibold bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm"}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold bg-primary text-white rounded-md shadow-sm hover:bg-primary-600",children:[a.jsx(Zr,{className:"w-4 h-4"}),"Export"]})]})]}),w?a.jsx("div",{className:"py-10 text-center text-gray-500",children:"Loading history..."}):n.role===oe.Manager?a.jsx(Vy,{historyData:y,summaryData:k,selectedMonth:u,selectedMember:h,setSelectedMember:p,costCategory:b,setCostCategory:g,onOpenReport:()=>o(!0),members:j}):a.jsx(Gy,{user:n,historyData:y,selectedMonth:u,setSelectedMonth:f})]}),d&&a.jsx(Yy,{onClose:()=>o(!1),transactions:L,month:u})]}):null},Qy=({icon:n,label:c,isActive:d,onClick:o})=>a.jsxs("button",{onClick:o,className:`w-full flex items-center text-left px-3 py-2.5 rounded-md text-sm font-medium transition-colors group ${d?"bg-primary-50 text-primary dark:bg-primary-500/20":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[n,a.jsx("span",{className:"flex-grow",children:c})]}),ls=({title:n})=>a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n}),a.jsx("div",{className:"border-t my-4 border-gray-200 dark:border-gray-700"})]}),ct=({label:n,children:c})=>a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:n}),c]}),yt=({value:n,placeholder:c})=>a.jsx("input",{type:"text",defaultValue:n,placeholder:c,className:"block w-full appearance-none rounded-md border border-gray-300 dark:border-gray-600 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-primary focus:outline-none focus:ring-primary sm:text-sm bg-white dark:bg-gray-700"}),at=({label:n,checked:c})=>a.jsxs("label",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",defaultChecked:c,className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:n})]}),es=({label:n,name:c,checked:d})=>a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",name:c,defaultChecked:d,className:"h-4 w-4 text-primary focus:ring-primary border-gray-300"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:n})]}),Zy=()=>{const{addToast:n}=Le(),c=()=>n({type:"success",title:"Profile Saved",message:"Your profile information has been updated."}),d=()=>{window.confirm("Are you sure you want to delete your account? This action is irreversible.")&&n({type:"error",title:"Account Deleted",message:"Your account has been permanently deleted."})};return a.jsxs("div",{className:"space-y-6",children:[a.jsx(ls,{title:"Profile Settings"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center",children:a.jsx(Va,{className:"w-16 h-16 text-gray-400"})}),a.jsx("button",{className:"px-4 py-2 text-sm font-semibold bg-gray-100 dark:bg-gray-600 rounded-md hover:bg-gray-200 dark:hover:bg-gray-500",children:" Change Photo"})]}),a.jsx(ct,{label:"Full Name (Bangla/English):",children:a.jsx(yt,{value:"  / Raj Kumar"})}),a.jsx(ct,{label:"Email:",children:a.jsx(yt,{value:"raj.kumar@gmail.com"})}),a.jsx(ct,{label:"Room Info:",children:a.jsx(yt,{value:"Corner room, attached bathroom"})}),a.jsx("button",{onClick:c,className:"px-6 py-2 bg-primary text-white font-semibold rounded-lg hover:bg-primary-600",children:"Save Changes"}),a.jsxs("div",{className:"border-t pt-6 mt-6 border-red-500/30",children:[a.jsx("h3",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:"Danger Zone"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"This action is permanent and cannot be undone."}),a.jsx("button",{onClick:d,className:"mt-3 px-4 py-2 text-sm font-semibold text-red-700 bg-red-100 dark:text-red-200 dark:bg-red-500/20 rounded-md hover:bg-red-200 dark:hover:bg-red-500/30",children:"Delete My Account"})]})]})},Fy=()=>{const{addToast:n}=Le(),c=()=>n({type:"success",title:"Contacts Saved",message:"Your contact information has been updated."});return a.jsxs("div",{className:"space-y-6",children:[a.jsx(ls,{title:"Contact Information"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 -mt-2",children:"Other members can see this info."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(ct,{label:"Phone Number:",children:a.jsx(yt,{value:"+880 1712345678"})}),a.jsx(ct,{label:"WhatsApp Number:",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(es,{name:"whatsapp",label:"Same as phone",checked:!0}),a.jsx(es,{name:"whatsapp",label:"Different: +880 [________]"})]})}),a.jsx(ct,{label:"Facebook Profile:",children:a.jsx(yt,{value:"facebook.com/rajkumar"})}),a.jsx(ct,{label:"Bkash Number (for payments):",children:a.jsx(yt,{value:"+880 1712345678"})}),a.jsx(ct,{label:"Nagad Number:",children:a.jsx(yt,{value:"+880 1712345678"})}),a.jsx(ct,{label:"Emergency Contact:",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(yt,{value:"Father's name",placeholder:"Name"}),a.jsx(yt,{value:"+880 1711111111",placeholder:"Phone"})]})})]}),a.jsx("button",{onClick:c,className:"px-6 py-2 bg-primary text-white font-semibold rounded-lg hover:bg-primary-600",children:"Save Contact Info"})]})},Ky=()=>{const{user:n}=ve(),{addToast:c}=Le(),d=(n==null?void 0:n.role)===oe.Manager,o=()=>c({type:"success",title:"Preferences Saved",message:"Your notification settings have been updated."});return a.jsxs("div",{className:"space-y-8",children:[a.jsx(ls,{title:"Notification Settings"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Notification Channels:"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{label:"Email Notifications",checked:!0}),a.jsx(at,{label:"In-App Notifications",checked:!0}),a.jsx(at,{label:"SMS Notifications (Coming Soon)",checked:!1})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Notify me about:"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Bills & Payments:"}),a.jsxs("div",{className:"pl-4 space-y-2 mt-1",children:[a.jsx(at,{label:"New bills assigned to me",checked:!0}),a.jsx(at,{label:"Payment reminders (3 days before)",checked:!0}),a.jsx(at,{label:"Payment approval updates",checked:!0}),a.jsx(at,{label:"Overdue bill alerts",checked:!0})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Meals & Shopping:"}),a.jsxs("div",{className:"pl-4 space-y-2 mt-1",children:[a.jsx(at,{label:"Daily meal logging reminders",checked:!0}),a.jsx(at,{label:"Shopping duty reminders",checked:!0}),a.jsx(at,{label:"Shopping approval updates",checked:!0}),a.jsx(at,{label:"Meal rate changes",checked:!0})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Deposits & Refunds:"}),a.jsxs("div",{className:"pl-4 space-y-2 mt-1",children:[a.jsx(at,{label:"Deposit approval updates",checked:!0}),a.jsx(at,{label:"Monthly refund calculations",checked:!0})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Room Updates:"}),a.jsxs("div",{className:"pl-4 space-y-2 mt-1",children:[a.jsx(at,{label:"New member joins",checked:!0}),a.jsx(at,{label:"Member leaves",checked:!0}),a.jsx(at,{label:"Room announcements",checked:!1})]})]}),d&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Manager-Specific:"}),a.jsx("div",{className:"pl-4 space-y-2 mt-1",children:a.jsx(at,{label:"Manager approval requests",checked:!0})})]})]})]}),a.jsx("div",{className:"flex flex-wrap gap-4 items-center",children:a.jsx("button",{onClick:o,className:"px-6 py-2 bg-primary text-white font-semibold rounded-lg hover:bg-primary-600",children:"Save Preferences"})})]})},Jy=()=>{const{addToast:n}=Le(),c=()=>n({type:"success",title:"Settings Saved",message:"Room management settings have been updated."}),d=()=>{window.confirm("Are you sure you want to delete this room? This will erase all data for all members and cannot be undone.")&&n({type:"error",title:"Room Deleted",message:"The room and all its data have been permanently deleted."})};return a.jsxs("div",{className:"space-y-6",children:[a.jsx(ls,{title:"Room Management"}),a.jsx(ct,{label:"Room Name:",children:a.jsx(yt,{value:"Flat 3B, Dhanmondi"})}),a.jsx(ct,{label:"Full Address:",children:a.jsx(yt,{value:"Road 5, House 12, Dhanmondi, Dhaka - 1205"})}),a.jsxs(ct,{label:"Room Code:",children:[a.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700/50 p-3 rounded-lg flex items-center justify-between",children:[a.jsx("span",{className:"font-mono text-xl tracking-widest",children:"AB1234"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{className:"flex items-center gap-1 text-sm font-semibold",children:[a.jsx(Qo,{className:"w-4 h-4"}),"Copy Code"]}),a.jsxs("button",{className:"flex items-center gap-1 text-sm font-semibold",children:[a.jsx(Rb,{className:"w-4 h-4"}),"Generate New"]})]})]}),a.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-1",children:" Old code will stop working"})]}),a.jsx(ls,{title:"Default Settings"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(ct,{label:"Currency:",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx(es,{name:"currency",label:"BDT ()",checked:!0}),a.jsx(es,{name:"currency",label:"USD ($)"})]})}),a.jsx(ct,{label:"Default Meal Quantity:",children:a.jsx(yt,{value:"2"})}),a.jsx(ct,{label:"Meal Rate Calculation:",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(es,{name:"mealRate",label:"Auto (Total Shopping  Meals)",checked:!0}),a.jsx(es,{name:"mealRate",label:"Fixed Rate:  [____]"})]})}),a.jsx(ct,{label:"Bill Due Date Reminder:",children:a.jsx(yt,{value:"3"})}),a.jsx(ct,{label:"Auto-Push Rent Bills:",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{label:"Enabled (creates next month)",checked:!0}),a.jsx(yt,{value:"25th"})]})})]}),a.jsx("button",{onClick:c,className:"px-6 py-2 bg-primary text-white font-semibold rounded-lg hover:bg-primary-600",children:"Save Settings"}),a.jsxs("div",{className:"border-t pt-6 mt-6 border-red-500/30",children:[a.jsx("h3",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:"Danger Zone"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"This will permanently delete all room data, including bills, meals, and member information."}),a.jsx("button",{onClick:d,className:"mt-3 px-4 py-2 text-sm font-semibold text-red-700 bg-red-100 dark:text-red-200 dark:bg-red-500/20 rounded-md hover:bg-red-200 dark:hover:bg-red-500/30",children:"Delete Room & All Data"})]})]})},$y=()=>{const{setPage:n}=ve();return a.jsxs("div",{className:"space-y-6",children:[a.jsx(ls,{title:"Member Management"}),a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"This section provides quick links to manage your room members."}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsx("button",{onClick:()=>n("members"),className:"font-semibold text-primary hover:underline",children:"View All Members "}),a.jsx("button",{onClick:()=>n("pending-approvals"),className:"block font-semibold text-primary hover:underline",children:"Manage Join Requests "})]})]})]})},Wy=()=>{const{user:n}=ve(),c=(n==null?void 0:n.role)===oe.Manager,d=[{id:"Profile",icon:a.jsx(Va,{className:"w-6 h-6 mr-3"}),label:"Profile"},{id:"Contacts",icon:a.jsx(lh,{className:"w-6 h-6 mr-3"}),label:"Contacts"},{id:"Notifications",icon:a.jsx(Xo,{className:"w-6 h-6 mr-3"}),label:"Notifications"}],o=[...d,{id:"Room Management",icon:a.jsx(Uo,{className:"w-6 h-6 mr-3"}),label:"Room Management"},{id:"Member Management",icon:a.jsx(fl,{className:"w-6 h-6 mr-3"}),label:"Member Management"}],u=c?o:d,[f,h]=A.useState("Profile"),p=()=>{switch(f){case"Profile":return a.jsx(Zy,{});case"Contacts":return a.jsx(Fy,{});case"Notifications":return a.jsx(Ky,{});case"Room Management":return c?a.jsx(Jy,{}):null;case"Member Management":return c?a.jsx($y,{}):null;default:return null}};return a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Uo,{className:"w-8 h-8 text-primary"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Settings"})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[a.jsx("aside",{className:"md:w-1/4 lg:w-1/5",children:a.jsx("nav",{className:"space-y-1",children:u.map(b=>a.jsx(Qy,{label:b.label,icon:b.icon,isActive:f===b.id,onClick:()=>h(b.id)},b.id))})}),a.jsx("main",{className:"flex-1 bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md animate-fade-in",children:p()},f)]})]})},Py={"October 2025":{overviewData:{totalAmount:"27,550",totalBills:8,billsPaid:{count:5,percent:"62.5%"},billsPending:{count:3,percent:"37.5%"}},memberSummaryData:[{name:"Raj",totalDue:"6,887.50",paid:"5,300",pending:"1,587.50",status:" 1 Overdue"},{name:"Amit",totalDue:"6,887.50",paid:"6,887.50",pending:"0",status:" All Paid"},{name:"Priya",totalDue:"6,887.50",paid:"6,300",pending:"587.50",status:" 1 Pending"},{name:"Ravi",totalDue:"6,887.50",paid:"6,887.50",pending:"0",status:" All Paid"}],billDetailsData:[{bill:"Rent",amount:2e4,split:5e3,dueDate:"Oct 1",statuses:["","","",""],progress:"75%"},{bill:"Electricity",amount:1200,split:300,dueDate:"Oct 15",statuses:["","","",""],progress:"75%"},{bill:"Wi-Fi",amount:1e3,split:250,dueDate:"Oct 10",statuses:["","","",""],progress:"75%"}]},"September 2025":{overviewData:{totalAmount:"25,800",totalBills:6,billsPaid:{count:6,percent:"100%"},billsPending:{count:0,percent:"0%"}},memberSummaryData:[{name:"Raj",totalDue:"6,450",paid:"6,450",pending:"0",status:" All Paid"},{name:"Amit",totalDue:"6,450",paid:"6,450",pending:"0",status:" All Paid"},{name:"Priya",totalDue:"6,450",paid:"6,450",pending:"0",status:" All Paid"},{name:"Ravi",totalDue:"6,450",paid:"6,450",pending:"0",status:" All Paid"}],billDetailsData:[{bill:"Rent",amount:2e4,split:5e3,dueDate:"Sep 1",statuses:["","","",""],progress:"Done"},{bill:"Electricity",amount:1100,split:275,dueDate:"Sep 15",statuses:["","","",""],progress:"Done"}]}},kf={"Last Month":[{name:"Raj",percent:90},{name:"Amit",percent:100},{name:"Priya",percent:100},{name:"Ravi",percent:95}],"Last 3 Months":[{name:"Raj",percent:75},{name:"Amit",percent:100},{name:"Priya",percent:92},{name:"Ravi",percent:98}],"Last 6 Months":[{name:"Raj",percent:80},{name:"Amit",percent:95},{name:"Priya",percent:94},{name:"Ravi",percent:97}],"Last 1 Year":[{name:"Raj",percent:82},{name:"Amit",percent:96},{name:"Priya",percent:91},{name:"Ravi",percent:95}],"Last 2 Years":[{name:"Raj",percent:85},{name:"Amit",percent:98},{name:"Priya",percent:93},{name:"Ravi",percent:96}]},Hr=({title:n,value:c,subtitle:d,children:o})=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-xl shadow-md",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400",children:n}),a.jsx("p",{className:"text-3xl font-bold text-gray-800 dark:text-white mt-1",children:c}),a.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:d}),o]}),Iy=({name:n,percent:c})=>{const d=()=>c>=90?"bg-green-500":c>=70?"bg-yellow-500":"bg-red-500";return a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"w-12 font-medium",children:n}),a.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-4",children:a.jsx("div",{className:`${d()} h-4 rounded-full`,style:{width:`${c}%`}})}),a.jsxs("span",{className:"w-12 text-right font-semibold",children:[c,"%"]})]})},ev=()=>{const{user:n}=ve(),[c,d]=A.useState("October 2025"),[o,u]=A.useState("Last 3 Months");if((n==null?void 0:n.role)!==oe.Manager)return a.jsxs("div",{className:"text-center p-8",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Access Denied"}),a.jsx("p",{className:"text-gray-500",children:"This page is only available for managers."})]});const f=Py[c],h=kf[o];return a.jsxs("div",{className:"space-y-8 animate-fade-in",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Payment Dashboard"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{value:c,onChange:p=>d(p.target.value),className:"px-4 py-2 text-sm font-semibold bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm",children:[a.jsx("option",{children:"October 2025"}),a.jsx("option",{children:"September 2025"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold bg-primary text-white rounded-md shadow-sm hover:bg-primary-600",children:[a.jsx(Zr,{className:"w-4 h-4"}),"Export"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(Hr,{title:" Total Bills Amount",value:f.overviewData.totalAmount,subtitle:"This Month"}),a.jsx(Hr,{title:" Total Bills",value:f.overviewData.totalBills,subtitle:"Categories"}),a.jsx(Hr,{title:" Bills Fully Paid",value:f.overviewData.billsPaid.count,subtitle:`${f.overviewData.billsPaid.percent} Collected`}),a.jsx(Hr,{title:" Bills Pending",value:f.overviewData.billsPending.count,subtitle:`${f.overviewData.billsPending.percent} Outstanding`})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-x-auto",children:[a.jsx("h3",{className:"p-5 text-lg font-semibold text-gray-800 dark:text-white",children:"Member-wise Bill Status"}),a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-xs text-gray-600 dark:text-gray-300 uppercase",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3",children:"Member"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Total Due"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Paid"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Pending"}),a.jsx("th",{className:"px-6 py-3",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:f.memberSummaryData.map(p=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30",children:[a.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white",children:p.name}),a.jsx("td",{className:"px-6 py-4 text-right",children:p.totalDue}),a.jsx("td",{className:"px-6 py-4 text-right text-green-600 dark:text-green-400 font-semibold",children:p.paid}),a.jsx("td",{className:"px-6 py-4 text-right text-red-600 dark:text-red-400 font-semibold",children:p.pending}),a.jsx("td",{className:"px-6 py-4 font-medium",children:p.status})]},p.name))})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-x-auto",children:[a.jsx("h3",{className:"p-5 text-lg font-semibold text-gray-800 dark:text-white",children:"Bill Details"}),a.jsx("p",{className:"px-5 pb-3 text-xs text-gray-500 dark:text-gray-400",children:"Legend:  Paid & Approved |  Pending Approval |  Not Paid |  Overdue"}),a.jsxs("table",{className:"w-full text-sm text-center",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-xs text-gray-600 dark:text-gray-300 uppercase",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:"Bill"}),a.jsx("th",{className:"px-4 py-3",children:"Amount"}),a.jsx("th",{className:"px-4 py-3",children:"Split"}),a.jsx("th",{className:"px-4 py-3",children:"Due Date"}),a.jsx("th",{className:"px-4 py-3",children:"Raj"}),a.jsx("th",{className:"px-4 py-3",children:"Amit"}),a.jsx("th",{className:"px-4 py-3",children:"Priya"}),a.jsx("th",{className:"px-4 py-3",children:"Ravi"}),a.jsx("th",{className:"px-4 py-3",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:f.billDetailsData.map(p=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30",children:[a.jsx("td",{className:"px-4 py-3 text-left font-medium text-gray-900 dark:text-white",children:p.bill}),a.jsxs("td",{className:"px-4 py-3",children:["",p.amount.toLocaleString()]}),a.jsxs("td",{className:"px-4 py-3",children:["",p.split.toLocaleString()]}),a.jsx("td",{className:"px-4 py-3",children:p.dueDate}),p.statuses.map((b,g)=>a.jsx("td",{className:"px-4 py-3",children:b},g)),a.jsx("td",{className:"px-4 py-3 font-semibold",children:p.progress})]},p.bill))})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-5",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Payment Punctuality"}),a.jsx("div",{className:"flex flex-wrap items-center gap-1 bg-gray-100 dark:bg-gray-700 p-1 rounded-md",children:Object.keys(kf).map(p=>a.jsx("button",{onClick:()=>u(p),className:`px-2 py-1 text-xs font-semibold rounded ${o===p?"bg-white dark:bg-gray-600 shadow":"text-gray-500 dark:text-gray-300"}`,children:p},p))})]}),a.jsx("div",{className:"mt-4 space-y-3 text-sm",children:h.map(p=>a.jsx(Iy,{name:p.name,percent:p.percent},p.name))}),a.jsx("p",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:"Green: >90% | Yellow: 70-90% | Red: <70%"})]})]})},tv={Rent:a.jsx(cn,{className:"w-5 h-5 text-danger-500"}),Electricity:a.jsx(on,{className:"w-5 h-5 text-yellow-500"}),Water:a.jsx(dn,{className:"w-5 h-5 text-blue-500"}),Gas:a.jsx(un,{className:"w-5 h-5 text-orange-500"}),"Wi-Fi":a.jsx(mn,{className:"w-5 h-5 text-cyan-500"}),Maid:a.jsx(fn,{className:"w-5 h-5 text-purple-500"}),Others:a.jsx(Ga,{className:"w-5 h-5 text-slate-500"})},av=()=>{const{user:n}=ve(),{addToast:c}=Le(),[d,o]=A.useState("bill-payments"),[u,f]=A.useState([]),[h,p]=A.useState([]),[b,g]=A.useState(!0),y=async()=>{if(n!=null&&n.khataId&&n.role===oe.Manager){g(!0);try{const w=await ae.getPendingApprovals(n.khataId);f(w);const E=await ae.getBillsForRoom(n.khataId),L=[];E.forEach(H=>{H.shares.forEach($=>{$.status==="Pending Approval"&&L.push({bill:H,share:$})})}),p(L)}catch(w){console.error("Error fetching pending approvals:",w),c({type:"error",title:"Error",message:"Failed to load pending approvals."})}finally{g(!1)}}else g(!1)};A.useEffect(()=>{y()},[n]);const v=async w=>{if(n!=null&&n.khataId)try{await ae.approveMember(n.khataId,w)?(f(L=>L.filter(H=>H.id!==w)),c({type:"success",title:"Approved",message:"Member approved successfully"})):c({type:"error",title:"Error",message:"Failed to approve member"})}catch{c({type:"error",title:"Error",message:"Failed to approve member"})}},k=async(w,E)=>{await ae.updateBillShareStatus(w,E,"Paid")?(p(H=>H.filter($=>!($.bill.id===w&&$.share.userId===E))),c({type:"success",title:"Approved",message:"Payment approved successfully."})):c({type:"error",title:"Error",message:"Failed to approve payment."})},D=async(w,E)=>{await ae.updateBillShareStatus(w,E,"Unpaid")?(p(H=>H.filter($=>!($.bill.id===w&&$.share.userId===E))),c({type:"info",title:"Denied",message:"Payment rejected. Status reset to Unpaid."})):c({type:"error",title:"Error",message:"Failed to deny payment."})};if(b)return a.jsx("div",{className:"p-8 text-center",children:"Loading pending requests..."});if((n==null?void 0:n.role)!==oe.Manager)return a.jsx("div",{className:"p-8 text-center text-red-500",children:"Access Denied. Managers only."});const j=u.length+h.length,C=[{id:"bill-payments",label:"Bill Payments",count:h.length},{id:"shopping",label:"Shopping",count:0},{id:"deposits",label:"Deposits",count:0},{id:"meal-entries",label:"Meal Entries",count:0},{id:"join-requests",label:"Join Requests",count:u.length}];return a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white font-sans",children:"Pending Approvals"}),a.jsxs("div",{className:"px-4 py-2 bg-warning-500/10 text-warning-600 dark:text-warning-400 rounded-lg font-semibold",children:[" ",j," Tasks"]})]}),a.jsx("div",{className:"bg-slate-100 dark:bg-slate-800/50 p-1 rounded-lg flex gap-1 overflow-x-auto",children:C.map(w=>a.jsxs("button",{onClick:()=>o(w.id),className:`flex-1 min-w-fit px-4 py-2.5 rounded-md font-semibold text-sm transition-all ${d===w.id?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white"}`,children:[w.label," ",w.count>0&&a.jsx("span",{className:"ml-1 text-xs",children:w.count})]},w.id))}),a.jsxs("div",{className:"space-y-4",children:[d==="bill-payments"&&a.jsx(a.Fragment,{children:h.length===0?a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm p-12 text-center",children:[a.jsx(Zt,{className:"w-16 h-16 mx-auto text-slate-300 dark:text-slate-600 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-600 dark:text-slate-400",children:"No Pending Bill Payments"}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500 mt-2",children:"All bill payments have been processed."})]}):h.map(({bill:w,share:E})=>a.jsx("div",{className:"bg-slate-800 dark:bg-slate-800/80 rounded-lg p-5 border border-slate-700",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-slate-700 rounded-lg",children:tv[w.category]||a.jsx(Ga,{className:"w-5 h-5 text-slate-400"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[w.category," Bill - ",E.userName]}),a.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:["Amount: ",a.jsxs("span",{className:"font-bold text-white font-numeric",children:["",E.amount.toFixed(0)]})]}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Marked as paid ",new Date(w.dueDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," (",Math.ceil((new Date().getTime()-new Date(w.dueDate).getTime())/(1e3*60*60*24))," days ago)"]}),a.jsx("p",{className:"text-xs text-warning-500 mt-1",children:"Status: Waiting for your approval"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>D(w.id,E.userId),className:"px-4 py-2 bg-danger-500/20 text-danger-400 rounded-lg font-semibold hover:bg-danger-500/30 transition-colors text-sm",children:"Deny"}),a.jsx("button",{onClick:()=>k(w.id,E.userId),className:"px-4 py-2 bg-success-500/20 text-success-400 rounded-lg font-semibold hover:bg-success-500/30 transition-colors text-sm",children:"Approve Payment"})]})]})},`${w.id}-${E.userId}`))}),d==="shopping"&&a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm p-12 text-center",children:[a.jsx(Zt,{className:"w-16 h-16 mx-auto text-slate-300 dark:text-slate-600 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-600 dark:text-slate-400",children:"No Pending Shopping Expenses"}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500 mt-2",children:"All shopping expenses have been processed."})]}),d==="deposits"&&a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm p-12 text-center",children:[a.jsx(Zt,{className:"w-16 h-16 mx-auto text-slate-300 dark:text-slate-600 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-600 dark:text-slate-400",children:"No Pending Deposits"}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500 mt-2",children:"All deposits have been processed."})]}),d==="meal-entries"&&a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm p-12 text-center",children:[a.jsx(Zt,{className:"w-16 h-16 mx-auto text-slate-300 dark:text-slate-600 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-600 dark:text-slate-400",children:"No Pending Meal Entries"}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500 mt-2",children:"All meal entries have been processed."})]}),d==="join-requests"&&a.jsx(a.Fragment,{children:u.length===0?a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm p-12 text-center",children:[a.jsx(Zt,{className:"w-16 h-16 mx-auto text-slate-300 dark:text-slate-600 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-600 dark:text-slate-400",children:"No Pending Join Requests"}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500 mt-2",children:"All join requests have been processed."})]}):u.map(w=>a.jsx("div",{className:"bg-slate-800 dark:bg-slate-800/80 rounded-lg p-5 border border-slate-700",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-primary-500/20 rounded-full flex items-center justify-center text-primary-400 font-bold text-lg",children:w.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-white",children:w.name}),a.jsx("p",{className:"text-sm text-slate-400 mt-1",children:w.email}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Requested: ",new Date(w.requestedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"px-4 py-2 bg-danger-500/20 text-danger-400 rounded-lg font-semibold hover:bg-danger-500/30 transition-colors text-sm",children:"Deny"}),a.jsx("button",{onClick:()=>v(w.id),className:"px-4 py-2 bg-success-500/20 text-success-400 rounded-lg font-semibold hover:bg-success-500/30 transition-colors text-sm",children:"Approve"})]})]})},w.id))})]})]})},Sf={"This Month":{summaryData:{totalExpenses:"33,010",avgMealCost:"45.50",totalMembers:"4 Active",fundHealthAmount:"+2,540",fundHealthStatus:"Positive"},expenseDistributionData:{bills:83,meals:17,billAmount:"27,550",mealAmount:"5,460"},monthlyTrend:{bills:[120,80,100,40,90,60],meals:[150,140,145,130,135,125]},paymentConsistency:[{name:"Raj",percent:80},{name:"Amit",percent:100},{name:"Priya",percent:90},{name:"Ravi",percent:100}],shoppingContribution:{data:{raj:35,amit:22,priya:28,ravi:15},amounts:{raj:"1,911",amit:"1,201",priya:"1,529",ravi:"819"}}},"Last 30 Days":{summaryData:{totalExpenses:"35,200",avgMealCost:"46.10",totalMembers:"4 Active",fundHealthAmount:"+1,800",fundHealthStatus:"Positive"},expenseDistributionData:{bills:80,meals:20,billAmount:"28,160",mealAmount:"7,040"},monthlyTrend:{bills:[110,85,95,45,95,65],meals:[145,142,148,132,138,128]},paymentConsistency:[{name:"Raj",percent:82},{name:"Amit",percent:98},{name:"Priya",percent:91},{name:"Ravi",percent:100}],shoppingContribution:{data:{raj:32,amit:25,priya:25,ravi:18},amounts:{raj:"2,252",amit:"1,760",priya:"1,760",ravi:"1,267"}}}},qr=({icon:n,title:c,value:d,subtitle:o})=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-xl shadow-md flex items-start gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center bg-primary-100 dark:bg-primary-500/20 rounded-lg",children:n}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400",children:c}),a.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white mt-1",children:d}),a.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:o})]})]}),Yr=({title:n,children:c,footer:d})=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-xl shadow-md h-full flex flex-col",children:[a.jsx("h3",{className:"font-bold text-lg text-gray-800 dark:text-white mb-4",children:n}),a.jsx("div",{className:"flex-grow flex items-center justify-center",children:c}),d&&a.jsx("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400 mt-2",children:d})]}),lv=({data:n})=>a.jsxs("div",{className:"w-full flex flex-col md:flex-row items-center justify-center gap-6",children:[a.jsxs("div",{className:"relative w-36 h-36",children:[a.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`conic-gradient(#3b82f6 0% ${n.bills}%, #10b981 ${n.bills}% 100%)`}}),a.jsx("div",{className:"absolute inset-2 bg-white dark:bg-gray-800 rounded-full"})]}),a.jsxs("div",{className:"space-y-2 text-sm text-center md:text-left",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),a.jsxs("div",{children:["Bills: ",n.bills,"% (",n.billAmount,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),a.jsxs("div",{children:["Meals: ",n.meals,"% (",n.mealAmount,")"]})]})]})]}),sv=({data:n})=>{const o={top:10,right:10,bottom:20,left:30},u=240-o.left-o.right,f=180-o.top-o.bottom,h=n.bills.length,p=160,b=[0,40,80,120,160],g=j=>o.left+j*(u/(h-1)),y=j=>o.top+f-j/p*f,v=n.bills.map((j,C)=>`${g(C)},${y(j)}`).join(" "),k=n.meals.map((j,C)=>`${g(C)},${y(j)}`).join(" "),D=["May","Jun","Jul","Aug","Sep","Oct"];return a.jsxs("div",{className:"w-full h-full flex flex-col",children:[a.jsxs("svg",{className:"flex-grow",viewBox:"0 0 240 180",preserveAspectRatio:"xMidYMid meet",children:[b.map(j=>a.jsxs("g",{className:"text-gray-300 dark:text-gray-600",children:[a.jsx("line",{x1:o.left,y1:y(j),x2:240-o.right,y2:y(j),stroke:"currentColor",strokeWidth:"0.5",strokeDasharray:"2,2"}),a.jsx("text",{x:o.left-5,y:y(j)+3,textAnchor:"end",className:"text-[8px] fill-current text-gray-500 dark:text-gray-400 font-sans",children:j})]},j)),D.map((j,C)=>a.jsx("text",{x:g(C),y:175,textAnchor:"middle",className:"text-[8px] fill-current text-gray-500 dark:text-gray-400 font-sans",children:j},j)),a.jsx("polyline",{points:v,fill:"none",stroke:"#3b82f6",strokeWidth:"2"}),a.jsx("polyline",{points:k,fill:"none",stroke:"#10b981",strokeWidth:"2"}),n.bills.map((j,C)=>a.jsx("circle",{cx:g(C),cy:y(j),r:"2.5",fill:"#3b82f6",stroke:"white",strokeWidth:"1"},`bill-dot-${C}`)),n.meals.map((j,C)=>a.jsx("circle",{cx:g(C),cy:y(j),r:"2.5",fill:"#10b981",stroke:"white",strokeWidth:"1"},`meal-dot-${C}`))]}),a.jsxs("div",{className:"flex justify-center gap-4 text-xs mt-2",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-sm"}),a.jsx("span",{className:"font-sans",children:"Bills"})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded-sm"}),a.jsx("span",{className:"font-sans",children:"Meals"})]})]})]})},nv=({data:n})=>a.jsx("div",{className:"w-full space-y-3 text-sm",children:n.map(c=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"w-12 font-medium",children:c.name}),a.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-4",children:a.jsx("div",{className:"bg-primary h-4 rounded-full",style:{width:`${c.percent}%`}})}),a.jsxs("span",{className:"w-10 text-right font-semibold",children:[c.percent,"%"]})]},c.name))}),rv=({data:n})=>a.jsxs("div",{className:"w-full flex flex-col md:flex-row items-center justify-center gap-6",children:[a.jsx("div",{className:"relative w-36 h-36",children:a.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`conic-gradient(#3b82f6 0% ${n.data.raj}%, #10b981 ${n.data.raj}% ${n.data.raj+n.data.amit}%, #f59e0b ${n.data.raj+n.data.amit}% ${n.data.raj+n.data.amit+n.data.priya}%, #ef4444 ${n.data.raj+n.data.amit+n.data.priya}% 100%)`}})}),a.jsxs("div",{className:"space-y-2 text-sm text-center md:text-left",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),a.jsxs("div",{children:["Raj: ",n.data.raj,"% (",n.amounts.raj,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),a.jsxs("div",{children:["Amit: ",n.data.amit,"% (",n.amounts.amit,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500"}),a.jsxs("div",{children:["Priya: ",n.data.priya,"% (",n.amounts.priya,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),a.jsxs("div",{children:["Ravi: ",n.data.ravi,"% (",n.amounts.ravi,")"]})]})]})]}),iv=()=>{const{user:n}=ve(),[c,d]=A.useState("This Month");if((n==null?void 0:n.role)!==oe.Manager)return a.jsxs("div",{className:"text-center p-8",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Access Denied"}),a.jsx("p",{className:"text-gray-500",children:"This page is only available for managers."})]});const o=Sf[c]||Sf["This Month"];return a.jsxs("div",{className:"space-y-8 animate-fade-in",children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Reports & Analytics"}),a.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[["This Month","Last 30 Days","Custom Range"].map(u=>a.jsx("button",{onClick:()=>u!=="Custom Range"&&d(u),className:`px-4 py-2 text-sm font-semibold rounded-md shadow-sm transition-colors ${c===u?"bg-primary text-white":"bg-white dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600"} ${u==="Custom Range"?"opacity-50 cursor-not-allowed":""}`,children:u},u)),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm",children:[a.jsx(Zr,{className:"w-4 h-4"}),"Export PDF"]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm",children:[a.jsx(Zr,{className:"w-4 h-4"}),"Export CSV"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(qr,{icon:a.jsx(Cb,{className:"w-6 h-6 text-primary"}),title:"Total Expenses",value:o.summaryData.totalExpenses,subtitle:c}),a.jsx(qr,{icon:a.jsx(hl,{className:"w-6 h-6 text-primary"}),title:"Avg Meal Cost",value:o.summaryData.avgMealCost,subtitle:"Per Meal"}),a.jsx(qr,{icon:a.jsx(fl,{className:"w-6 h-6 text-primary"}),title:"Total Members",value:o.summaryData.totalMembers,subtitle:"Contributing"}),a.jsx(qr,{icon:a.jsx(Db,{className:"w-6 h-6 text-primary"}),title:"Fund Health",value:o.summaryData.fundHealthStatus,subtitle:o.summaryData.fundHealthAmount})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(Yr,{title:"Expense Distribution",footer:"Click segments for breakdown",children:a.jsx(lv,{data:o.expenseDistributionData})}),a.jsx(Yr,{title:"6-Month Expense Trend",children:a.jsx(sv,{data:o.monthlyTrend})}),a.jsx(Yr,{title:"Member Payment Reliability",footer:"Based on on-time payments",children:a.jsx(nv,{data:o.paymentConsistency})}),a.jsx(Yr,{title:"Shopping Contribution",children:a.jsx(rv,{data:o.shoppingContribution})})]})]})},cv={success:{icon:Ub,color:"bg-success",text:"text-white"},warning:{icon:Lb,color:"bg-warning",text:"text-white"},error:{icon:Hb,color:"bg-danger",text:"text-white"}},ov=({toast:n,onClose:c})=>{const{type:d,title:o,message:u}=n,f=cv[d],h=f.icon,[p,b]=A.useState(!1);A.useEffect(()=>{const y=setTimeout(()=>b(!0),10);return()=>clearTimeout(y)},[]);const g=()=>{b(!1),setTimeout(c,300)};return a.jsx("div",{className:`w-full max-w-sm rounded-lg shadow-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden transition-all duration-300 ease-in-out ${f.color} ${p?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(h,{className:`h-6 w-6 ${f.text}`,"aria-hidden":"true"})}),a.jsxs("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[a.jsx("p",{className:`text-sm font-bold font-sans ${f.text}`,children:o}),a.jsx("p",{className:`mt-1 text-sm ${f.text}`,children:u})]}),a.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:a.jsxs("button",{className:"inline-flex rounded-md text-white/80 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white",onClick:g,children:[a.jsx("span",{className:"sr-only",children:"Close"}),a.jsx(Rt,{className:"h-5 w-5"})]})})]})})})},dv=()=>{const{toasts:n,addToast:c}=Le();return n[n.length-1],a.jsx("div",{"aria-live":"assertive",className:"fixed inset-0 flex items-end px-4 py-6 pointer-events-none sm:p-6 sm:items-start z-[100]",children:a.jsx("div",{className:"w-full flex flex-col items-center space-y-4 sm:items-end",children:n.map(d=>a.jsx(ov,{toast:d,onClose:()=>{}},d.id))})})},Mf=45.5,uv=({date:n,onClose:c,onSubmit:d,initialData:o})=>{const[u,f]=A.useState({breakfast:(o==null?void 0:o.breakfast)||0,lunch:(o==null?void 0:o.lunch)||0,dinner:(o==null?void 0:o.dinner)||0}),[h,p]=A.useState(""),b=u.breakfast+u.lunch+u.dinner,g=b*Mf,y=()=>{d({date:n,meals:u,notes:h,totalMeals:b}),c()},v=({label:k,icon:D,value:j,onChange:C})=>a.jsxs("div",{children:[a.jsxs("label",{className:"font-semibold text-lg",children:[D," ",k]}),a.jsx("div",{className:"flex items-center gap-x-4 mt-2",children:[0,.5,1,2].map(w=>a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:k,value:w,checked:j===w,onChange:()=>C(w),className:"w-5 h-5 text-primary focus:ring-primary"}),a.jsx("span",{children:w})]},w))})]});return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:c,children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-sm",onClick:k=>k.stopPropagation(),children:[a.jsxs("h2",{className:"text-xl font-bold font-sans",children:["Log Meals - ",n.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})]}),a.jsx("div",{className:"border-t my-4 border-gray-200 dark:border-gray-700"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(v,{label:"Breakfast",icon:"",value:u.breakfast,onChange:k=>f(D=>({...D,breakfast:k}))}),a.jsx(v,{label:"Lunch",icon:"",value:u.lunch,onChange:k=>f(D=>({...D,lunch:k}))}),a.jsx(v,{label:"Dinner",icon:"",value:u.dinner,onChange:k=>f(D=>({...D,dinner:k}))})]}),a.jsx("div",{className:"border-t my-4 border-gray-200 dark:border-gray-700"}),a.jsxs("div",{className:"text-center font-semibold",children:[a.jsxs("p",{children:["Total: ",b," meals"]}),a.jsxs("p",{children:["Cost: ",g.toFixed(2)," (@ ",Mf.toFixed(2),"/meal)"]})]}),a.jsx("div",{className:"border-t my-4 border-gray-200 dark:border-gray-700"}),a.jsxs("div",{children:[a.jsx("label",{className:"font-semibold text-sm",children:"Notes (optional):"}),a.jsx("input",{type:"text",value:h,onChange:k=>p(k.target.value),className:"w-full mt-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors"})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{onClick:c,className:"flex-1 py-2.5 bg-gray-200 dark:bg-gray-600 font-semibold rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),a.jsx("button",{onClick:y,className:"flex-1 py-2.5 bg-primary text-white font-semibold rounded-lg hover:bg-primary-600",children:"Save Entry"})]})]})})},mv=({date:n,onClose:c,mealsForDay:d})=>{const o=A.useMemo(()=>{const f=d.filter(g=>g.breakfast>0).map(g=>({name:g.userName||"Unknown",qty:g.breakfast})),h=d.filter(g=>g.lunch>0).map(g=>({name:g.userName||"Unknown",qty:g.lunch})),p=d.filter(g=>g.dinner>0).map(g=>({name:g.userName||"Unknown",qty:g.dinner}));return{total:d.reduce((g,y)=>g+(y.breakfast||0)+(y.lunch||0)+(y.dinner||0),0),breakfast:f,lunch:h,dinner:p}},[d]),u=({title:f,data:h})=>a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:f}),a.jsxs("div",{className:"border rounded-lg overflow-hidden dark:border-gray-700",children:[a.jsxs("div",{className:"grid grid-cols-3 bg-gray-50 dark:bg-gray-700/50 p-2 font-semibold text-sm",children:[a.jsx("div",{children:"Member Name"}),a.jsx("div",{className:"text-center",children:"Quantity"}),a.jsx("div",{className:"text-right",children:"Edit"})]}),h.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No meals recorded"}):h.map((p,b)=>a.jsxs("div",{className:"grid grid-cols-3 p-2 border-t dark:border-gray-700 items-center",children:[a.jsx("div",{children:p.name}),a.jsx("div",{className:"text-center",children:p.qty.toFixed(1)}),a.jsx("div",{className:"text-right",children:a.jsx("button",{className:"text-primary hover:underline",children:a.jsx(Vo,{className:"w-4 h-4 inline"})})})]},`${p.name}-${b}`))]})]});return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:c,children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",onClick:f=>f.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h2",{className:"text-xl font-bold font-sans",children:["Meals - ",n.toLocaleDateString("en-US",{weekday:"long",day:"numeric"})," (Total: ",o.total," Meals)"]}),a.jsx("button",{onClick:c,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:a.jsx(Rt,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"border-t my-4 border-gray-200 dark:border-gray-700"}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(u,{title:" Breakfast",data:o.breakfast}),a.jsx(u,{title:" Lunch",data:o.lunch}),a.jsx(u,{title:" Dinner",data:o.dinner})]})]})})},fv=()=>{const{user:n}=ve(),{addToast:c}=Le(),[d,o]=A.useState(new Date),[u,f]=A.useState(null),[h,p]=A.useState([]),[b,g]=A.useState(!1),y=()=>o(new Date(d.getFullYear(),d.getMonth()-1,1)),v=()=>o(new Date(d.getFullYear(),d.getMonth()+1,1));A.useEffect(()=>{(async()=>{if(n!=null&&n.khataId){g(!0);try{const E=d.getFullYear(),L=d.getMonth(),H=new Date(E,L,1),$=new Date(E,L+1,0),q=H.toISOString(),Q=$.toISOString(),I=await ae.getMeals(n.khataId,q,Q);p(I)}catch(E){console.error("Failed to fetch meals",E),c({type:"error",title:"Error",message:"Failed to load calendar data"})}finally{g(!1)}}})()},[d,n==null?void 0:n.khataId,c]);const k=async w=>{if(n!=null&&n.khataId)try{await ae.submitMeal(n.khataId,{date:w.date.toISOString(),breakfast:w.meals.breakfast,lunch:w.meals.lunch,dinner:w.meals.dinner}),c({type:"success",title:"Entry Saved",message:"Your meal entry has been updated."});const E=d.getFullYear(),L=d.getMonth(),H=new Date(E,L,1),$=new Date(E,L+1,0),q=await ae.getMeals(n.khataId,H.toISOString(),$.toISOString());p(q)}catch(E){console.error("Failed to save meal",E),c({type:"error",title:"Error",message:"Failed to save meal entry"})}},D=w=>(new Date(d.getFullYear(),d.getMonth(),w),h.filter(E=>{const L=new Date(E.date);return L.getDate()===w&&L.getMonth()===d.getMonth()&&L.getFullYear()===d.getFullYear()})),j=w=>D(w).find(L=>L.userId===(n==null?void 0:n.id)),C=A.useMemo(()=>{const w=d.getFullYear(),E=d.getMonth(),L=new Date(w,E,1).getDay(),H=new Date(w,E+1,0).getDate(),$=new Date;let q=[];for(let Q=0;Q<L;Q++)q.push(a.jsx("div",{className:"border-r border-b border-gray-200 dark:border-gray-700"},`empty-${Q}`));for(let Q=1;Q<=H;Q++){const I=$.getFullYear()===w&&$.getMonth()===E&&$.getDate()===Q;let re;const F=D(Q);if((n==null?void 0:n.role)===oe.Manager)re=F.reduce((K,J)=>K+(J.breakfast||0)+(J.lunch||0)+(J.dinner||0),0);else{const K=F.find(J=>J.userId===(n==null?void 0:n.id));K&&(re=(K.breakfast||0)+(K.lunch||0)+(K.dinner||0))}q.push(a.jsxs("div",{className:"border-r border-b border-gray-200 dark:border-gray-700 p-2 min-h-[80px] cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50",onClick:()=>f(new Date(w,E,Q)),children:[a.jsx("span",{className:`font-semibold ${I?"bg-primary text-white rounded-full w-6 h-6 flex items-center justify-center":""}`,children:Q}),re!==void 0&&re>0&&a.jsxs("div",{className:"text-sm mt-1",children:["",re]})]},Q))}return q},[d,h,n==null?void 0:n.role,n==null?void 0:n.id]);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4 animate-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ah,{className:"w-8 h-8 text-primary"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Meal Calendar"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("button",{onClick:y,className:"px-3 py-1 font-semibold rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:"< Prev"}),a.jsx("h2",{className:"text-xl font-bold",children:d.toLocaleString("default",{month:"long",year:"numeric"})}),a.jsx("button",{onClick:v,className:"px-3 py-1 font-semibold rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:"Next >"})]}),b?a.jsx("div",{className:"py-10 text-center text-gray-500",children:"Loading calendar data..."}):a.jsxs("div",{className:"grid grid-cols-7 text-center font-semibold text-sm text-gray-600 dark:text-gray-300 border-t border-l border-gray-200 dark:border-gray-700",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(w=>a.jsx("div",{className:"py-2 border-r border-b border-gray-200 dark:border-gray-700",children:w},w)),C]}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:["Legend: ",(n==null?void 0:n.role)===oe.Manager?"Total meal count per day (all members)":"Your meal count per day"]})]})]}),u&&(n==null?void 0:n.role)===oe.Member&&a.jsx(uv,{date:u,onClose:()=>f(null),onSubmit:k,initialData:j(u.getDate())}),u&&(n==null?void 0:n.role)===oe.Manager&&a.jsx(mv,{date:u,onClose:()=>f(null),mealsForDay:D(u.getDate())})]})},Ro=()=>[{day:"Monday",breakfast:"",lunch:"",dinner:""},{day:"Tuesday",breakfast:"",lunch:"",dinner:""},{day:"Wednesday",breakfast:"",lunch:"",dinner:""},{day:"Thursday",breakfast:"",lunch:"",dinner:""},{day:"Friday",breakfast:"",lunch:"",dinner:""},{day:"Saturday",breakfast:"",lunch:"",dinner:""},{day:"Sunday",breakfast:"",lunch:"",dinner:""}],hv=({editingDay:n,menuData:c,onClose:d,onSave:o,onSavePermanent:u})=>{const f=n==="Permanent",h=A.useMemo(()=>c.find(L=>L.day===n),[n,c]),[p,b]=A.useState((h==null?void 0:h.breakfast)||""),[g,y]=A.useState((h==null?void 0:h.lunch)||""),[v,k]=A.useState((h==null?void 0:h.dinner)||""),[D,j]=A.useState(c),C=(L,H,$)=>{j(q=>q.map(Q=>Q.day===L?{...Q,[H]:$}:Q))},w=()=>{n&&!f&&o(n,{breakfast:p,lunch:g,dinner:v}),d()},E=()=>{f&&u(D),d()};return f?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:d,children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:L=>L.stopPropagation(),children:[a.jsx("h2",{className:"text-xl font-bold font-sans mb-4",children:"Edit Permanent Menu Template"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"This will set the default menu for all weeks. You can override specific days later."}),a.jsx("div",{className:"border-t my-4 border-gray-200 dark:border-gray-700"}),a.jsx("div",{className:"space-y-6",children:D.map(L=>a.jsxs("div",{className:"border-b pb-4 dark:border-gray-700 last:border-b-0",children:[a.jsx("h3",{className:"font-semibold text-lg mb-3 text-gray-800 dark:text-gray-100",children:L.day}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Breakfast:"}),a.jsx("input",{type:"text",value:L.breakfast,onChange:H=>C(L.day,"breakfast",H.target.value),className:"w-full mt-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Lunch:"}),a.jsx("input",{type:"text",value:L.lunch,onChange:H=>C(L.day,"lunch",H.target.value),className:"w-full mt-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Dinner:"}),a.jsx("input",{type:"text",value:L.dinner,onChange:H=>C(L.day,"dinner",H.target.value),className:"w-full mt-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors"})]})]})]},L.day))}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 justify-end border-t pt-4 dark:border-gray-700",children:[a.jsx("button",{onClick:d,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 font-semibold rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),a.jsx("button",{onClick:E,className:"px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700",children:"Save Permanent Menu"})]})]})}):a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 animate-fade-in p-4",onClick:d,children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-lg",onClick:L=>L.stopPropagation(),children:[a.jsxs("h2",{className:"text-xl font-bold font-sans",children:["Edit Menu for: ",n]}),a.jsx("div",{className:"border-t my-4 border-gray-200 dark:border-gray-700"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Breakfast:"}),a.jsx("input",{type:"text",value:p,onChange:L=>b(L.target.value),className:"w-full mt-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Lunch:"}),a.jsx("input",{type:"text",value:g,onChange:L=>y(L.target.value),className:"w-full mt-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Dinner:"}),a.jsx("input",{type:"text",value:v,onChange:L=>k(L.target.value),className:"w-full mt-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 border-2 border-transparent rounded-lg focus:outline-none focus:border-primary transition-colors"})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 justify-end",children:[a.jsx("button",{onClick:d,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 font-semibold rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),a.jsx("button",{onClick:w,className:"px-4 py-2 bg-primary text-white font-semibold rounded-lg hover:bg-primary-600",children:"Save Changes"})]})]})})},xv=()=>{const{user:n}=ve(),{addToast:c}=Le(),[d,o]=A.useState(Ro()),[u,f]=A.useState(null),[h,p]=A.useState(!0);A.useEffect(()=>{(async()=>{if(!(n!=null&&n.khataId)){p(!1);return}try{p(!0);const v=await ae.getMenu(n.khataId);v&&v.length>0?o(v):o(Ro())}catch(v){console.error("Error fetching menu:",v),c({type:"error",title:"Error",message:"Failed to load menu data"}),o(Ro())}finally{p(!1)}})()},[n==null?void 0:n.khataId]);const b=async(y,v)=>{if(n!=null&&n.khataId)try{if(await ae.updateMenuDay(n.khataId,y,v)){o(j=>j.map(C=>C.day===y?{...C,...v}:C)),c({type:"success",title:"Menu Updated",message:`${y}'s menu has been saved for this week.`});const D=await ae.getMenu(n.khataId);D&&D.length>0&&o(D)}else c({type:"error",title:"Error",message:"Failed to save menu"})}catch(k){console.error("Error saving menu:",k),c({type:"error",title:"Error",message:"Failed to save menu"})}},g=async y=>{if(n!=null&&n.khataId)try{if(await ae.saveMenu(n.khataId,y,!0)){c({type:"success",title:"Permanent Menu Saved",message:"The permanent menu has been updated."});const k=await ae.getMenu(n.khataId);k&&k.length>0&&o(k)}else c({type:"error",title:"Error",message:"Failed to save permanent menu"})}catch(v){console.error("Error saving permanent menu:",v),c({type:"error",title:"Error",message:"Failed to save permanent menu"})}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(rh,{className:"w-8 h-8 text-primary"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"This Week's Menu"})]}),h?a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-8 text-center",children:a.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Loading menu..."})]})}):a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-4 overflow-x-auto",children:[a.jsxs("table",{className:"w-full min-w-max text-sm text-left",children:[a.jsx("thead",{className:"border-b dark:border-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3",children:"Day"}),a.jsx("th",{className:"p-3",children:"Breakfast"}),a.jsx("th",{className:"p-3",children:"Lunch"}),a.jsx("th",{className:"p-3",children:"Dinner"}),(n==null?void 0:n.role)===oe.Manager&&a.jsx("th",{className:"p-3 text-center",children:"Edit"})]})}),a.jsx("tbody",{children:d.map(y=>a.jsxs("tr",{className:"border-b dark:border-gray-700 last:border-b-0 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"p-3 font-semibold text-gray-800 dark:text-gray-100",children:y.day}),a.jsx("td",{className:"p-3 text-gray-600 dark:text-gray-300",children:y.breakfast||"-"}),a.jsx("td",{className:"p-3 text-gray-600 dark:text-gray-300",children:y.lunch||"-"}),a.jsx("td",{className:"p-3 text-gray-600 dark:text-gray-300",children:y.dinner||"-"}),(n==null?void 0:n.role)===oe.Manager&&a.jsx("td",{className:"p-3 text-center",children:a.jsx("button",{onClick:()=>f(y.day),className:"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",children:a.jsx(Vo,{className:"w-5 h-5 text-primary"})})})]},y.day))})]}),(n==null?void 0:n.role)===oe.Manager&&a.jsx("div",{className:"mt-4 pt-4 border-t dark:border-gray-700 text-right",children:a.jsx("button",{onClick:()=>f("Permanent"),className:"px-4 py-2 text-sm font-semibold bg-primary-100 text-primary dark:bg-primary-500/20 rounded-md hover:bg-primary-200 dark:hover:bg-primary-500/30",children:"Edit Permanent Menu"})})]})]}),u&&a.jsx(hv,{editingDay:u,menuData:d,onClose:()=>f(null),onSave:b,onSavePermanent:g})]})},gv=()=>{const{user:n,page:c,setPage:d}=ve();if(n)return n.roomStatus===ts.NoRoom?n.role===oe.Manager?a.jsx(Ny,{}):a.jsx(wy,{}):n.roomStatus===ts.Pending?a.jsx(ky,{}):a.jsxs(vy,{children:[c==="dashboard"&&a.jsx(ey,{}),c.startsWith("bills")&&a.jsx(xy,{}),c==="meals"&&a.jsx(Dy,{}),c==="shopping"&&a.jsx(Uy,{}),c==="calendar"&&a.jsx(fv,{}),c==="menu"&&a.jsx(xv,{}),c==="members"&&a.jsx(qy,{}),c==="history"&&a.jsx(Xy,{}),c==="reports-analytics"&&a.jsx(iv,{}),c==="payment-dashboard"&&a.jsx(ev,{}),c==="pending-approvals"&&a.jsx(av,{}),c==="settings"&&a.jsx(Wy,{})]});switch(c){case"login":return a.jsx(Qb,{onNavigateToSignUp:()=>d("signup"),onNavigateToHome:()=>d("landing")});case"signup":return a.jsx(Zb,{onNavigateToLogin:()=>d("login")});case"landing":default:return a.jsx(jy,{onNavigateToLogin:()=>d("login"),onNavigateToSignUp:()=>d("signup")})}},pv=()=>a.jsx(wb,{children:a.jsx(Nb,{children:a.jsxs(Kb,{children:[a.jsx(gv,{}),a.jsx(dv,{})]})})}),mh=document.getElementById("root");if(!mh)throw new Error("Could not find root element to mount to");const bv=Zg.createRoot(mh);bv.render(a.jsx(Cf.StrictMode,{children:a.jsx(pv,{})}));
